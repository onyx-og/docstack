"use strict";(self.webpackChunk_docstack_ui=self.webpackChunk_docstack_ui||[]).push([[3462],{866:(e,t,o)=>{function s(e,t){const o=e;"number"!=typeof o.vscodeWindowId&&Object.defineProperty(o,"vscodeWindowId",{get:()=>t})}o.d(t,{G:()=>r,y:()=>s});const r=window},6008:(e,t,o)=>{o.d(t,{v:()=>i});var s=o(26147),r=o(66030),n=o(73179);class i{constructor(e,t,o={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new s.G6(e,t,null,o),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,o.sorter&&(this.sorter={compare:(e,t)=>o.sorter.compare(e.element,t.element)}),this.identityProvider=o.identityProvider}setChildren(e,t=n.f.empty(),o={}){const s=this.getElementLocation(e);this._setChildren(s,this.preserveCollapseState(t),o)}_setChildren(e,t=n.f.empty(),o){const s=new Set,r=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,{...o,onDidCreateNode:e=>{if(null===e.element)return;const t=e;if(s.add(t.element),this.nodes.set(t.element,t),this.identityProvider){const e=this.identityProvider.getId(t.element).toString();r.add(e),this.nodesByIdentity.set(e,t)}o.onDidCreateNode?.(t)},onDidDeleteNode:e=>{if(null===e.element)return;const t=e;if(s.has(t.element)||this.nodes.delete(t.element),this.identityProvider){const e=this.identityProvider.getId(t.element).toString();r.has(e)||this.nodesByIdentity.delete(e)}o.onDidDeleteNode?.(t)}})}preserveCollapseState(e=n.f.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),n.f.map(e,e=>{let t=this.nodes.get(e.element);if(!t&&this.identityProvider){const o=this.identityProvider.getId(e.element).toString();t=this.nodesByIdentity.get(o)}if(!t){let t;return t=void 0===e.collapsed?void 0:e.collapsed===r.Yo.Collapsed||e.collapsed===r.Yo.PreserveOrCollapsed||e.collapsed!==r.Yo.Expanded&&e.collapsed!==r.Yo.PreserveOrExpanded&&Boolean(e.collapsed),{...e,children:this.preserveCollapseState(e.children),collapsed:t}}const o="boolean"==typeof e.collapsible?e.collapsible:t.collapsible;let s;return s=void 0===e.collapsed||e.collapsed===r.Yo.PreserveOrCollapsed||e.collapsed===r.Yo.PreserveOrExpanded?t.collapsed:e.collapsed===r.Yo.Collapsed||e.collapsed!==r.Yo.Expanded&&Boolean(e.collapsed),{...e,collapsible:o,collapsed:s,children:this.preserveCollapseState(e.children)}})}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}getFirstElementChild(e=null){const t=this.getElementLocation(e);return this.model.getFirstElementChild(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const o=this.getElementLocation(e);return this.model.setCollapsible(o,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,o){const s=this.getElementLocation(e);return this.model.setCollapsed(s,t,o)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(null===e)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new r.jh(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new r.jh(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new r.jh(this.user,`Tree element not found: ${e}`);const o=this.model.getNodeLocation(t),s=this.model.getParentNodeLocation(o);return this.model.getNode(s).element}getElementLocation(e){if(null===e)return[];const t=this.nodes.get(e);if(!t)throw new r.jh(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}},7041:(e,t,o)=>{o.d(t,{_:()=>p,u:()=>l});var s=o(34052),r=o(48651),n=o(6008),i=o(69175),d=o(73179);class l extends s.DO{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(e,t,o,s,r={}){super(e,t,o,s,r),this.user=e}setChildren(e,t=d.f.empty(),o){this.model.setChildren(e,t,o)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,o){return new n.v(e,t,o)}}class a{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(e,t,o){this._compressedTreeNodeProvider=e,this.stickyScrollDelegate=t,this.renderer=o,this.templateId=o.templateId,o.onDidChangeTwistieState&&(this.onDidChangeTwistieState=o.onDidChangeTwistieState)}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,o,s){let r=this.stickyScrollDelegate.getCompressedNode(e);r||(r=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element)),1===r.element.elements.length?(o.compressedTreeNode=void 0,this.renderer.renderElement(e,t,o.data,s)):(o.compressedTreeNode=r,this.renderer.renderCompressedElements(r,t,o.data,s))}disposeElement(e,t,o,s){o.compressedTreeNode?this.renderer.disposeCompressedElements?.(o.compressedTreeNode,t,o.data,s):this.renderer.disposeElement?.(e,t,o.data,s)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}!function(e,t,o,s){var r,n=arguments.length,i=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,o):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,s);else for(var d=e.length-1;d>=0;d--)(r=e[d])&&(i=(n<3?r(i):n>3?r(t,o,i):r(t,o))||i);n>3&&i&&Object.defineProperty(t,o,i)}([i.B],a.prototype,"compressedTreeNodeProvider",null);class h{constructor(e){this.modelProvider=e,this.compressedStickyNodes=new Map}getCompressedNode(e){return this.compressedStickyNodes.get(e)}constrainStickyScrollNodes(e,t,o){if(this.compressedStickyNodes.clear(),0===e.length)return[];for(let s=0;s<e.length;s++){const r=e[s],n=r.position+r.height;if(s+1<e.length&&n+e[s+1].height>o||s>=t-1&&t<e.length){const t=e.slice(0,s),o=e.slice(s);return[...t,this.compressStickyNodes(o)]}}return e}compressStickyNodes(e){if(0===e.length)throw new Error("Can't compress empty sticky nodes");const t=this.modelProvider();if(!t.isCompressionEnabled())return e[0];const o=[];for(let s=0;s<e.length;s++){const r=e[s],n=t.getCompressedTreeNode(r.node.element);if(n.element){if(0!==s&&n.element.incompressible)break;o.push(...n.element.elements)}}if(o.length<2)return e[0];const s=e[e.length-1],r={elements:o,incompressible:!1},n={...s.node,children:[],element:r},i=new Proxy(e[0].node,{}),d={node:i,startIndex:e[0].startIndex,endIndex:s.endIndex,position:e[0].position,height:e[0].height};return this.compressedStickyNodes.set(i,n),d}}function c(e,t){return t&&{...t,keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(o){let s;try{s=e().getCompressedTreeNode(o)}catch{return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(o)}return 1===s.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(o):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(s.element.elements)}}}}class p extends l{constructor(e,t,o,s,r={}){const n=()=>this,i=new h(()=>this.model);super(e,t,o,s.map(e=>new a(n,i,e)),{...c(n,r),stickyScrollDelegate:i})}setChildren(e,t=d.f.empty(),o){this.model.setChildren(e,t,o)}createModel(e,t,o){return new r.LE(e,t,o)}updateOptions(e={}){super.updateOptions(e),void 0!==e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}},39811:(e,t,o)=>{o.d(t,{x:()=>l});var s=o(79284),r=o(44503),n=o(65698),i=o(24267),d=o(32293);class l extends d.jG{onclick(e,t){this._register(s.ko(e,s.Bx.CLICK,o=>t(new n.P(s.zk(e),o))))}onmousedown(e,t){this._register(s.ko(e,s.Bx.MOUSE_DOWN,o=>t(new n.P(s.zk(e),o))))}onmouseover(e,t){this._register(s.ko(e,s.Bx.MOUSE_OVER,o=>t(new n.P(s.zk(e),o))))}onmouseleave(e,t){this._register(s.ko(e,s.Bx.MOUSE_LEAVE,o=>t(new n.P(s.zk(e),o))))}onkeydown(e,t){this._register(s.ko(e,s.Bx.KEY_DOWN,e=>t(new r.Z(e))))}onkeyup(e,t){this._register(s.ko(e,s.Bx.KEY_UP,e=>t(new r.Z(e))))}oninput(e,t){this._register(s.ko(e,s.Bx.INPUT,t))}onblur(e,t){this._register(s.ko(e,s.Bx.BLUR,t))}onfocus(e,t){this._register(s.ko(e,s.Bx.FOCUS,t))}ignoreGesture(e){return i.q.ignoreTarget(e)}}},66030:(e,t,o)=>{var s,r;o.d(t,{Lx:()=>r,Yo:()=>s,jh:()=>n,y2:()=>i}),function(e){e[e.Expanded=0]="Expanded",e[e.Collapsed=1]="Collapsed",e[e.PreserveOrExpanded=2]="PreserveOrExpanded",e[e.PreserveOrCollapsed=3]="PreserveOrCollapsed"}(s||(s={})),function(e){e[e.Unknown=0]="Unknown",e[e.Twistie=1]="Twistie",e[e.Element=2]="Element",e[e.Filter=3]="Filter"}(r||(r={}));class n extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class i{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}}}]);