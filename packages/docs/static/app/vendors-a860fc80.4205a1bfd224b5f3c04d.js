"use strict";(self.webpackChunk_docstack_ui=self.webpackChunk_docstack_ui||[]).push([[881],{77028:(t,e,n)=>{n.d(e,{W1:()=>E});var i=n(65600),o=n(24267),s=n(79284),a=n(44503),c=n(65698),l=n(81244),r=n(66706),m=n(67256),u=n(18083),h=n(95830),d=n(30325),b=n(36972),p=n(55833),g=n(94850),f=n(82279),x=n(32293),y=n(69958),v=n(60891);const w=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,S=/(&amp;)?(&amp;)([^\s&])/g;var k,C;!function(t){t[t.Right=0]="Right",t[t.Left=1]="Left"}(k||(k={})),function(t){t[t.Above=0]="Above",t[t.Below=1]="Below"}(C||(C={}));class E extends l.E{constructor(t,e,n,i){t.classList.add("monaco-menu-container"),t.setAttribute("role","presentation");const c=document.createElement("div");c.classList.add("monaco-menu"),c.setAttribute("role","presentation"),super(c,{orientation:1,actionViewItemProvider:t=>this.doGetActionViewItem(t,n,l),context:n.context,actionRunner:n.actionRunner,ariaLabel:n.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...y.zx||y.j9?[10]:[]],keyDown:!0}}),this.menuStyles=i,this.menuElement=c,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(t,i),this._register(o.q.addTarget(c)),this._register((0,s.ko)(c,s.Bx.KEY_DOWN,t=>{new a.Z(t).equals(2)&&t.preventDefault()})),n.enableMnemonics&&this._register((0,s.ko)(c,s.Bx.KEY_DOWN,t=>{const e=t.key.toLocaleLowerCase();if(this.mnemonics.has(e)){s.fs.stop(t,!0);const n=this.mnemonics.get(e);if(1===n.length&&(n[0]instanceof L&&n[0].container&&this.focusItemByElement(n[0].container),n[0].onClick(t)),n.length>1){const t=n.shift();t&&t.container&&(this.focusItemByElement(t.container),n.push(t)),this.mnemonics.set(e,n)}}})),y.j9&&this._register((0,s.ko)(c,s.Bx.KEY_DOWN,t=>{const e=new a.Z(t);e.equals(14)||e.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),s.fs.stop(t,!0)):(e.equals(13)||e.equals(12))&&(this.focusedItem=0,this.focusPrevious(),s.fs.stop(t,!0))})),this._register((0,s.ko)(this.domNode,s.Bx.MOUSE_OUT,t=>{const e=t.relatedTarget;(0,s.QX)(e,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),t.stopPropagation())})),this._register((0,s.ko)(this.actionsList,s.Bx.MOUSE_OVER,t=>{let e=t.target;if(e&&(0,s.QX)(e,this.actionsList)&&e!==this.actionsList){for(;e.parentElement!==this.actionsList&&null!==e.parentElement;)e=e.parentElement;if(e.classList.contains("action-item")){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}}})),this._register(o.q.addTarget(this.actionsList)),this._register((0,s.ko)(this.actionsList,o.B.Tap,t=>{let e=t.initialTarget;if(e&&(0,s.QX)(e,this.actionsList)&&e!==this.actionsList){for(;e.parentElement!==this.actionsList&&null!==e.parentElement;)e=e.parentElement;if(e.classList.contains("action-item")){const t=this.focusedItem;this.setFocusedItem(e),t!==this.focusedItem&&this.updateFocus()}}}));const l={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new u.MU(c,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const r=this.scrollableElement.getDomNode();r.style.position="",this.styleScrollElement(r,i),this._register((0,s.ko)(c,o.B.Change,t=>{s.fs.stop(t,!0);const e=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:e-t.translationY})})),this._register((0,s.ko)(r,s.Bx.MOUSE_UP,t=>{t.preventDefault()}));const m=(0,s.zk)(t);c.style.maxHeight=`${Math.max(10,m.innerHeight-t.getBoundingClientRect().top-35)}px`,e=e.filter((t,i)=>{if(n.submenuIds?.has(t.id))return console.warn(`Found submenu cycle: ${t.id}`),!1;if(t instanceof h.wv){if(i===e.length-1||0===i)return!1;if(e[i-1]instanceof h.wv)return!1}return!0}),this.push(e,{icon:!0,label:!0,isMenu:!0}),t.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(t=>!(t instanceof D)).forEach((t,e,n)=>{t.updatePositionInSet(e+1,n.length)})}initializeOrUpdateStyleSheet(t,e){this.styleSheet||((0,s.Cl)(t)?this.styleSheet=(0,s.li)(t):(E.globalStyleSheet||(E.globalStyleSheet=(0,s.li)()),this.styleSheet=E.globalStyleSheet)),this.styleSheet.textContent=function(t,e){let n=`\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${I(b.W.menuSelection)}\n${I(b.W.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n\tmargin: 0 4px;\n\tborder-radius: 4px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: 4px 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n\tmax-height: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(e){n+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const e=t.scrollbarShadow;e&&(n+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${e} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${e} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${e} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const i=t.scrollbarSliderBackground;i&&(n+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${i};\n\t\t\t\t}\n\t\t\t`);const o=t.scrollbarSliderHoverBackground;o&&(n+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${o};\n\t\t\t\t}\n\t\t\t`);const s=t.scrollbarSliderActiveBackground;s&&(n+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${s};\n\t\t\t\t}\n\t\t\t`)}return n}(e,(0,s.Cl)(t))}styleScrollElement(t,e){const n=e.foregroundColor??"",i=e.backgroundColor??"",o=e.borderColor?`1px solid ${e.borderColor}`:"",s=e.shadowColor?`0 2px 8px ${e.shadowColor}`:"";t.style.outline=o,t.style.borderRadius="5px",t.style.color=n,t.style.backgroundColor=i,t.style.boxShadow=s}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(t){const e=this.focusedItem;this.setFocusedItem(t),e!==this.focusedItem&&this.updateFocus()}setFocusedItem(t){for(let e=0;e<this.actionsList.children.length;e++)if(t===this.actionsList.children[e]){this.focusedItem=e;break}}updateFocus(t){super.updateFocus(t,!0,!0),void 0!==this.focusedItem&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(t,e,n){if(t instanceof h.wv)return new D(e.context,t,{icon:!0},this.menuStyles);if(t instanceof h.YH){const i=new L(t,t.actions,n,{...e,submenuIds:new Set([...e.submenuIds||[],t.id])},this.menuStyles);if(e.enableMnemonics){const t=i.getMnemonic();if(t&&i.isEnabled()){let e=[];this.mnemonics.has(t)&&(e=this.mnemonics.get(t)),e.push(i),this.mnemonics.set(t,e)}}return i}{const n={enableMnemonics:e.enableMnemonics,useEventAsContext:e.useEventAsContext};if(e.getKeyBinding){const i=e.getKeyBinding(t);if(i){const t=i.getLabel();t&&(n.keybinding=t)}}const i=new B(e.context,t,n,this.menuStyles);if(e.enableMnemonics){const t=i.getMnemonic();if(t&&i.isEnabled()){let e=[];this.mnemonics.has(t)&&(e=this.mnemonics.get(t)),e.push(i),this.mnemonics.set(t,e)}}return i}}}class B extends r.EH{constructor(t,e,n,o){if(n.isMenu=!0,super(e,e,n),this.menuStyle=o,this.options=n,this.options.icon=void 0!==n.icon&&n.icon,this.options.label=void 0===n.label||n.label,this.cssClass="",this.options.label&&n.enableMnemonics){const t=this.action.label;if(t){const e=w.exec(t);e&&(this.mnemonic=(e[1]?e[1]:e[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new d.uC(()=>{this.element&&(this._register((0,s.ko)(this.element,s.Bx.MOUSE_UP,t=>{if(s.fs.stop(t,!0),i.gm){if(new c.P((0,s.zk)(this.element),t).rightButton)return;this.onClick(t)}else setTimeout(()=>{this.onClick(t)},0)})),this._register((0,s.ko)(this.element,s.Bx.CONTEXT_MENU,t=>{s.fs.stop(t,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(t){super.render(t),this.element&&(this.container=t,this.item=(0,s.BC)(this.element,(0,s.$)("a.action-menu-item")),this._action.id===h.wv.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,s.BC)(this.item,(0,s.$)("span.menu-item-check"+g.L.asCSSSelector(b.W.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,s.BC)(this.item,(0,s.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,s.BC)(this.item,(0,s.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item?.focus(),this.applyStyle()}updatePositionInSet(t,e){this.item&&(this.item.setAttribute("aria-posinset",`${t}`),this.item.setAttribute("aria-setsize",`${e}`))}updateLabel(){if(this.label&&this.options.label){(0,s.w_)(this.label);let t=(0,f.pS)(this.action.label);if(t){const e=function(t){const e=w,n=e.exec(t);if(!n)return t;const i=!n[1];return t.replace(e,i?"$2$3":"").trim()}(t);this.options.enableMnemonics||(t=e),this.label.setAttribute("aria-label",e.replace(/&&/g,"&"));const n=w.exec(t);if(n){t=v.ih(t),S.lastIndex=0;let e=S.exec(t);for(;e&&e[1];)e=S.exec(t);const i=t=>t.replace(/&amp;&amp;/g,"&amp;");e?this.label.append(v.NB(i(t.substr(0,e.index))," "),(0,s.$)("u",{"aria-hidden":"true"},e[3]),v.BO(i(t.substr(e.index+e[0].length))," ")):this.label.innerText=i(t).trim(),this.item?.setAttribute("aria-keyshortcuts",(n[1]?n[1]:n[3]).toLocaleLowerCase())}else this.label.innerText=t.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const t=this.action.checked;this.item.classList.toggle("checked",!!t),void 0!==t?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",t?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const t=this.element&&this.element.classList.contains("focused"),e=t&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,n=t&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,i=t&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",o=t&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=e??"",this.item.style.backgroundColor=n??"",this.item.style.outline=i,this.item.style.outlineOffset=o),this.check&&(this.check.style.color=e??"")}}class L extends B{constructor(t,e,n,i,o){super(t,t,i,o),this.submenuActions=e,this.parentData=n,this.submenuOptions=i,this.mysubmenu=null,this.submenuDisposables=this._register(new x.Cm),this.mouseOver=!1,this.expandDirection=i&&void 0!==i.expandDirection?i.expandDirection:{horizontal:k.Right,vertical:C.Below},this.showScheduler=new d.uC(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new d.uC(()=>{this.element&&!(0,s.QX)((0,s.bq)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(t){super.render(t),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,s.BC)(this.item,(0,s.$)("span.submenu-indicator"+g.L.asCSSSelector(b.W.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,s.ko)(this.element,s.Bx.KEY_UP,t=>{const e=new a.Z(t);(e.equals(17)||e.equals(3))&&(s.fs.stop(t,!0),this.createSubmenu(!0))})),this._register((0,s.ko)(this.element,s.Bx.KEY_DOWN,t=>{const e=new a.Z(t);(0,s.bq)()===this.item&&(e.equals(17)||e.equals(3))&&s.fs.stop(t,!0)})),this._register((0,s.ko)(this.element,s.Bx.MOUSE_OVER,t=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,s.ko)(this.element,s.Bx.MOUSE_LEAVE,t=>{this.mouseOver=!1})),this._register((0,s.ko)(this.element,s.Bx.FOCUS_OUT,t=>{this.element&&!(0,s.QX)((0,s.bq)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(t){s.fs.stop(t,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(t){if(this.parentData.submenu&&(t||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(t,e,n,i){const o={top:0,left:0};return o.left=(0,m.Zp)(t.width,e.width,{position:i.horizontal===k.Right?0:1,offset:n.left,size:n.width}),o.left>=n.left&&o.left<n.left+n.width&&(n.left+10+e.width<=t.width&&(o.left=n.left+10),n.top+=10,n.height=0),o.top=(0,m.Zp)(t.height,e.height,{position:0,offset:n.top,size:0}),o.top+e.height===n.top&&o.top+n.height+e.height<=t.height&&(o.top+=n.height),o}createSubmenu(t=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,s.BC)(this.element,(0,s.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const e=(0,s.zk)(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),n=parseFloat(e.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new E(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new h.HJ],this.submenuOptions,this.menuStyle);const i=this.element.getBoundingClientRect(),o={top:i.top-n,left:i.left,height:i.height+2*n,width:i.width},c=this.submenuContainer.getBoundingClientRect(),l=(0,s.zk)(this.element),{top:r,left:m}=this.calculateSubmenuMenuLayout(new s.fg(l.innerWidth,l.innerHeight),s.fg.lift(c),o,this.expandDirection);this.submenuContainer.style.left=m-c.left+"px",this.submenuContainer.style.top=r-c.top+"px",this.submenuDisposables.add((0,s.ko)(this.submenuContainer,s.Bx.KEY_UP,t=>{new a.Z(t).equals(15)&&(s.fs.stop(t,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,s.ko)(this.submenuContainer,s.Bx.KEY_DOWN,t=>{new a.Z(t).equals(15)&&s.fs.stop(t,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(t),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(t){this.item&&this.item?.setAttribute("aria-expanded",t)}applyStyle(){super.applyStyle();const t=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=t??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class D extends r.Z4{constructor(t,e,n,i){super(t,e,n),this.menuStyles=i}render(t){super.render(t),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function I(t){const e=(0,p.J)()[t.id];return`.codicon-${t.id}:before { content: '\\${e.toString(16)}'; }`}}}]);