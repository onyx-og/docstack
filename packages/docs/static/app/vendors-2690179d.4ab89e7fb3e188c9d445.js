"use strict";(self.webpackChunk_docstack_ui=self.webpackChunk_docstack_ui||[]).push([[9317],{25743:(e,t,n)=>{n.d(t,{i:()=>f});var s=n(56890),a=n(87961);const o=new Set([a.TAG_ID.DD,a.TAG_ID.DT,a.TAG_ID.LI,a.TAG_ID.OPTGROUP,a.TAG_ID.OPTION,a.TAG_ID.P,a.TAG_ID.RB,a.TAG_ID.RP,a.TAG_ID.RT,a.TAG_ID.RTC]),T=new Set([...o,a.TAG_ID.CAPTION,a.TAG_ID.COLGROUP,a.TAG_ID.TBODY,a.TAG_ID.TD,a.TAG_ID.TFOOT,a.TAG_ID.TH,a.TAG_ID.THEAD,a.TAG_ID.TR]),r=new Set([a.TAG_ID.APPLET,a.TAG_ID.CAPTION,a.TAG_ID.HTML,a.TAG_ID.MARQUEE,a.TAG_ID.OBJECT,a.TAG_ID.TABLE,a.TAG_ID.TD,a.TAG_ID.TEMPLATE,a.TAG_ID.TH]),i=new Set([...r,a.TAG_ID.OL,a.TAG_ID.UL]),c=new Set([...r,a.TAG_ID.BUTTON]),A=new Set([a.TAG_ID.ANNOTATION_XML,a.TAG_ID.MI,a.TAG_ID.MN,a.TAG_ID.MO,a.TAG_ID.MS,a.TAG_ID.MTEXT]),I=new Set([a.TAG_ID.DESC,a.TAG_ID.FOREIGN_OBJECT,a.TAG_ID.TITLE]),_=new Set([a.TAG_ID.TR,a.TAG_ID.TEMPLATE,a.TAG_ID.HTML]),E=new Set([a.TAG_ID.TBODY,a.TAG_ID.TFOOT,a.TAG_ID.THEAD,a.TAG_ID.TEMPLATE,a.TAG_ID.HTML]),l=new Set([a.TAG_ID.TABLE,a.TAG_ID.TEMPLATE,a.TAG_ID.HTML]),D=new Set([a.TAG_ID.TD,a.TAG_ID.TH]);class p{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,n){this.treeAdapter=t,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=a.TAG_ID.UNKNOWN,this.current=e}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===a.TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===a.NS.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0)}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0)}replace(e,t){const n=this._indexOf(e);this.items[n]=t,n===this.stackTop&&(this.current=t)}insertAfter(e,t,n){const s=this._indexOf(e)+1;this.items.splice(s,0,t),this.tagIDs.splice(s,0,n),this.stackTop++,s===this.stackTop&&this._updateCurrentElement(),this.current&&void 0!==this.currentTagId&&this.handler.onItemPush(this.current,this.currentTagId,s===this.stackTop)}popUntilTagNamePopped(e){let t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1)}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==a.NS.HTML);this.shortenToLength(Math.max(t,0))}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e)}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(Math.max(t,0))}popUntilPopped(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(a.NUMBERED_HEADERS,a.NS.HTML)}popUntilTableCellPopped(){this.popUntilPopped(D,a.NS.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(e,t){for(let n=this.stackTop;n>=0;n--)if(e.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===t)return n;return-1}clearBackTo(e,t){const n=this._indexOfTagNames(e,t);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(l,a.NS.HTML)}clearBackToTableBodyContext(){this.clearBackTo(E,a.NS.HTML)}clearBackToTableRowContext(){this.clearBackTo(_,a.NS.HTML)}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===a.TAG_ID.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===a.TAG_ID.HTML}hasInDynamicScope(e,t){for(let n=this.stackTop;n>=0;n--){const s=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case a.NS.HTML:if(s===e)return!0;if(t.has(s))return!1;break;case a.NS.SVG:if(I.has(s))return!1;break;case a.NS.MATHML:if(A.has(s))return!1}}return!0}hasInScope(e){return this.hasInDynamicScope(e,r)}hasInListItemScope(e){return this.hasInDynamicScope(e,i)}hasInButtonScope(e){return this.hasInDynamicScope(e,c)}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];switch(this.treeAdapter.getNamespaceURI(this.items[e])){case a.NS.HTML:if(a.NUMBERED_HEADERS.has(t))return!0;if(r.has(t))return!1;break;case a.NS.SVG:if(I.has(t))return!1;break;case a.NS.MATHML:if(A.has(t))return!1}}return!0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===a.NS.HTML)switch(this.tagIDs[t]){case e:return!0;case a.TAG_ID.TABLE:case a.TAG_ID.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--)if(this.treeAdapter.getNamespaceURI(this.items[e])===a.NS.HTML)switch(this.tagIDs[e]){case a.TAG_ID.TBODY:case a.TAG_ID.THEAD:case a.TAG_ID.TFOOT:return!0;case a.TAG_ID.TABLE:case a.TAG_ID.HTML:return!1}return!0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===a.NS.HTML)switch(this.tagIDs[t]){case e:return!0;case a.TAG_ID.OPTION:case a.TAG_ID.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;void 0!==this.currentTagId&&o.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;void 0!==this.currentTagId&&T.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(e){for(;void 0!==this.currentTagId&&this.currentTagId!==e&&T.has(this.currentTagId);)this.pop()}}var m;!function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"}(m||(m={}));const h={type:m.Marker};class d{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(e,t){const n=[],s=t.length,a=this.treeAdapter.getTagName(e),o=this.treeAdapter.getNamespaceURI(e);for(let e=0;e<this.entries.length;e++){const t=this.entries[e];if(t.type===m.Marker)break;const{element:T}=t;if(this.treeAdapter.getTagName(T)===a&&this.treeAdapter.getNamespaceURI(T)===o){const t=this.treeAdapter.getAttrList(T);t.length===s&&n.push({idx:e,attrs:t})}}return n}_ensureNoahArkCondition(e){if(this.entries.length<3)return;const t=this.treeAdapter.getAttrList(e),n=this._getNoahArkConditionCandidates(e,t);if(n.length<3)return;const s=new Map(t.map(e=>[e.name,e.value]));let a=0;for(let e=0;e<n.length;e++){const t=n[e];t.attrs.every(e=>s.get(e.name)===e.value)&&(a+=1,a>=3&&this.entries.splice(t.idx,1))}}insertMarker(){this.entries.unshift(h)}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:m.Element,element:e,token:t})}insertElementAfterBookmark(e,t){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:m.Element,element:e,token:t})}removeEntry(e){const t=this.entries.indexOf(e);-1!==t&&this.entries.splice(t,1)}clearToLastMarker(){const e=this.entries.indexOf(h);-1===e?this.entries.length=0:this.entries.splice(0,e+1)}getElementEntryInScopeWithTagName(e){const t=this.entries.find(t=>t.type===m.Marker||this.treeAdapter.getTagName(t.element)===e);return t&&t.type===m.Element?t:null}getElementEntry(e){return this.entries.find(t=>t.type===m.Element&&t.element===e)}}var G,N=n(40491),u=n(74332),L=n(29434),g=n(34731),O=n(43369),k=n(38879);!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"}(G||(G={}));const M={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},C=new Set([a.TAG_ID.TABLE,a.TAG_ID.TBODY,a.TAG_ID.TFOOT,a.TAG_ID.THEAD,a.TAG_ID.TR]),S={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:N.j,onParseError:null};class f{constructor(e,t,n=null,o=null){this.fragmentContext=n,this.scriptHandler=o,this.currentToken=null,this.stopped=!1,this.insertionMode=G.INITIAL,this.originalInsertionMode=G.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...S,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new s._(this.options,this),this.activeFormattingElements=new d(this.treeAdapter),this.fragmentContextID=n?(0,a.getTagID)(this.treeAdapter.getTagName(n)):a.TAG_ID.UNKNOWN,this._setContextModes(null!=n?n:this.document,this.fragmentContextID),this.openElements=new p(this.document,this.treeAdapter,this)}static parse(e,t){const n=new this(t);return n.tokenizer.write(e,!0),n.document}static getFragmentParser(e,t){const n={...S,...t};null!=e||(e=n.treeAdapter.createElement(a.TAG_NAMES.TEMPLATE,a.NS.HTML,[]));const s=n.treeAdapter.createElement("documentmock",a.NS.HTML,[]),o=new this(n,s,e);return o.fragmentContextID===a.TAG_ID.TEMPLATE&&o.tmplInsertionModeStack.unshift(G.IN_TEMPLATE),o._initTokenizerForFragmentParsing(),o._insertFakeRootElement(),o._resetInsertionMode(),o._findFormInFragmentContext(),o}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,n){var s;if(!this.onParseError)return;const a=null!==(s=e.location)&&void 0!==s?s:M,o={code:t,startLine:a.startLine,startCol:a.startCol,startOffset:a.startOffset,endLine:n?a.startLine:a.endLine,endCol:n?a.startCol:a.endCol,endOffset:n?a.startOffset:a.endOffset};this.onParseError(o)}onItemPush(e,t,n){var s,a;null===(a=(s=this.treeAdapter).onItemPush)||void 0===a||a.call(s,e),n&&this.openElements.stackTop>0&&this._setContextModes(e,t)}onItemPop(e,t){var n,s;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(s=(n=this.treeAdapter).onItemPop)||void 0===s||s.call(n,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):({current:e,currentTagId:t}=this.openElements),this._setContextModes(e,t)}}_setContextModes(e,t){const n=e===this.document||e&&this.treeAdapter.getNamespaceURI(e)===a.NS.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&void 0!==e&&void 0!==t&&!this._isIntegrationPoint(t,e)}_switchToTextParsing(e,t){this._insertElement(e,a.NS.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=G.TEXT}switchToPlaintextParsing(){this.insertionMode=G.TEXT,this.originalInsertionMode=G.IN_BODY,this.tokenizer.state=s.V.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===a.TAG_NAMES.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e)}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===a.NS.HTML)switch(this.fragmentContextID){case a.TAG_ID.TITLE:case a.TAG_ID.TEXTAREA:this.tokenizer.state=s.V.RCDATA;break;case a.TAG_ID.STYLE:case a.TAG_ID.XMP:case a.TAG_ID.IFRAME:case a.TAG_ID.NOEMBED:case a.TAG_ID.NOFRAMES:case a.TAG_ID.NOSCRIPT:this.tokenizer.state=s.V.RAWTEXT;break;case a.TAG_ID.SCRIPT:this.tokenizer.state=s.V.SCRIPT_DATA;break;case a.TAG_ID.PLAINTEXT:this.tokenizer.state=s.V.PLAINTEXT}}_setDocumentType(e){const t=e.name||"",n=e.publicId||"",s=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,n,s),e.location){const t=this.treeAdapter.getChildNodes(this.document).find(e=>this.treeAdapter.isDocumentTypeNode(e));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location)}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const n=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else{const t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(null!=t?t:this.document,e)}}_appendElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location)}_insertElement(e,t){const n=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(n,e.location),this.openElements.push(n,e.tagID)}_insertFakeElement(e,t){const n=this.treeAdapter.createElement(e,a.NS.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,t)}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,a.NS.HTML,e.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,n),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const e=this.treeAdapter.createElement(a.TAG_NAMES.HTML,a.NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,a.TAG_ID.HTML)}_appendCommentNode(e,t){const n=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location)}_insertCharacters(e){let t,n;if(this._shouldFosterParentOnInsertion()?(({parent:t,beforeElement:n}=this._findFosterParentingLocation()),n?this.treeAdapter.insertTextBefore(t,e.chars,n):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const s=this.treeAdapter.getChildNodes(t),a=n?s.lastIndexOf(n):s.length,o=s[a-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:t,endCol:n,endOffset:s}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:t,endCol:n,endOffset:s})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,e.location)}_adoptNodes(e,t){for(let n=this.treeAdapter.getFirstChild(e);n;n=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(t,n)}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const n=t.location,s=this.treeAdapter.getTagName(e),a=t.type===k.k.END_TAG&&s===t.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,a)}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return!1;let t,n;return 0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,n=this.fragmentContextID):({current:t,currentTagId:n}=this.openElements),(e.tagID!==a.TAG_ID.SVG||this.treeAdapter.getTagName(t)!==a.TAG_NAMES.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==a.NS.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===a.TAG_ID.MGLYPH||e.tagID===a.TAG_ID.MALIGNMARK)&&void 0!==n&&!this._isIntegrationPoint(n,t,a.NS.HTML))}_processToken(e){switch(e.type){case k.k.CHARACTER:this.onCharacter(e);break;case k.k.NULL_CHARACTER:this.onNullCharacter(e);break;case k.k.COMMENT:this.onComment(e);break;case k.k.DOCTYPE:this.onDoctype(e);break;case k.k.START_TAG:this._processStartTag(e);break;case k.k.END_TAG:this.onEndTag(e);break;case k.k.EOF:this.onEof(e);break;case k.k.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e)}}_isIntegrationPoint(e,t,n){const s=this.treeAdapter.getNamespaceURI(t),a=this.treeAdapter.getAttrList(t);return L.nv(e,s,a,n)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex(e=>e.type===m.Marker||this.openElements.contains(e.element));for(let n=-1===t?e-1:t-1;n>=0;n--){const e=this.activeFormattingElements.entries[n];this._insertElement(e.token,this.treeAdapter.getNamespaceURI(e.element)),e.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=G.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(a.TAG_ID.P),this.openElements.popUntilTagNamePopped(a.TAG_ID.P)}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case a.TAG_ID.TR:return void(this.insertionMode=G.IN_ROW);case a.TAG_ID.TBODY:case a.TAG_ID.THEAD:case a.TAG_ID.TFOOT:return void(this.insertionMode=G.IN_TABLE_BODY);case a.TAG_ID.CAPTION:return void(this.insertionMode=G.IN_CAPTION);case a.TAG_ID.COLGROUP:return void(this.insertionMode=G.IN_COLUMN_GROUP);case a.TAG_ID.TABLE:return void(this.insertionMode=G.IN_TABLE);case a.TAG_ID.BODY:return void(this.insertionMode=G.IN_BODY);case a.TAG_ID.FRAMESET:return void(this.insertionMode=G.IN_FRAMESET);case a.TAG_ID.SELECT:return void this._resetInsertionModeForSelect(e);case a.TAG_ID.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case a.TAG_ID.HTML:return void(this.insertionMode=this.headElement?G.AFTER_HEAD:G.BEFORE_HEAD);case a.TAG_ID.TD:case a.TAG_ID.TH:if(e>0)return void(this.insertionMode=G.IN_CELL);break;case a.TAG_ID.HEAD:if(e>0)return void(this.insertionMode=G.IN_HEAD)}this.insertionMode=G.IN_BODY}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.tagIDs[t];if(e===a.TAG_ID.TEMPLATE)break;if(e===a.TAG_ID.TABLE)return void(this.insertionMode=G.IN_SELECT_IN_TABLE)}this.insertionMode=G.IN_SELECT}_isElementCausesFosterParenting(e){return C.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&void 0!==this.openElements.currentTagId&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case a.TAG_ID.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===a.NS.HTML)return{parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case a.TAG_ID.TABLE:{const n=this.treeAdapter.getParentNode(t);return n?{parent:n,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e)}_isSpecialElement(e,t){const n=this.treeAdapter.getNamespaceURI(e);return a.SPECIAL_ELEMENTS[n].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){e._insertCharacters(t),e.framesetOk=!1}(this,e);else switch(this.insertionMode){case G.INITIAL:x(this,e);break;case G.BEFORE_HTML:w(this,e);break;case G.BEFORE_HEAD:y(this,e);break;case G.IN_HEAD:V(this,e);break;case G.IN_HEAD_NO_SCRIPT:K(this,e);break;case G.AFTER_HEAD:z(this,e);break;case G.IN_BODY:case G.IN_CAPTION:case G.IN_CELL:case G.IN_TEMPLATE:J(this,e);break;case G.TEXT:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:oe(this,e);break;case G.IN_TABLE_TEXT:Ae(this,e);break;case G.IN_COLUMN_GROUP:le(this,e);break;case G.AFTER_BODY:Le(this,e);break;case G.AFTER_AFTER_BODY:ge(this,e)}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){t.chars=O.L4,e._insertCharacters(t)}(this,e);else switch(this.insertionMode){case G.INITIAL:x(this,e);break;case G.BEFORE_HTML:w(this,e);break;case G.BEFORE_HEAD:y(this,e);break;case G.IN_HEAD:V(this,e);break;case G.IN_HEAD_NO_SCRIPT:K(this,e);break;case G.AFTER_HEAD:z(this,e);break;case G.TEXT:this._insertCharacters(e);break;case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:oe(this,e);break;case G.IN_COLUMN_GROUP:le(this,e);break;case G.AFTER_BODY:Le(this,e);break;case G.AFTER_AFTER_BODY:ge(this,e)}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)Y(this,e);else switch(this.insertionMode){case G.INITIAL:case G.BEFORE_HTML:case G.BEFORE_HEAD:case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:case G.IN_BODY:case G.IN_TABLE:case G.IN_CAPTION:case G.IN_COLUMN_GROUP:case G.IN_TABLE_BODY:case G.IN_ROW:case G.IN_CELL:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:case G.IN_TEMPLATE:case G.IN_FRAMESET:case G.AFTER_FRAMESET:Y(this,e);break;case G.IN_TABLE_TEXT:Ie(this,e);break;case G.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0])}(this,e);break;case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document)}(this,e)}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case G.INITIAL:!function(e,t){e._setDocumentType(t);const n=t.forceQuirks?a.DOCUMENT_MODE.QUIRKS:u.d(t);u.n(t)||e._err(t,g.s.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=G.BEFORE_HTML}(this,e);break;case G.BEFORE_HEAD:case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:this._err(e,g.s.misplacedDoctype);break;case G.IN_TABLE_TEXT:Ie(this,e)}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,g.s.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(L.ly(t))Oe(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),s=e.treeAdapter.getNamespaceURI(n);s===a.NS.MATHML?L.yY(t):s===a.NS.SVG&&(L._j(t),L.pc(t)),L.aq(t),t.selfClosing?e._appendElement(t,s):e._insertElement(t,s),t.ackSelfClosing=!0}}(this,e):this._startTagOutsideForeignContent(e)}_startTagOutsideForeignContent(e){switch(this.insertionMode){case G.INITIAL:x(this,e);break;case G.BEFORE_HTML:!function(e,t){t.tagID===a.TAG_ID.HTML?(e._insertElement(t,a.NS.HTML),e.insertionMode=G.BEFORE_HEAD):w(e,t)}(this,e);break;case G.BEFORE_HEAD:!function(e,t){switch(t.tagID){case a.TAG_ID.HTML:te(e,t);break;case a.TAG_ID.HEAD:e._insertElement(t,a.NS.HTML),e.headElement=e.openElements.current,e.insertionMode=G.IN_HEAD;break;default:y(e,t)}}(this,e);break;case G.IN_HEAD:W(this,e);break;case G.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case a.TAG_ID.HTML:te(e,t);break;case a.TAG_ID.BASEFONT:case a.TAG_ID.BGSOUND:case a.TAG_ID.HEAD:case a.TAG_ID.LINK:case a.TAG_ID.META:case a.TAG_ID.NOFRAMES:case a.TAG_ID.STYLE:W(e,t);break;case a.TAG_ID.NOSCRIPT:e._err(t,g.s.nestedNoscriptInHead);break;default:K(e,t)}}(this,e);break;case G.AFTER_HEAD:!function(e,t){switch(t.tagID){case a.TAG_ID.HTML:te(e,t);break;case a.TAG_ID.BODY:e._insertElement(t,a.NS.HTML),e.framesetOk=!1,e.insertionMode=G.IN_BODY;break;case a.TAG_ID.FRAMESET:e._insertElement(t,a.NS.HTML),e.insertionMode=G.IN_FRAMESET;break;case a.TAG_ID.BASE:case a.TAG_ID.BASEFONT:case a.TAG_ID.BGSOUND:case a.TAG_ID.LINK:case a.TAG_ID.META:case a.TAG_ID.NOFRAMES:case a.TAG_ID.SCRIPT:case a.TAG_ID.STYLE:case a.TAG_ID.TEMPLATE:case a.TAG_ID.TITLE:e._err(t,g.s.abandonedHeadElementChild),e.openElements.push(e.headElement,a.TAG_ID.HEAD),W(e,t),e.openElements.remove(e.headElement);break;case a.TAG_ID.HEAD:e._err(t,g.s.misplacedStartTagForHeadElement);break;default:z(e,t)}}(this,e);break;case G.IN_BODY:te(this,e);break;case G.IN_TABLE:Te(this,e);break;case G.IN_TABLE_TEXT:Ie(this,e);break;case G.IN_CAPTION:!function(e,t){const n=t.tagID;_e.has(n)?e.openElements.hasInTableScope(a.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(a.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=G.IN_TABLE,Te(e,t)):te(e,t)}(this,e);break;case G.IN_COLUMN_GROUP:Ee(this,e);break;case G.IN_TABLE_BODY:De(this,e);break;case G.IN_ROW:me(this,e);break;case G.IN_CELL:!function(e,t){const n=t.tagID;_e.has(n)?(e.openElements.hasInTableScope(a.TAG_ID.TD)||e.openElements.hasInTableScope(a.TAG_ID.TH))&&(e._closeTableCell(),me(e,t)):te(e,t)}(this,e);break;case G.IN_SELECT:de(this,e);break;case G.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===a.TAG_ID.CAPTION||n===a.TAG_ID.TABLE||n===a.TAG_ID.TBODY||n===a.TAG_ID.TFOOT||n===a.TAG_ID.THEAD||n===a.TAG_ID.TR||n===a.TAG_ID.TD||n===a.TAG_ID.TH?(e.openElements.popUntilTagNamePopped(a.TAG_ID.SELECT),e._resetInsertionMode(),e._processStartTag(t)):de(e,t)}(this,e);break;case G.IN_TEMPLATE:!function(e,t){switch(t.tagID){case a.TAG_ID.BASE:case a.TAG_ID.BASEFONT:case a.TAG_ID.BGSOUND:case a.TAG_ID.LINK:case a.TAG_ID.META:case a.TAG_ID.NOFRAMES:case a.TAG_ID.SCRIPT:case a.TAG_ID.STYLE:case a.TAG_ID.TEMPLATE:case a.TAG_ID.TITLE:W(e,t);break;case a.TAG_ID.CAPTION:case a.TAG_ID.COLGROUP:case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:e.tmplInsertionModeStack[0]=G.IN_TABLE,e.insertionMode=G.IN_TABLE,Te(e,t);break;case a.TAG_ID.COL:e.tmplInsertionModeStack[0]=G.IN_COLUMN_GROUP,e.insertionMode=G.IN_COLUMN_GROUP,Ee(e,t);break;case a.TAG_ID.TR:e.tmplInsertionModeStack[0]=G.IN_TABLE_BODY,e.insertionMode=G.IN_TABLE_BODY,De(e,t);break;case a.TAG_ID.TD:case a.TAG_ID.TH:e.tmplInsertionModeStack[0]=G.IN_ROW,e.insertionMode=G.IN_ROW,me(e,t);break;default:e.tmplInsertionModeStack[0]=G.IN_BODY,e.insertionMode=G.IN_BODY,te(e,t)}}(this,e);break;case G.AFTER_BODY:!function(e,t){t.tagID===a.TAG_ID.HTML?te(e,t):Le(e,t)}(this,e);break;case G.IN_FRAMESET:!function(e,t){switch(t.tagID){case a.TAG_ID.HTML:te(e,t);break;case a.TAG_ID.FRAMESET:e._insertElement(t,a.NS.HTML);break;case a.TAG_ID.FRAME:e._appendElement(t,a.NS.HTML),t.ackSelfClosing=!0;break;case a.TAG_ID.NOFRAMES:W(e,t)}}(this,e);break;case G.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case a.TAG_ID.HTML:te(e,t);break;case a.TAG_ID.NOFRAMES:W(e,t)}}(this,e);break;case G.AFTER_AFTER_BODY:!function(e,t){t.tagID===a.TAG_ID.HTML?te(e,t):ge(e,t)}(this,e);break;case G.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case a.TAG_ID.HTML:te(e,t);break;case a.TAG_ID.NOFRAMES:W(e,t)}}(this,e)}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===a.TAG_ID.P||t.tagID===a.TAG_ID.BR)return Oe(e),void e._endTagOutsideForeignContent(t);for(let n=e.openElements.stackTop;n>0;n--){const s=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(s)===a.NS.HTML){e._endTagOutsideForeignContent(t);break}const o=e.treeAdapter.getTagName(s);if(o.toLowerCase()===t.tagName){t.tagName=o,e.openElements.shortenToLength(n);break}}}(this,e):this._endTagOutsideForeignContent(e)}_endTagOutsideForeignContent(e){switch(this.insertionMode){case G.INITIAL:x(this,e);break;case G.BEFORE_HTML:!function(e,t){const n=t.tagID;n!==a.TAG_ID.HTML&&n!==a.TAG_ID.HEAD&&n!==a.TAG_ID.BODY&&n!==a.TAG_ID.BR||w(e,t)}(this,e);break;case G.BEFORE_HEAD:!function(e,t){const n=t.tagID;n===a.TAG_ID.HEAD||n===a.TAG_ID.BODY||n===a.TAG_ID.HTML||n===a.TAG_ID.BR?y(e,t):e._err(t,g.s.endTagWithoutMatchingOpenElement)}(this,e);break;case G.IN_HEAD:!function(e,t){switch(t.tagID){case a.TAG_ID.HEAD:e.openElements.pop(),e.insertionMode=G.AFTER_HEAD;break;case a.TAG_ID.BODY:case a.TAG_ID.BR:case a.TAG_ID.HTML:V(e,t);break;case a.TAG_ID.TEMPLATE:X(e,t);break;default:e._err(t,g.s.endTagWithoutMatchingOpenElement)}}(this,e);break;case G.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case a.TAG_ID.NOSCRIPT:e.openElements.pop(),e.insertionMode=G.IN_HEAD;break;case a.TAG_ID.BR:K(e,t);break;default:e._err(t,g.s.endTagWithoutMatchingOpenElement)}}(this,e);break;case G.AFTER_HEAD:!function(e,t){switch(t.tagID){case a.TAG_ID.BODY:case a.TAG_ID.HTML:case a.TAG_ID.BR:z(e,t);break;case a.TAG_ID.TEMPLATE:X(e,t);break;default:e._err(t,g.s.endTagWithoutMatchingOpenElement)}}(this,e);break;case G.IN_BODY:se(this,e);break;case G.TEXT:!function(e,t){var n;t.tagID===a.TAG_ID.SCRIPT&&(null===(n=e.scriptHandler)||void 0===n||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}(this,e);break;case G.IN_TABLE:re(this,e);break;case G.IN_TABLE_TEXT:Ie(this,e);break;case G.IN_CAPTION:!function(e,t){const n=t.tagID;switch(n){case a.TAG_ID.CAPTION:case a.TAG_ID.TABLE:e.openElements.hasInTableScope(a.TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(a.TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=G.IN_TABLE,n===a.TAG_ID.TABLE&&re(e,t));break;case a.TAG_ID.BODY:case a.TAG_ID.COL:case a.TAG_ID.COLGROUP:case a.TAG_ID.HTML:case a.TAG_ID.TBODY:case a.TAG_ID.TD:case a.TAG_ID.TFOOT:case a.TAG_ID.TH:case a.TAG_ID.THEAD:case a.TAG_ID.TR:break;default:se(e,t)}}(this,e);break;case G.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case a.TAG_ID.COLGROUP:e.openElements.currentTagId===a.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=G.IN_TABLE);break;case a.TAG_ID.TEMPLATE:X(e,t);break;case a.TAG_ID.COL:break;default:le(e,t)}}(this,e);break;case G.IN_TABLE_BODY:pe(this,e);break;case G.IN_ROW:he(this,e);break;case G.IN_CELL:!function(e,t){const n=t.tagID;switch(n){case a.TAG_ID.TD:case a.TAG_ID.TH:e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=G.IN_ROW);break;case a.TAG_ID.TABLE:case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:case a.TAG_ID.TR:e.openElements.hasInTableScope(n)&&(e._closeTableCell(),he(e,t));break;case a.TAG_ID.BODY:case a.TAG_ID.CAPTION:case a.TAG_ID.COL:case a.TAG_ID.COLGROUP:case a.TAG_ID.HTML:break;default:se(e,t)}}(this,e);break;case G.IN_SELECT:Ge(this,e);break;case G.IN_SELECT_IN_TABLE:!function(e,t){const n=t.tagID;n===a.TAG_ID.CAPTION||n===a.TAG_ID.TABLE||n===a.TAG_ID.TBODY||n===a.TAG_ID.TFOOT||n===a.TAG_ID.THEAD||n===a.TAG_ID.TR||n===a.TAG_ID.TD||n===a.TAG_ID.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(a.TAG_ID.SELECT),e._resetInsertionMode(),e.onEndTag(t)):Ge(e,t)}(this,e);break;case G.IN_TEMPLATE:!function(e,t){t.tagID===a.TAG_ID.TEMPLATE&&X(e,t)}(this,e);break;case G.AFTER_BODY:ue(this,e);break;case G.IN_FRAMESET:!function(e,t){t.tagID!==a.TAG_ID.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagId===a.TAG_ID.FRAMESET||(e.insertionMode=G.AFTER_FRAMESET))}(this,e);break;case G.AFTER_FRAMESET:!function(e,t){t.tagID===a.TAG_ID.HTML&&(e.insertionMode=G.AFTER_AFTER_FRAMESET)}(this,e);break;case G.AFTER_AFTER_BODY:ge(this,e)}}onEof(e){switch(this.insertionMode){case G.INITIAL:x(this,e);break;case G.BEFORE_HTML:w(this,e);break;case G.BEFORE_HEAD:y(this,e);break;case G.IN_HEAD:V(this,e);break;case G.IN_HEAD_NO_SCRIPT:K(this,e);break;case G.AFTER_HEAD:z(this,e);break;case G.IN_BODY:case G.IN_TABLE:case G.IN_CAPTION:case G.IN_COLUMN_GROUP:case G.IN_TABLE_BODY:case G.IN_ROW:case G.IN_CELL:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:ae(this,e);break;case G.TEXT:!function(e,t){e._err(t,g.s.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}(this,e);break;case G.IN_TABLE_TEXT:Ie(this,e);break;case G.IN_TEMPLATE:Ne(this,e);break;case G.AFTER_BODY:case G.IN_FRAMESET:case G.AFTER_FRAMESET:case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:v(this,e)}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===O.AM.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1)}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case G.IN_HEAD:case G.IN_HEAD_NO_SCRIPT:case G.AFTER_HEAD:case G.TEXT:case G.IN_COLUMN_GROUP:case G.IN_SELECT:case G.IN_SELECT_IN_TABLE:case G.IN_FRAMESET:case G.AFTER_FRAMESET:this._insertCharacters(e);break;case G.IN_BODY:case G.IN_CAPTION:case G.IN_CELL:case G.IN_TEMPLATE:case G.AFTER_BODY:case G.AFTER_AFTER_BODY:case G.AFTER_AFTER_FRAMESET:j(this,e);break;case G.IN_TABLE:case G.IN_TABLE_BODY:case G.IN_ROW:oe(this,e);break;case G.IN_TABLE_TEXT:ce(this,e)}}}function R(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):ne(e,t),n}function b(e,t){let n=null,s=e.openElements.stackTop;for(;s>=0;s--){const a=e.openElements.items[s];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[s])&&(n=a)}return n||(e.openElements.shortenToLength(Math.max(s,0)),e.activeFormattingElements.removeEntry(t)),n}function P(e,t,n){let s=t,a=e.openElements.getCommonAncestor(t);for(let o=0,T=a;T!==n;o++,T=a){a=e.openElements.getCommonAncestor(T);const n=e.activeFormattingElements.getElementEntry(T),r=n&&o>=3;!n||r?(r&&e.activeFormattingElements.removeEntry(n),e.openElements.remove(T)):(T=B(e,n),s===t&&(e.activeFormattingElements.bookmark=n),e.treeAdapter.detachNode(s),e.treeAdapter.appendChild(T,s),s=T)}return s}function B(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),s=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,s),t.element=s,s}function F(e,t,n){const s=e.treeAdapter.getTagName(t),o=(0,a.getTagID)(s);if(e._isElementCausesFosterParenting(o))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);o===a.TAG_ID.TEMPLATE&&s===a.NS.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function H(e,t,n){const s=e.treeAdapter.getNamespaceURI(n.element),{token:a}=n,o=e.treeAdapter.createElement(a.tagName,s,a.attrs);e._adoptNodes(t,o),e.treeAdapter.appendChild(t,o),e.activeFormattingElements.insertElementAfterBookmark(o,a),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,o,a.tagID)}function U(e,t){for(let n=0;n<8;n++){const n=R(e,t);if(!n)break;const s=b(e,n);if(!s)break;e.activeFormattingElements.bookmark=n;const a=P(e,s,n.element),o=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(a),o&&F(e,o,a),H(e,s,n)}}function Y(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function v(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let s=e.openElements.stackTop;s>=n;s--)e._setEndLocation(e.openElements.items[s],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],s=e.treeAdapter.getNodeSourceCodeLocation(n);if(s&&!s.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const n=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(n);s&&!s.endTag&&e._setEndLocation(n,t)}}}}function x(e,t){e._err(t,g.s.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,a.DOCUMENT_MODE.QUIRKS),e.insertionMode=G.BEFORE_HTML,e._processToken(t)}function w(e,t){e._insertFakeRootElement(),e.insertionMode=G.BEFORE_HEAD,e._processToken(t)}function y(e,t){e._insertFakeElement(a.TAG_NAMES.HEAD,a.TAG_ID.HEAD),e.headElement=e.openElements.current,e.insertionMode=G.IN_HEAD,e._processToken(t)}function W(e,t){switch(t.tagID){case a.TAG_ID.HTML:te(e,t);break;case a.TAG_ID.BASE:case a.TAG_ID.BASEFONT:case a.TAG_ID.BGSOUND:case a.TAG_ID.LINK:case a.TAG_ID.META:e._appendElement(t,a.NS.HTML),t.ackSelfClosing=!0;break;case a.TAG_ID.TITLE:e._switchToTextParsing(t,s.V.RCDATA);break;case a.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,s.V.RAWTEXT):(e._insertElement(t,a.NS.HTML),e.insertionMode=G.IN_HEAD_NO_SCRIPT);break;case a.TAG_ID.NOFRAMES:case a.TAG_ID.STYLE:e._switchToTextParsing(t,s.V.RAWTEXT);break;case a.TAG_ID.SCRIPT:e._switchToTextParsing(t,s.V.SCRIPT_DATA);break;case a.TAG_ID.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=G.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(G.IN_TEMPLATE);break;case a.TAG_ID.HEAD:e._err(t,g.s.misplacedStartTagForHeadElement);break;default:V(e,t)}}function X(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==a.TAG_ID.TEMPLATE&&e._err(t,g.s.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(a.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,g.s.endTagWithoutMatchingOpenElement)}function V(e,t){e.openElements.pop(),e.insertionMode=G.AFTER_HEAD,e._processToken(t)}function K(e,t){const n=t.type===k.k.EOF?g.s.openElementsLeftAfterEof:g.s.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=G.IN_HEAD,e._processToken(t)}function z(e,t){e._insertFakeElement(a.TAG_NAMES.BODY,a.TAG_ID.BODY),e.insertionMode=G.IN_BODY,Q(e,t)}function Q(e,t){switch(t.type){case k.k.CHARACTER:J(e,t);break;case k.k.WHITESPACE_CHARACTER:j(e,t);break;case k.k.COMMENT:Y(e,t);break;case k.k.START_TAG:te(e,t);break;case k.k.END_TAG:se(e,t);break;case k.k.EOF:ae(e,t)}}function j(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function J(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function q(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,a.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Z(e){const t=(0,k.r)(e,a.ATTRS.TYPE);return null!=t&&"hidden"===t.toLowerCase()}function $(e,t){e._switchToTextParsing(t,s.V.RAWTEXT)}function ee(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,a.NS.HTML)}function te(e,t){switch(t.tagID){case a.TAG_ID.I:case a.TAG_ID.S:case a.TAG_ID.B:case a.TAG_ID.U:case a.TAG_ID.EM:case a.TAG_ID.TT:case a.TAG_ID.BIG:case a.TAG_ID.CODE:case a.TAG_ID.FONT:case a.TAG_ID.SMALL:case a.TAG_ID.STRIKE:case a.TAG_ID.STRONG:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,a.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case a.TAG_ID.A:!function(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(a.TAG_NAMES.A);n&&(U(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,a.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case a.TAG_ID.H1:case a.TAG_ID.H2:case a.TAG_ID.H3:case a.TAG_ID.H4:case a.TAG_ID.H5:case a.TAG_ID.H6:!function(e,t){e.openElements.hasInButtonScope(a.TAG_ID.P)&&e._closePElement(),void 0!==e.openElements.currentTagId&&a.NUMBERED_HEADERS.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,a.NS.HTML)}(e,t);break;case a.TAG_ID.P:case a.TAG_ID.DL:case a.TAG_ID.OL:case a.TAG_ID.UL:case a.TAG_ID.DIV:case a.TAG_ID.DIR:case a.TAG_ID.NAV:case a.TAG_ID.MAIN:case a.TAG_ID.MENU:case a.TAG_ID.ASIDE:case a.TAG_ID.CENTER:case a.TAG_ID.FIGURE:case a.TAG_ID.FOOTER:case a.TAG_ID.HEADER:case a.TAG_ID.HGROUP:case a.TAG_ID.DIALOG:case a.TAG_ID.DETAILS:case a.TAG_ID.ADDRESS:case a.TAG_ID.ARTICLE:case a.TAG_ID.SEARCH:case a.TAG_ID.SECTION:case a.TAG_ID.SUMMARY:case a.TAG_ID.FIELDSET:case a.TAG_ID.BLOCKQUOTE:case a.TAG_ID.FIGCAPTION:!function(e,t){e.openElements.hasInButtonScope(a.TAG_ID.P)&&e._closePElement(),e._insertElement(t,a.NS.HTML)}(e,t);break;case a.TAG_ID.LI:case a.TAG_ID.DD:case a.TAG_ID.DT:!function(e,t){e.framesetOk=!1;const n=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){const s=e.openElements.tagIDs[t];if(n===a.TAG_ID.LI&&s===a.TAG_ID.LI||(n===a.TAG_ID.DD||n===a.TAG_ID.DT)&&(s===a.TAG_ID.DD||s===a.TAG_ID.DT)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s);break}if(s!==a.TAG_ID.ADDRESS&&s!==a.TAG_ID.DIV&&s!==a.TAG_ID.P&&e._isSpecialElement(e.openElements.items[t],s))break}e.openElements.hasInButtonScope(a.TAG_ID.P)&&e._closePElement(),e._insertElement(t,a.NS.HTML)}(e,t);break;case a.TAG_ID.BR:case a.TAG_ID.IMG:case a.TAG_ID.WBR:case a.TAG_ID.AREA:case a.TAG_ID.EMBED:case a.TAG_ID.KEYGEN:q(e,t);break;case a.TAG_ID.HR:!function(e,t){e.openElements.hasInButtonScope(a.TAG_ID.P)&&e._closePElement(),e._appendElement(t,a.NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}(e,t);break;case a.TAG_ID.RB:case a.TAG_ID.RTC:!function(e,t){e.openElements.hasInScope(a.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,a.NS.HTML)}(e,t);break;case a.TAG_ID.RT:case a.TAG_ID.RP:!function(e,t){e.openElements.hasInScope(a.TAG_ID.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(a.TAG_ID.RTC),e._insertElement(t,a.NS.HTML)}(e,t);break;case a.TAG_ID.PRE:case a.TAG_ID.LISTING:!function(e,t){e.openElements.hasInButtonScope(a.TAG_ID.P)&&e._closePElement(),e._insertElement(t,a.NS.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}(e,t);break;case a.TAG_ID.XMP:!function(e,t){e.openElements.hasInButtonScope(a.TAG_ID.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,s.V.RAWTEXT)}(e,t);break;case a.TAG_ID.SVG:!function(e,t){e._reconstructActiveFormattingElements(),L.pc(t),L.aq(t),t.selfClosing?e._appendElement(t,a.NS.SVG):e._insertElement(t,a.NS.SVG),t.ackSelfClosing=!0}(e,t);break;case a.TAG_ID.HTML:!function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}(e,t);break;case a.TAG_ID.BASE:case a.TAG_ID.LINK:case a.TAG_ID.META:case a.TAG_ID.STYLE:case a.TAG_ID.TITLE:case a.TAG_ID.SCRIPT:case a.TAG_ID.BGSOUND:case a.TAG_ID.BASEFONT:case a.TAG_ID.TEMPLATE:W(e,t);break;case a.TAG_ID.BODY:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}(e,t);break;case a.TAG_ID.FORM:!function(e,t){const n=e.openElements.tmplCount>0;e.formElement&&!n||(e.openElements.hasInButtonScope(a.TAG_ID.P)&&e._closePElement(),e._insertElement(t,a.NS.HTML),n||(e.formElement=e.openElements.current))}(e,t);break;case a.TAG_ID.NOBR:!function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(a.TAG_ID.NOBR)&&(U(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,a.NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}(e,t);break;case a.TAG_ID.MATH:!function(e,t){e._reconstructActiveFormattingElements(),L.yY(t),L.aq(t),t.selfClosing?e._appendElement(t,a.NS.MATHML):e._insertElement(t,a.NS.MATHML),t.ackSelfClosing=!0}(e,t);break;case a.TAG_ID.TABLE:!function(e,t){e.treeAdapter.getDocumentMode(e.document)!==a.DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(a.TAG_ID.P)&&e._closePElement(),e._insertElement(t,a.NS.HTML),e.framesetOk=!1,e.insertionMode=G.IN_TABLE}(e,t);break;case a.TAG_ID.INPUT:!function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,a.NS.HTML),Z(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}(e,t);break;case a.TAG_ID.PARAM:case a.TAG_ID.TRACK:case a.TAG_ID.SOURCE:!function(e,t){e._appendElement(t,a.NS.HTML),t.ackSelfClosing=!0}(e,t);break;case a.TAG_ID.IMAGE:!function(e,t){t.tagName=a.TAG_NAMES.IMG,t.tagID=a.TAG_ID.IMG,q(e,t)}(e,t);break;case a.TAG_ID.BUTTON:!function(e,t){e.openElements.hasInScope(a.TAG_ID.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(a.TAG_ID.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,a.NS.HTML),e.framesetOk=!1}(e,t);break;case a.TAG_ID.APPLET:case a.TAG_ID.OBJECT:case a.TAG_ID.MARQUEE:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,a.NS.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}(e,t);break;case a.TAG_ID.IFRAME:!function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,s.V.RAWTEXT)}(e,t);break;case a.TAG_ID.SELECT:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,a.NS.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===G.IN_TABLE||e.insertionMode===G.IN_CAPTION||e.insertionMode===G.IN_TABLE_BODY||e.insertionMode===G.IN_ROW||e.insertionMode===G.IN_CELL?G.IN_SELECT_IN_TABLE:G.IN_SELECT}(e,t);break;case a.TAG_ID.OPTION:case a.TAG_ID.OPTGROUP:!function(e,t){e.openElements.currentTagId===a.TAG_ID.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,a.NS.HTML)}(e,t);break;case a.TAG_ID.NOEMBED:case a.TAG_ID.NOFRAMES:$(e,t);break;case a.TAG_ID.FRAMESET:!function(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,a.NS.HTML),e.insertionMode=G.IN_FRAMESET)}(e,t);break;case a.TAG_ID.TEXTAREA:!function(e,t){e._insertElement(t,a.NS.HTML),e.skipNextNewLine=!0,e.tokenizer.state=s.V.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=G.TEXT}(e,t);break;case a.TAG_ID.NOSCRIPT:e.options.scriptingEnabled?$(e,t):ee(e,t);break;case a.TAG_ID.PLAINTEXT:!function(e,t){e.openElements.hasInButtonScope(a.TAG_ID.P)&&e._closePElement(),e._insertElement(t,a.NS.HTML),e.tokenizer.state=s.V.PLAINTEXT}(e,t);break;case a.TAG_ID.COL:case a.TAG_ID.TH:case a.TAG_ID.TD:case a.TAG_ID.TR:case a.TAG_ID.HEAD:case a.TAG_ID.FRAME:case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:case a.TAG_ID.CAPTION:case a.TAG_ID.COLGROUP:break;default:ee(e,t)}}function ne(e,t){const n=t.tagName,s=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){const o=e.openElements.items[t],T=e.openElements.tagIDs[t];if(s===T&&(s!==a.TAG_ID.UNKNOWN||e.treeAdapter.getTagName(o)===n)){e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break}if(e._isSpecialElement(o,T))break}}function se(e,t){switch(t.tagID){case a.TAG_ID.A:case a.TAG_ID.B:case a.TAG_ID.I:case a.TAG_ID.S:case a.TAG_ID.U:case a.TAG_ID.EM:case a.TAG_ID.TT:case a.TAG_ID.BIG:case a.TAG_ID.CODE:case a.TAG_ID.FONT:case a.TAG_ID.NOBR:case a.TAG_ID.SMALL:case a.TAG_ID.STRIKE:case a.TAG_ID.STRONG:U(e,t);break;case a.TAG_ID.P:!function(e){e.openElements.hasInButtonScope(a.TAG_ID.P)||e._insertFakeElement(a.TAG_NAMES.P,a.TAG_ID.P),e._closePElement()}(e);break;case a.TAG_ID.DL:case a.TAG_ID.UL:case a.TAG_ID.OL:case a.TAG_ID.DIR:case a.TAG_ID.DIV:case a.TAG_ID.NAV:case a.TAG_ID.PRE:case a.TAG_ID.MAIN:case a.TAG_ID.MENU:case a.TAG_ID.ASIDE:case a.TAG_ID.BUTTON:case a.TAG_ID.CENTER:case a.TAG_ID.FIGURE:case a.TAG_ID.FOOTER:case a.TAG_ID.HEADER:case a.TAG_ID.HGROUP:case a.TAG_ID.DIALOG:case a.TAG_ID.ADDRESS:case a.TAG_ID.ARTICLE:case a.TAG_ID.DETAILS:case a.TAG_ID.SEARCH:case a.TAG_ID.SECTION:case a.TAG_ID.SUMMARY:case a.TAG_ID.LISTING:case a.TAG_ID.FIELDSET:case a.TAG_ID.BLOCKQUOTE:case a.TAG_ID.FIGCAPTION:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case a.TAG_ID.LI:!function(e){e.openElements.hasInListItemScope(a.TAG_ID.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(a.TAG_ID.LI),e.openElements.popUntilTagNamePopped(a.TAG_ID.LI))}(e);break;case a.TAG_ID.DD:case a.TAG_ID.DT:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}(e,t);break;case a.TAG_ID.H1:case a.TAG_ID.H2:case a.TAG_ID.H3:case a.TAG_ID.H4:case a.TAG_ID.H5:case a.TAG_ID.H6:!function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}(e);break;case a.TAG_ID.BR:!function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(a.TAG_NAMES.BR,a.TAG_ID.BR),e.openElements.pop(),e.framesetOk=!1}(e);break;case a.TAG_ID.BODY:!function(e,t){if(e.openElements.hasInScope(a.TAG_ID.BODY)&&(e.insertionMode=G.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}(e,t);break;case a.TAG_ID.HTML:!function(e,t){e.openElements.hasInScope(a.TAG_ID.BODY)&&(e.insertionMode=G.AFTER_BODY,ue(e,t))}(e,t);break;case a.TAG_ID.FORM:!function(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(a.TAG_ID.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(a.TAG_ID.FORM):n&&e.openElements.remove(n))}(e);break;case a.TAG_ID.APPLET:case a.TAG_ID.OBJECT:case a.TAG_ID.MARQUEE:!function(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}(e,t);break;case a.TAG_ID.TEMPLATE:X(e,t);break;default:ne(e,t)}}function ae(e,t){e.tmplInsertionModeStack.length>0?Ne(e,t):v(e,t)}function oe(e,t){if(void 0!==e.openElements.currentTagId&&C.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=G.IN_TABLE_TEXT,t.type){case k.k.CHARACTER:Ae(e,t);break;case k.k.WHITESPACE_CHARACTER:ce(e,t)}else ie(e,t)}function Te(e,t){switch(t.tagID){case a.TAG_ID.TD:case a.TAG_ID.TH:case a.TAG_ID.TR:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(a.TAG_NAMES.TBODY,a.TAG_ID.TBODY),e.insertionMode=G.IN_TABLE_BODY,De(e,t)}(e,t);break;case a.TAG_ID.STYLE:case a.TAG_ID.SCRIPT:case a.TAG_ID.TEMPLATE:W(e,t);break;case a.TAG_ID.COL:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(a.TAG_NAMES.COLGROUP,a.TAG_ID.COLGROUP),e.insertionMode=G.IN_COLUMN_GROUP,Ee(e,t)}(e,t);break;case a.TAG_ID.FORM:!function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,a.NS.HTML),e.formElement=e.openElements.current,e.openElements.pop())}(e,t);break;case a.TAG_ID.TABLE:!function(e,t){e.openElements.hasInTableScope(a.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(a.TAG_ID.TABLE),e._resetInsertionMode(),e._processStartTag(t))}(e,t);break;case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,a.NS.HTML),e.insertionMode=G.IN_TABLE_BODY}(e,t);break;case a.TAG_ID.INPUT:!function(e,t){Z(t)?e._appendElement(t,a.NS.HTML):ie(e,t),t.ackSelfClosing=!0}(e,t);break;case a.TAG_ID.CAPTION:!function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,a.NS.HTML),e.insertionMode=G.IN_CAPTION}(e,t);break;case a.TAG_ID.COLGROUP:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,a.NS.HTML),e.insertionMode=G.IN_COLUMN_GROUP}(e,t);break;default:ie(e,t)}}function re(e,t){switch(t.tagID){case a.TAG_ID.TABLE:e.openElements.hasInTableScope(a.TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(a.TAG_ID.TABLE),e._resetInsertionMode());break;case a.TAG_ID.TEMPLATE:X(e,t);break;case a.TAG_ID.BODY:case a.TAG_ID.CAPTION:case a.TAG_ID.COL:case a.TAG_ID.COLGROUP:case a.TAG_ID.HTML:case a.TAG_ID.TBODY:case a.TAG_ID.TD:case a.TAG_ID.TFOOT:case a.TAG_ID.TH:case a.TAG_ID.THEAD:case a.TAG_ID.TR:break;default:ie(e,t)}}function ie(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Q(e,t),e.fosterParentingEnabled=n}function ce(e,t){e.pendingCharacterTokens.push(t)}function Ae(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Ie(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)ie(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const _e=new Set([a.TAG_ID.CAPTION,a.TAG_ID.COL,a.TAG_ID.COLGROUP,a.TAG_ID.TBODY,a.TAG_ID.TD,a.TAG_ID.TFOOT,a.TAG_ID.TH,a.TAG_ID.THEAD,a.TAG_ID.TR]);function Ee(e,t){switch(t.tagID){case a.TAG_ID.HTML:te(e,t);break;case a.TAG_ID.COL:e._appendElement(t,a.NS.HTML),t.ackSelfClosing=!0;break;case a.TAG_ID.TEMPLATE:W(e,t);break;default:le(e,t)}}function le(e,t){e.openElements.currentTagId===a.TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=G.IN_TABLE,e._processToken(t))}function De(e,t){switch(t.tagID){case a.TAG_ID.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,a.NS.HTML),e.insertionMode=G.IN_ROW;break;case a.TAG_ID.TH:case a.TAG_ID.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(a.TAG_NAMES.TR,a.TAG_ID.TR),e.insertionMode=G.IN_ROW,me(e,t);break;case a.TAG_ID.CAPTION:case a.TAG_ID.COL:case a.TAG_ID.COLGROUP:case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE,Te(e,t));break;default:Te(e,t)}}function pe(e,t){const n=t.tagID;switch(t.tagID){case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE);break;case a.TAG_ID.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE,re(e,t));break;case a.TAG_ID.BODY:case a.TAG_ID.CAPTION:case a.TAG_ID.COL:case a.TAG_ID.COLGROUP:case a.TAG_ID.HTML:case a.TAG_ID.TD:case a.TAG_ID.TH:case a.TAG_ID.TR:break;default:re(e,t)}}function me(e,t){switch(t.tagID){case a.TAG_ID.TH:case a.TAG_ID.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,a.NS.HTML),e.insertionMode=G.IN_CELL,e.activeFormattingElements.insertMarker();break;case a.TAG_ID.CAPTION:case a.TAG_ID.COL:case a.TAG_ID.COLGROUP:case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:case a.TAG_ID.TR:e.openElements.hasInTableScope(a.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY,De(e,t));break;default:Te(e,t)}}function he(e,t){switch(t.tagID){case a.TAG_ID.TR:e.openElements.hasInTableScope(a.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY);break;case a.TAG_ID.TABLE:e.openElements.hasInTableScope(a.TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY,pe(e,t));break;case a.TAG_ID.TBODY:case a.TAG_ID.TFOOT:case a.TAG_ID.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(a.TAG_ID.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=G.IN_TABLE_BODY,pe(e,t));break;case a.TAG_ID.BODY:case a.TAG_ID.CAPTION:case a.TAG_ID.COL:case a.TAG_ID.COLGROUP:case a.TAG_ID.HTML:case a.TAG_ID.TD:case a.TAG_ID.TH:break;default:re(e,t)}}function de(e,t){switch(t.tagID){case a.TAG_ID.HTML:te(e,t);break;case a.TAG_ID.OPTION:e.openElements.currentTagId===a.TAG_ID.OPTION&&e.openElements.pop(),e._insertElement(t,a.NS.HTML);break;case a.TAG_ID.OPTGROUP:e.openElements.currentTagId===a.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===a.TAG_ID.OPTGROUP&&e.openElements.pop(),e._insertElement(t,a.NS.HTML);break;case a.TAG_ID.HR:e.openElements.currentTagId===a.TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===a.TAG_ID.OPTGROUP&&e.openElements.pop(),e._appendElement(t,a.NS.HTML),t.ackSelfClosing=!0;break;case a.TAG_ID.INPUT:case a.TAG_ID.KEYGEN:case a.TAG_ID.TEXTAREA:case a.TAG_ID.SELECT:e.openElements.hasInSelectScope(a.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(a.TAG_ID.SELECT),e._resetInsertionMode(),t.tagID!==a.TAG_ID.SELECT&&e._processStartTag(t));break;case a.TAG_ID.SCRIPT:case a.TAG_ID.TEMPLATE:W(e,t)}}function Ge(e,t){switch(t.tagID){case a.TAG_ID.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===a.TAG_ID.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===a.TAG_ID.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===a.TAG_ID.OPTGROUP&&e.openElements.pop();break;case a.TAG_ID.OPTION:e.openElements.currentTagId===a.TAG_ID.OPTION&&e.openElements.pop();break;case a.TAG_ID.SELECT:e.openElements.hasInSelectScope(a.TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(a.TAG_ID.SELECT),e._resetInsertionMode());break;case a.TAG_ID.TEMPLATE:X(e,t)}}function Ne(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(a.TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):v(e,t)}function ue(e,t){var n;if(t.tagID===a.TAG_ID.HTML){if(e.fragmentContext||(e.insertionMode=G.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===a.TAG_ID.HTML){e._setEndLocation(e.openElements.items[0],t);const s=e.openElements.items[1];s&&!(null===(n=e.treeAdapter.getNodeSourceCodeLocation(s))||void 0===n?void 0:n.endTag)&&e._setEndLocation(s,t)}}else Le(e,t)}function Le(e,t){e.insertionMode=G.IN_BODY,Q(e,t)}function ge(e,t){e.insertionMode=G.IN_BODY,Q(e,t)}function Oe(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==a.NS.HTML&&void 0!==e.openElements.currentTagId&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}},91764:(e,t,n)=>{var s=n(87961),a=(n(42116),n(40491));new Set([s.TAG_NAMES.AREA,s.TAG_NAMES.BASE,s.TAG_NAMES.BASEFONT,s.TAG_NAMES.BGSOUND,s.TAG_NAMES.BR,s.TAG_NAMES.COL,s.TAG_NAMES.EMBED,s.TAG_NAMES.FRAME,s.TAG_NAMES.HR,s.TAG_NAMES.IMG,s.TAG_NAMES.INPUT,s.TAG_NAMES.KEYGEN,s.TAG_NAMES.LINK,s.TAG_NAMES.META,s.TAG_NAMES.PARAM,s.TAG_NAMES.SOURCE,s.TAG_NAMES.TRACK,s.TAG_NAMES.WBR]),a.j}}]);