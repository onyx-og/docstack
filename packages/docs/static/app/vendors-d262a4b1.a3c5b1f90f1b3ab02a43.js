"use strict";(self.webpackChunk_docstack_ui=self.webpackChunk_docstack_ui||[]).push([[8951],{19746:(e,t,i)=>{function s(){return globalThis._VSCODE_NLS_MESSAGES}function n(){return globalThis._VSCODE_NLS_LANGUAGE}i.d(t,{i8:()=>n,Ec:()=>s,kg:()=>o});const r="pseudo"===n()||"undefined"!=typeof document&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function o(e,t,...i){return function(e,t){let i;return i=0===t.length?e:e.replace(/\{(\d+)\}/g,((e,i)=>{const s=i[0],n=t[s];let r=e;return"string"==typeof n?r=n:"number"!=typeof n&&"boolean"!=typeof n&&null!=n||(r=String(n)),r})),r&&(i="［"+i.replace(/[aouei]/g,"$&$&")+"］"),i}("number"==typeof e?function(e,t){const i=s()?.[e];if("string"!=typeof i){if("string"==typeof t)return t;throw new Error(`!!! NLS MISSING: ${e} !!!`)}return i}(e,t):t,i)}},71285:(e,t,i)=>{i.d(t,{Nt:()=>n,Rh:()=>a});var s=i(19746);const n=(0,i(82399).u1)("accessibilitySignalService");Symbol("AcknowledgeDocCommentsToken");class r{static register(e){return new r(e.fileName)}static{this.error=r.register({fileName:"error.mp3"})}static{this.warning=r.register({fileName:"warning.mp3"})}static{this.success=r.register({fileName:"success.mp3"})}static{this.foldedArea=r.register({fileName:"foldedAreas.mp3"})}static{this.break=r.register({fileName:"break.mp3"})}static{this.quickFixes=r.register({fileName:"quickFixes.mp3"})}static{this.taskCompleted=r.register({fileName:"taskCompleted.mp3"})}static{this.taskFailed=r.register({fileName:"taskFailed.mp3"})}static{this.terminalBell=r.register({fileName:"terminalBell.mp3"})}static{this.diffLineInserted=r.register({fileName:"diffLineInserted.mp3"})}static{this.diffLineDeleted=r.register({fileName:"diffLineDeleted.mp3"})}static{this.diffLineModified=r.register({fileName:"diffLineModified.mp3"})}static{this.chatRequestSent=r.register({fileName:"chatRequestSent.mp3"})}static{this.chatResponseReceived1=r.register({fileName:"chatResponseReceived1.mp3"})}static{this.chatResponseReceived2=r.register({fileName:"chatResponseReceived2.mp3"})}static{this.chatResponseReceived3=r.register({fileName:"chatResponseReceived3.mp3"})}static{this.chatResponseReceived4=r.register({fileName:"chatResponseReceived4.mp3"})}static{this.clear=r.register({fileName:"clear.mp3"})}static{this.save=r.register({fileName:"save.mp3"})}static{this.format=r.register({fileName:"format.mp3"})}static{this.voiceRecordingStarted=r.register({fileName:"voiceRecordingStarted.mp3"})}static{this.voiceRecordingStopped=r.register({fileName:"voiceRecordingStopped.mp3"})}static{this.progress=r.register({fileName:"progress.mp3"})}constructor(e){this.fileName=e}}class o{constructor(e){this.randomOneOf=e}}class a{constructor(e,t,i,s,n,r){this.sound=e,this.name=t,this.legacySoundSettingsKey=i,this.settingsKey=s,this.legacyAnnouncementSettingsKey=n,this.announcementMessage=r}static{this._signals=new Set}static register(e){const t=new o("randomOneOf"in e.sound?e.sound.randomOneOf:[e.sound]),i=new a(t,e.name,e.legacySoundSettingsKey,e.settingsKey,e.legacyAnnouncementSettingsKey,e.announcementMessage);return a._signals.add(i),i}static{this.errorAtPosition=a.register({name:(0,s.kg)("accessibilitySignals.positionHasError.name","Error at Position"),sound:r.error,announcementMessage:(0,s.kg)("accessibility.signals.positionHasError","Error"),settingsKey:"accessibility.signals.positionHasError",delaySettingsKey:"accessibility.signalOptions.delays.errorAtPosition"})}static{this.warningAtPosition=a.register({name:(0,s.kg)("accessibilitySignals.positionHasWarning.name","Warning at Position"),sound:r.warning,announcementMessage:(0,s.kg)("accessibility.signals.positionHasWarning","Warning"),settingsKey:"accessibility.signals.positionHasWarning",delaySettingsKey:"accessibility.signalOptions.delays.warningAtPosition"})}static{this.errorOnLine=a.register({name:(0,s.kg)("accessibilitySignals.lineHasError.name","Error on Line"),sound:r.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:(0,s.kg)("accessibility.signals.lineHasError","Error on Line"),settingsKey:"accessibility.signals.lineHasError"})}static{this.warningOnLine=a.register({name:(0,s.kg)("accessibilitySignals.lineHasWarning.name","Warning on Line"),sound:r.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:(0,s.kg)("accessibility.signals.lineHasWarning","Warning on Line"),settingsKey:"accessibility.signals.lineHasWarning"})}static{this.foldedArea=a.register({name:(0,s.kg)("accessibilitySignals.lineHasFoldedArea.name","Folded Area on Line"),sound:r.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:(0,s.kg)("accessibility.signals.lineHasFoldedArea","Folded"),settingsKey:"accessibility.signals.lineHasFoldedArea"})}static{this.break=a.register({name:(0,s.kg)("accessibilitySignals.lineHasBreakpoint.name","Breakpoint on Line"),sound:r.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:(0,s.kg)("accessibility.signals.lineHasBreakpoint","Breakpoint"),settingsKey:"accessibility.signals.lineHasBreakpoint"})}static{this.inlineSuggestion=a.register({name:(0,s.kg)("accessibilitySignals.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:r.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"})}static{this.terminalQuickFix=a.register({name:(0,s.kg)("accessibilitySignals.terminalQuickFix.name","Terminal Quick Fix"),sound:r.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:(0,s.kg)("accessibility.signals.terminalQuickFix","Quick Fix"),settingsKey:"accessibility.signals.terminalQuickFix"})}static{this.onDebugBreak=a.register({name:(0,s.kg)("accessibilitySignals.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:r.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:(0,s.kg)("accessibility.signals.onDebugBreak","Breakpoint"),settingsKey:"accessibility.signals.onDebugBreak"})}static{this.noInlayHints=a.register({name:(0,s.kg)("accessibilitySignals.noInlayHints","No Inlay Hints on Line"),sound:r.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:(0,s.kg)("accessibility.signals.noInlayHints","No Inlay Hints"),settingsKey:"accessibility.signals.noInlayHints"})}static{this.taskCompleted=a.register({name:(0,s.kg)("accessibilitySignals.taskCompleted","Task Completed"),sound:r.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:(0,s.kg)("accessibility.signals.taskCompleted","Task Completed"),settingsKey:"accessibility.signals.taskCompleted"})}static{this.taskFailed=a.register({name:(0,s.kg)("accessibilitySignals.taskFailed","Task Failed"),sound:r.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:(0,s.kg)("accessibility.signals.taskFailed","Task Failed"),settingsKey:"accessibility.signals.taskFailed"})}static{this.terminalCommandFailed=a.register({name:(0,s.kg)("accessibilitySignals.terminalCommandFailed","Terminal Command Failed"),sound:r.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:(0,s.kg)("accessibility.signals.terminalCommandFailed","Command Failed"),settingsKey:"accessibility.signals.terminalCommandFailed"})}static{this.terminalCommandSucceeded=a.register({name:(0,s.kg)("accessibilitySignals.terminalCommandSucceeded","Terminal Command Succeeded"),sound:r.success,announcementMessage:(0,s.kg)("accessibility.signals.terminalCommandSucceeded","Command Succeeded"),settingsKey:"accessibility.signals.terminalCommandSucceeded"})}static{this.terminalBell=a.register({name:(0,s.kg)("accessibilitySignals.terminalBell","Terminal Bell"),sound:r.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:(0,s.kg)("accessibility.signals.terminalBell","Terminal Bell"),settingsKey:"accessibility.signals.terminalBell"})}static{this.notebookCellCompleted=a.register({name:(0,s.kg)("accessibilitySignals.notebookCellCompleted","Notebook Cell Completed"),sound:r.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:(0,s.kg)("accessibility.signals.notebookCellCompleted","Notebook Cell Completed"),settingsKey:"accessibility.signals.notebookCellCompleted"})}static{this.notebookCellFailed=a.register({name:(0,s.kg)("accessibilitySignals.notebookCellFailed","Notebook Cell Failed"),sound:r.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:(0,s.kg)("accessibility.signals.notebookCellFailed","Notebook Cell Failed"),settingsKey:"accessibility.signals.notebookCellFailed"})}static{this.diffLineInserted=a.register({name:(0,s.kg)("accessibilitySignals.diffLineInserted","Diff Line Inserted"),sound:r.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"})}static{this.diffLineDeleted=a.register({name:(0,s.kg)("accessibilitySignals.diffLineDeleted","Diff Line Deleted"),sound:r.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"})}static{this.diffLineModified=a.register({name:(0,s.kg)("accessibilitySignals.diffLineModified","Diff Line Modified"),sound:r.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"})}static{this.chatRequestSent=a.register({name:(0,s.kg)("accessibilitySignals.chatRequestSent","Chat Request Sent"),sound:r.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:(0,s.kg)("accessibility.signals.chatRequestSent","Chat Request Sent"),settingsKey:"accessibility.signals.chatRequestSent"})}static{this.chatResponseReceived=a.register({name:(0,s.kg)("accessibilitySignals.chatResponseReceived","Chat Response Received"),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[r.chatResponseReceived1,r.chatResponseReceived2,r.chatResponseReceived3,r.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"})}static{this.progress=a.register({name:(0,s.kg)("accessibilitySignals.progress","Progress"),sound:r.progress,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.progress",announcementMessage:(0,s.kg)("accessibility.signals.progress","Progress"),settingsKey:"accessibility.signals.progress"})}static{this.clear=a.register({name:(0,s.kg)("accessibilitySignals.clear","Clear"),sound:r.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:(0,s.kg)("accessibility.signals.clear","Clear"),settingsKey:"accessibility.signals.clear"})}static{this.save=a.register({name:(0,s.kg)("accessibilitySignals.save","Save"),sound:r.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:(0,s.kg)("accessibility.signals.save","Save"),settingsKey:"accessibility.signals.save"})}static{this.format=a.register({name:(0,s.kg)("accessibilitySignals.format","Format"),sound:r.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:(0,s.kg)("accessibility.signals.format","Format"),settingsKey:"accessibility.signals.format"})}static{this.voiceRecordingStarted=a.register({name:(0,s.kg)("accessibilitySignals.voiceRecordingStarted","Voice Recording Started"),sound:r.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"})}static{this.voiceRecordingStopped=a.register({name:(0,s.kg)("accessibilitySignals.voiceRecordingStopped","Voice Recording Stopped"),sound:r.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"})}}},28725:(e,t,i)=>{i.d(t,{s:()=>d});var s=i(14333),n=i(48877),r=i(2106),o=i(10998),a=i(53909),c=i(85753),u=i(31540),l=i(16085),h=function(e,t){return function(i,s){t(i,s,e)}};let d=class extends o.jG{constructor(e,t,i){super(),this._contextKeyService=e,this._layoutService=t,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new r.vl,this._onDidChangeReducedMotion=new r.vl,this._onDidChangeLinkUnderline=new r.vl,this._accessibilityModeEnabledContext=a.f.bindTo(this._contextKeyService);const s=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(s(),this._onDidChangeScreenReaderOptimized.fire()),e.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())}))),s(),this._register(this.onDidChangeScreenReaderOptimized((()=>s())));const o=n.G.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=o.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._linkUnderlinesEnabled=this._configurationService.getValue("accessibility.underlineLinks"),this.initReducedMotionListeners(o),this.initLinkUnderlineListeners()}initReducedMotionListeners(e){this._register((0,s.ko)(e,"change",(()=>{this._systemMotionReduced=e.matches,"auto"===this._configMotionReduced&&this._onDidChangeReducedMotion.fire()})));const t=()=>{const e=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",e),this._layoutService.mainContainer.classList.toggle("enable-motion",!e)};t(),this._register(this.onDidChangeReducedMotion((()=>t())))}initLinkUnderlineListeners(){this._register(this._configurationService.onDidChangeConfiguration((e=>{if(e.affectsConfiguration("accessibility.underlineLinks")){const e=this._configurationService.getValue("accessibility.underlineLinks");this._linkUnderlinesEnabled=e,this._onDidChangeLinkUnderline.fire()}})));const e=()=>{const e=this._linkUnderlinesEnabled;this._layoutService.mainContainer.classList.toggle("underline-links",e)};e(),this._register(this.onDidChangeLinkUnderlines((()=>e())))}onDidChangeLinkUnderlines(e){return this._onDidChangeLinkUnderline.event(e)}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const e=this._configMotionReduced;return"on"===e||"auto"===e&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};d=function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}([h(0,u.fN),h(1,l.x),h(2,c.pG)],d)},53909:(e,t,i)=>{i.d(t,{f:()=>r,j:()=>n});var s=i(31540);const n=(0,i(82399).u1)("accessibilityService"),r=new s.N1("accessibilityModeEnabled",!1)},25693:(e,t,i)=>{i.d(t,{rN:()=>O,Ot:()=>A,$u:()=>I});var s=i(14333),n=i(87594),r=i(23473),o=i(1277),a=i(27969),c=i(98315),u=i(10998),l=i(63339),h=i(19746),d=i(58067),g=i(31540),p=i(52348),f=i(82399),y=i(56071),m=i(29879),C=i(45539),_=i(89044),v=i(58881),b=i(89563),k=i(79359),S=i(40061),w=i(25654),x=i(53909),M=function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},T=function(e,t){return function(i,s){t(i,s,e)}};function I(e,t,i,n){let r,o,a;if(Array.isArray(e))a=e,r=t,o=i;else{const s=t;a=e.getActions(s),r=i,o=n}const c=s.Di.getInstance();E(a,r,c.keyStatus.altKey||(l.uF||l.j9)&&c.keyStatus.shiftKey,o?e=>e===o:e=>"navigation"===e)}function A(e,t,i,s,n,r){let o,a,c,u,l;if(Array.isArray(e))l=e,o=t,a=i,c=s,u=n;else{const h=t;l=e.getActions(h),o=i,a=s,c=n,u=r}E(l,o,!1,"string"==typeof a?e=>e===a:a,c,u)}function E(e,t,i,s=e=>"navigation"===e,n=()=>!1,r=!1){let o,c;Array.isArray(t)?(o=t,c=t):(o=t.primary,c=t.secondary);const u=new Set;for(const[t,n]of e){let e;s(t)?(e=o,e.length>0&&r&&e.push(new a.wv)):(e=c,e.length>0&&e.push(new a.wv));for(let s of n){i&&(s=s instanceof d.Xe&&s.alt?s.alt:s);const n=e.push(s);s instanceof a.YH&&u.add({group:t,action:s,index:n-1})}}for(const{group:e,action:t,index:i}of u){const r=s(e)?o:c,a=t.actions;n(t,e,r.length)&&r.splice(i,1,...a)}}let D=class extends r.Z4{constructor(e,t,i,n,r,o,a,c){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:t?.draggable,keybinding:t?.keybinding,hoverDelegate:t?.hoverDelegate}),this._options=t,this._keybindingService=i,this._notificationService=n,this._contextKeyService=r,this._themeService=o,this._contextMenuService=a,this._accessibilityService=c,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new u.HE),this._altKey=s.Di.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(e){e.preventDefault(),e.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(e){this._notificationService.error(e)}}render(e){if(super.render(e),e.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let t=!1;const i=()=>{const e=!!this._menuItemAction.alt?.enabled&&(!this._accessibilityService.isMotionReduced()||t)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&t);e!==this._wantsAltCommand&&(this._wantsAltCommand=e,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(i)),this._register((0,s.ko)(e,"mouseleave",(e=>{t=!1,i()}))),this._register((0,s.ko)(e,"mouseenter",(e=>{t=!0,i()}))),i()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),i=this._commandAction.tooltip||this._commandAction.label;let s=t?(0,h.kg)("titleAndKb","{0} ({1})",i,t):i;if(!this._wantsAltCommand&&this._menuItemAction.alt?.enabled){const e=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,t=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),i=t&&t.getLabel(),n=i?(0,h.kg)("titleAndKb","{0} ({1})",e,i):e;s=(0,h.kg)("titleAndKbAndAlt","{0}\n[{1}] {2}",s,c.Of.modifierLabels[l.OS].altKey,n)}return s}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){this._itemClassDispose.value=void 0;const{element:t,label:i}=this;if(!t||!i)return;const n=this._commandAction.checked&&(r=e.toggled)&&void 0!==r.condition&&e.toggled.icon?e.toggled.icon:e.icon;var r;if(n)if(v.L.isThemeIcon(n)){const e=v.L.asClassNameArray(n);i.classList.add(...e),this._itemClassDispose.value=(0,u.s)((()=>{i.classList.remove(...e)}))}else i.style.backgroundImage=(0,b.HD)(this._themeService.getColorTheme().type)?(0,s.Tf)(n.dark):(0,s.Tf)(n.light),i.classList.add("icon"),this._itemClassDispose.value=(0,u.qE)((0,u.s)((()=>{i.style.backgroundImage="",i.classList.remove("icon")})),this._themeService.onDidColorThemeChange((()=>{this.updateClass()})))}};D=M([T(2,y.b),T(3,m.Ot),T(4,g.fN),T(5,_.Gy),T(6,p.Z),T(7,x.j)],D);let N=class extends o.d{constructor(e,t,i,s,n){const r={...t,menuAsChild:t?.menuAsChild??!1,classNames:t?.classNames??(v.L.isThemeIcon(e.item.icon)?v.L.asClassName(e.item.icon):void 0),keybindingProvider:t?.keybindingProvider??(e=>i.lookupKeybinding(e.id))};super(e,{getActions:()=>e.actions},s,r),this._keybindingService=i,this._contextMenuService=s,this._themeService=n}render(e){super.render(e),(0,k.j)(this.element),e.classList.add("menu-entry");const t=this._action,{icon:i}=t.item;if(i&&!v.L.isThemeIcon(i)){this.element.classList.add("icon");const e=()=>{this.element&&(this.element.style.backgroundImage=(0,b.HD)(this._themeService.getColorTheme().type)?(0,s.Tf)(i.dark):(0,s.Tf)(i.light))};e(),this._register(this._themeService.onDidColorThemeChange((()=>{e()})))}}};N=M([T(2,y.b),T(3,p.Z),T(4,_.Gy)],N);let R=class extends r.EH{constructor(e,t,i,s,n,r,c,u){let l;super(null,e),this._keybindingService=i,this._notificationService=s,this._contextMenuService=n,this._menuService=r,this._instaService=c,this._storageService=u,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;const h=t?.persistLastActionId?u.get(this._storageKey,1):void 0;h&&(l=e.actions.find((e=>h===e.id))),l||(l=e.actions[0]),this._defaultAction=this._instaService.createInstance(D,l,{keybinding:this._getDefaultActionKeybindingLabel(l)});const g={keybindingProvider:e=>this._keybindingService.lookupKeybinding(e.id),...t,menuAsChild:t?.menuAsChild??!0,classNames:t?.classNames??["codicon","codicon-chevron-down"],actionRunner:t?.actionRunner??new a.LN};this._dropdown=new o.d(e,e.actions,this._contextMenuService,g),this._register(this._dropdown.actionRunner.onDidRun((e=>{e.action instanceof d.Xe&&this.update(e.action)})))}update(e){this._options?.persistLastActionId&&this._storageService.store(this._storageKey,e.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(D,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends a.LN{async runAction(e,t){await e.run(void 0)}},this._container&&this._defaultAction.render((0,s.Hs)(this._container,(0,s.$)(".action-container")))}_getDefaultActionKeybindingLabel(e){let t;if(this._options?.renderKeybindingWithDefaultActionLabel){const i=this._keybindingService.lookupKeybinding(e.id);i&&(t=`(${i.getLabel()})`)}return t}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=(0,s.$)(".action-container");this._defaultAction.render((0,s.BC)(this._container,t)),this._register((0,s.ko)(t,s.Bx.KEY_DOWN,(e=>{const t=new n.Z(e);t.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),t.stopPropagation())})));const i=(0,s.$)(".dropdown-action-container");this._dropdown.render((0,s.BC)(this._container,i)),this._register((0,s.ko)(i,s.Bx.KEY_DOWN,(e=>{const t=new n.Z(e);t.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),this._defaultAction.element?.focus(),t.stopPropagation())})))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};R=M([T(2,y.b),T(3,m.Ot),T(4,p.Z),T(5,d.ez),T(6,f._Y),T(7,C.CS)],R);let K=class extends r.XF{constructor(e,t){super(null,e,e.actions.map((e=>({text:e.id===a.wv.ID?"─────────":e.label,isDisabled:!e.enabled}))),0,t,w.RE,{ariaLabel:e.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,e.actions.findIndex((e=>e.checked))))}render(e){super.render(e),e.style.borderColor=(0,S.GuP)(S.HcB)}runAction(e,t){const i=this.action.actions[t];i&&this.actionRunner.run(i)}};function O(e,t,i){return t instanceof d.Xe?e.createInstance(D,t,i):t instanceof d.nI?t.item.isSelection?e.createInstance(K,t):t.item.rememberDefaultAction?e.createInstance(R,t,{...i,persistLastActionId:!0}):e.createInstance(N,t,i):void 0}K=M([T(1,p.l)],K)},65508:(e,t,i)=>{i.d(t,{m:()=>x});var s=i(14333),n=i(9715),r=i(55775),o=i(27969),a=i(13338),c=i(88436),u=i(94327),l=i(2106),h=i(17954),d=i(10998),g=i(19746),p=i(25693),f=i(58067),y=i(73810),m=i(59715),C=i(31540),_=i(52348),v=i(56071),b=i(76243),k=function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},S=function(e,t){return function(i,s){t(i,s,e)}};let w=class extends r.i{constructor(e,t,i,s,n,r,o,a){super(e,n,{getKeyBinding:e=>r.lookupKeybinding(e.id)??void 0,...t,allowContextMenu:!0,skipTelemetry:"string"==typeof t?.telemetrySource}),this._options=t,this._menuService=i,this._contextKeyService=s,this._contextMenuService=n,this._keybindingService=r,this._commandService=o,this._sessionDisposables=this._store.add(new d.Cm);const c=t?.telemetrySource;c&&this._store.add(this.actionBar.onDidRun((e=>a.publicLog2("workbenchActionExecuted",{id:e.action.id,from:c}))))}setActions(e,t=[],i){this._sessionDisposables.clear();const u=e.slice(),l=t.slice(),d=[];let p=0;const m=[];let C=!1;if(-1!==this._options?.hiddenItemStrategy)for(let e=0;e<u.length;e++){const t=u[e];(t instanceof f.Xe||t instanceof f.nI)&&t.hideActions&&(d.push(t.hideActions.toggle),t.hideActions.toggle.checked&&p++,t.hideActions.isHidden&&(C=!0,u[e]=void 0,0!==this._options?.hiddenItemStrategy&&(m[e]=t)))}if(void 0!==this._options?.overflowBehavior){const e=(0,c.E)(new Set(this._options.overflowBehavior.exempted),h.f.map(u,(e=>e?.id))),t=this._options.overflowBehavior.maxItems-e.size;let i=0;for(let s=0;s<u.length;s++){const n=u[s];n&&(i++,e.has(n.id)||i>=t&&(u[s]=void 0,m[s]=n))}}(0,a.SK)(u),(0,a.SK)(m),super.setActions(u,o.wv.join(m,l)),(d.length>0||u.length>0)&&this._sessionDisposables.add((0,s.ko)(this.getElement(),"contextmenu",(e=>{const t=new n.P((0,s.zk)(this.getElement()),e),a=this.getItemAction(t.target);if(!a)return;t.preventDefault(),t.stopPropagation();const c=[];if(a instanceof f.Xe&&a.menuKeybinding)c.push(a.menuKeybinding);else if(!(a instanceof f.nI||a instanceof r.s)){const e=!!this._keybindingService.lookupKeybinding(a.id);c.push((0,y.D)(this._commandService,this._keybindingService,a.id,void 0,e))}if(d.length>0){let e=!1;if(1===p&&0===this._options?.hiddenItemStrategy){e=!0;for(let e=0;e<d.length;e++)if(d[e].checked){d[e]=(0,o.ih)({id:a.id,label:a.label,checked:!0,enabled:!1,run(){}});break}}if(!e&&(a instanceof f.Xe||a instanceof f.nI)){if(!a.hideActions)return;c.push(a.hideActions.hide)}else c.push((0,o.ih)({id:"label",label:(0,g.kg)("hide","Hide"),enabled:!1,run(){}}))}const u=o.wv.join(c,d);this._options?.resetMenu&&!i&&(i=[this._options.resetMenu]),C&&i&&(u.push(new o.wv),u.push((0,o.ih)({id:"resetThisMenu",label:(0,g.kg)("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(i)}))),0!==u.length&&this._contextMenuService.showContextMenu({getAnchor:()=>t,getActions:()=>u,menuId:this._options?.contextMenu,menuActionOptions:{renderShortTitle:!0,...this._options?.menuOptions},skipTelemetry:"string"==typeof this._options?.telemetrySource,contextKeyService:this._contextKeyService})})))}};w=k([S(2,f.ez),S(3,C.fN),S(4,_.Z),S(5,v.b),S(6,m.d),S(7,b.k)],w);let x=class extends w{constructor(e,t,i,s,n,r,o,a,c){super(e,{resetMenu:t,...i},s,n,r,o,a,c),this._onDidChangeMenuItems=this._store.add(new l.vl),this.onDidChangeMenuItems=this._onDidChangeMenuItems.event;const u=this._store.add(s.createMenu(t,n,{emitEventsForSubmenuChanges:!0})),h=()=>{const t=[],s=[];(0,p.Ot)(u,i?.menuOptions,{primary:t,secondary:s},i?.toolbarOptions?.primaryGroup,i?.toolbarOptions?.shouldInlineSubmenu,i?.toolbarOptions?.useSeparatorsInPrimaryActions),e.classList.toggle("has-no-actions",0===t.length&&0===s.length),super.setActions(t,s)};this._store.add(u.onDidChange((()=>{h(),this._onDidChangeMenuItems.fire(this)}))),h()}setActions(){throw new u.D7("This toolbar is populated from a menu.")}};x=k([S(3,f.ez),S(4,C.fN),S(5,_.Z),S(6,v.b),S(7,m.d),S(8,b.k)],x)},58067:(e,t,i)=>{i.d(t,{D8:()=>y,Xe:()=>b,ZG:()=>_,ez:()=>m,i1:()=>f,is:()=>p,nI:()=>v});var s,n=i(27969),r=i(58881),o=i(2106),a=i(10998),c=i(85525),u=i(59715),l=i(31540),h=i(82399),d=(i(48421),function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}),g=function(e,t){return function(i,s){t(i,s,e)}};function p(e){return void 0!==e.command}function f(e){return void 0!==e.submenu}class y{static{this._instances=new Map}static{this.CommandPalette=new y("CommandPalette")}static{this.DebugBreakpointsContext=new y("DebugBreakpointsContext")}static{this.DebugCallStackContext=new y("DebugCallStackContext")}static{this.DebugConsoleContext=new y("DebugConsoleContext")}static{this.DebugVariablesContext=new y("DebugVariablesContext")}static{this.NotebookVariablesContext=new y("NotebookVariablesContext")}static{this.DebugHoverContext=new y("DebugHoverContext")}static{this.DebugWatchContext=new y("DebugWatchContext")}static{this.DebugToolBar=new y("DebugToolBar")}static{this.DebugToolBarStop=new y("DebugToolBarStop")}static{this.DebugCallStackToolbar=new y("DebugCallStackToolbar")}static{this.DebugCreateConfiguration=new y("DebugCreateConfiguration")}static{this.EditorContext=new y("EditorContext")}static{this.SimpleEditorContext=new y("SimpleEditorContext")}static{this.EditorContent=new y("EditorContent")}static{this.EditorLineNumberContext=new y("EditorLineNumberContext")}static{this.EditorContextCopy=new y("EditorContextCopy")}static{this.EditorContextPeek=new y("EditorContextPeek")}static{this.EditorContextShare=new y("EditorContextShare")}static{this.EditorTitle=new y("EditorTitle")}static{this.EditorTitleRun=new y("EditorTitleRun")}static{this.EditorTitleContext=new y("EditorTitleContext")}static{this.EditorTitleContextShare=new y("EditorTitleContextShare")}static{this.EmptyEditorGroup=new y("EmptyEditorGroup")}static{this.EmptyEditorGroupContext=new y("EmptyEditorGroupContext")}static{this.EditorTabsBarContext=new y("EditorTabsBarContext")}static{this.EditorTabsBarShowTabsSubmenu=new y("EditorTabsBarShowTabsSubmenu")}static{this.EditorTabsBarShowTabsZenModeSubmenu=new y("EditorTabsBarShowTabsZenModeSubmenu")}static{this.EditorActionsPositionSubmenu=new y("EditorActionsPositionSubmenu")}static{this.ExplorerContext=new y("ExplorerContext")}static{this.ExplorerContextShare=new y("ExplorerContextShare")}static{this.ExtensionContext=new y("ExtensionContext")}static{this.GlobalActivity=new y("GlobalActivity")}static{this.CommandCenter=new y("CommandCenter")}static{this.CommandCenterCenter=new y("CommandCenterCenter")}static{this.LayoutControlMenuSubmenu=new y("LayoutControlMenuSubmenu")}static{this.LayoutControlMenu=new y("LayoutControlMenu")}static{this.MenubarMainMenu=new y("MenubarMainMenu")}static{this.MenubarAppearanceMenu=new y("MenubarAppearanceMenu")}static{this.MenubarDebugMenu=new y("MenubarDebugMenu")}static{this.MenubarEditMenu=new y("MenubarEditMenu")}static{this.MenubarCopy=new y("MenubarCopy")}static{this.MenubarFileMenu=new y("MenubarFileMenu")}static{this.MenubarGoMenu=new y("MenubarGoMenu")}static{this.MenubarHelpMenu=new y("MenubarHelpMenu")}static{this.MenubarLayoutMenu=new y("MenubarLayoutMenu")}static{this.MenubarNewBreakpointMenu=new y("MenubarNewBreakpointMenu")}static{this.PanelAlignmentMenu=new y("PanelAlignmentMenu")}static{this.PanelPositionMenu=new y("PanelPositionMenu")}static{this.ActivityBarPositionMenu=new y("ActivityBarPositionMenu")}static{this.MenubarPreferencesMenu=new y("MenubarPreferencesMenu")}static{this.MenubarRecentMenu=new y("MenubarRecentMenu")}static{this.MenubarSelectionMenu=new y("MenubarSelectionMenu")}static{this.MenubarShare=new y("MenubarShare")}static{this.MenubarSwitchEditorMenu=new y("MenubarSwitchEditorMenu")}static{this.MenubarSwitchGroupMenu=new y("MenubarSwitchGroupMenu")}static{this.MenubarTerminalMenu=new y("MenubarTerminalMenu")}static{this.MenubarViewMenu=new y("MenubarViewMenu")}static{this.MenubarHomeMenu=new y("MenubarHomeMenu")}static{this.OpenEditorsContext=new y("OpenEditorsContext")}static{this.OpenEditorsContextShare=new y("OpenEditorsContextShare")}static{this.ProblemsPanelContext=new y("ProblemsPanelContext")}static{this.SCMInputBox=new y("SCMInputBox")}static{this.SCMChangesSeparator=new y("SCMChangesSeparator")}static{this.SCMChangesContext=new y("SCMChangesContext")}static{this.SCMIncomingChanges=new y("SCMIncomingChanges")}static{this.SCMIncomingChangesContext=new y("SCMIncomingChangesContext")}static{this.SCMIncomingChangesSetting=new y("SCMIncomingChangesSetting")}static{this.SCMOutgoingChanges=new y("SCMOutgoingChanges")}static{this.SCMOutgoingChangesContext=new y("SCMOutgoingChangesContext")}static{this.SCMOutgoingChangesSetting=new y("SCMOutgoingChangesSetting")}static{this.SCMIncomingChangesAllChangesContext=new y("SCMIncomingChangesAllChangesContext")}static{this.SCMIncomingChangesHistoryItemContext=new y("SCMIncomingChangesHistoryItemContext")}static{this.SCMOutgoingChangesAllChangesContext=new y("SCMOutgoingChangesAllChangesContext")}static{this.SCMOutgoingChangesHistoryItemContext=new y("SCMOutgoingChangesHistoryItemContext")}static{this.SCMChangeContext=new y("SCMChangeContext")}static{this.SCMResourceContext=new y("SCMResourceContext")}static{this.SCMResourceContextShare=new y("SCMResourceContextShare")}static{this.SCMResourceFolderContext=new y("SCMResourceFolderContext")}static{this.SCMResourceGroupContext=new y("SCMResourceGroupContext")}static{this.SCMSourceControl=new y("SCMSourceControl")}static{this.SCMSourceControlInline=new y("SCMSourceControlInline")}static{this.SCMSourceControlTitle=new y("SCMSourceControlTitle")}static{this.SCMHistoryTitle=new y("SCMHistoryTitle")}static{this.SCMTitle=new y("SCMTitle")}static{this.SearchContext=new y("SearchContext")}static{this.SearchActionMenu=new y("SearchActionContext")}static{this.StatusBarWindowIndicatorMenu=new y("StatusBarWindowIndicatorMenu")}static{this.StatusBarRemoteIndicatorMenu=new y("StatusBarRemoteIndicatorMenu")}static{this.StickyScrollContext=new y("StickyScrollContext")}static{this.TestItem=new y("TestItem")}static{this.TestItemGutter=new y("TestItemGutter")}static{this.TestProfilesContext=new y("TestProfilesContext")}static{this.TestMessageContext=new y("TestMessageContext")}static{this.TestMessageContent=new y("TestMessageContent")}static{this.TestPeekElement=new y("TestPeekElement")}static{this.TestPeekTitle=new y("TestPeekTitle")}static{this.TestCallStack=new y("TestCallStack")}static{this.TouchBarContext=new y("TouchBarContext")}static{this.TitleBarContext=new y("TitleBarContext")}static{this.TitleBarTitleContext=new y("TitleBarTitleContext")}static{this.TunnelContext=new y("TunnelContext")}static{this.TunnelPrivacy=new y("TunnelPrivacy")}static{this.TunnelProtocol=new y("TunnelProtocol")}static{this.TunnelPortInline=new y("TunnelInline")}static{this.TunnelTitle=new y("TunnelTitle")}static{this.TunnelLocalAddressInline=new y("TunnelLocalAddressInline")}static{this.TunnelOriginInline=new y("TunnelOriginInline")}static{this.ViewItemContext=new y("ViewItemContext")}static{this.ViewContainerTitle=new y("ViewContainerTitle")}static{this.ViewContainerTitleContext=new y("ViewContainerTitleContext")}static{this.ViewTitle=new y("ViewTitle")}static{this.ViewTitleContext=new y("ViewTitleContext")}static{this.CommentEditorActions=new y("CommentEditorActions")}static{this.CommentThreadTitle=new y("CommentThreadTitle")}static{this.CommentThreadActions=new y("CommentThreadActions")}static{this.CommentThreadAdditionalActions=new y("CommentThreadAdditionalActions")}static{this.CommentThreadTitleContext=new y("CommentThreadTitleContext")}static{this.CommentThreadCommentContext=new y("CommentThreadCommentContext")}static{this.CommentTitle=new y("CommentTitle")}static{this.CommentActions=new y("CommentActions")}static{this.CommentsViewThreadActions=new y("CommentsViewThreadActions")}static{this.InteractiveToolbar=new y("InteractiveToolbar")}static{this.InteractiveCellTitle=new y("InteractiveCellTitle")}static{this.InteractiveCellDelete=new y("InteractiveCellDelete")}static{this.InteractiveCellExecute=new y("InteractiveCellExecute")}static{this.InteractiveInputExecute=new y("InteractiveInputExecute")}static{this.InteractiveInputConfig=new y("InteractiveInputConfig")}static{this.ReplInputExecute=new y("ReplInputExecute")}static{this.IssueReporter=new y("IssueReporter")}static{this.NotebookToolbar=new y("NotebookToolbar")}static{this.NotebookStickyScrollContext=new y("NotebookStickyScrollContext")}static{this.NotebookCellTitle=new y("NotebookCellTitle")}static{this.NotebookCellDelete=new y("NotebookCellDelete")}static{this.NotebookCellInsert=new y("NotebookCellInsert")}static{this.NotebookCellBetween=new y("NotebookCellBetween")}static{this.NotebookCellListTop=new y("NotebookCellTop")}static{this.NotebookCellExecute=new y("NotebookCellExecute")}static{this.NotebookCellExecuteGoTo=new y("NotebookCellExecuteGoTo")}static{this.NotebookCellExecutePrimary=new y("NotebookCellExecutePrimary")}static{this.NotebookDiffCellInputTitle=new y("NotebookDiffCellInputTitle")}static{this.NotebookDiffCellMetadataTitle=new y("NotebookDiffCellMetadataTitle")}static{this.NotebookDiffCellOutputsTitle=new y("NotebookDiffCellOutputsTitle")}static{this.NotebookOutputToolbar=new y("NotebookOutputToolbar")}static{this.NotebookOutlineFilter=new y("NotebookOutlineFilter")}static{this.NotebookOutlineActionMenu=new y("NotebookOutlineActionMenu")}static{this.NotebookEditorLayoutConfigure=new y("NotebookEditorLayoutConfigure")}static{this.NotebookKernelSource=new y("NotebookKernelSource")}static{this.BulkEditTitle=new y("BulkEditTitle")}static{this.BulkEditContext=new y("BulkEditContext")}static{this.TimelineItemContext=new y("TimelineItemContext")}static{this.TimelineTitle=new y("TimelineTitle")}static{this.TimelineTitleContext=new y("TimelineTitleContext")}static{this.TimelineFilterSubMenu=new y("TimelineFilterSubMenu")}static{this.AccountsContext=new y("AccountsContext")}static{this.SidebarTitle=new y("SidebarTitle")}static{this.PanelTitle=new y("PanelTitle")}static{this.AuxiliaryBarTitle=new y("AuxiliaryBarTitle")}static{this.AuxiliaryBarHeader=new y("AuxiliaryBarHeader")}static{this.TerminalInstanceContext=new y("TerminalInstanceContext")}static{this.TerminalEditorInstanceContext=new y("TerminalEditorInstanceContext")}static{this.TerminalNewDropdownContext=new y("TerminalNewDropdownContext")}static{this.TerminalTabContext=new y("TerminalTabContext")}static{this.TerminalTabEmptyAreaContext=new y("TerminalTabEmptyAreaContext")}static{this.TerminalStickyScrollContext=new y("TerminalStickyScrollContext")}static{this.WebviewContext=new y("WebviewContext")}static{this.InlineCompletionsActions=new y("InlineCompletionsActions")}static{this.InlineEditsActions=new y("InlineEditsActions")}static{this.InlineEditActions=new y("InlineEditActions")}static{this.NewFile=new y("NewFile")}static{this.MergeInput1Toolbar=new y("MergeToolbar1Toolbar")}static{this.MergeInput2Toolbar=new y("MergeToolbar2Toolbar")}static{this.MergeBaseToolbar=new y("MergeBaseToolbar")}static{this.MergeInputResultToolbar=new y("MergeToolbarResultToolbar")}static{this.InlineSuggestionToolbar=new y("InlineSuggestionToolbar")}static{this.InlineEditToolbar=new y("InlineEditToolbar")}static{this.ChatContext=new y("ChatContext")}static{this.ChatCodeBlock=new y("ChatCodeblock")}static{this.ChatCompareBlock=new y("ChatCompareBlock")}static{this.ChatMessageTitle=new y("ChatMessageTitle")}static{this.ChatExecute=new y("ChatExecute")}static{this.ChatExecuteSecondary=new y("ChatExecuteSecondary")}static{this.ChatInputSide=new y("ChatInputSide")}static{this.AccessibleView=new y("AccessibleView")}static{this.MultiDiffEditorFileToolbar=new y("MultiDiffEditorFileToolbar")}static{this.DiffEditorHunkToolbar=new y("DiffEditorHunkToolbar")}static{this.DiffEditorSelectionToolbar=new y("DiffEditorSelectionToolbar")}constructor(e){if(y._instances.has(e))throw new TypeError(`MenuId with identifier '${e}' already exists. Use MenuId.for(ident) or a unique identifier`);y._instances.set(e,this),this.id=e}}const m=(0,h.u1)("menuService");class C{static{this._all=new Map}static for(e){let t=this._all.get(e);return t||(t=new C(e),this._all.set(e,t)),t}static merge(e){const t=new Set;for(const i of e)i instanceof C&&t.add(i.id);return t}constructor(e){this.id=e,this.has=t=>t===e}}const _=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new o.QT({merge:C.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(e){return this._commands.set(e.id,e),this._onDidChangeMenu.fire(C.for(y.CommandPalette)),(0,a.s)((()=>{this._commands.delete(e.id)&&this._onDidChangeMenu.fire(C.for(y.CommandPalette))}))}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach(((t,i)=>e.set(i,t))),e}appendMenuItem(e,t){let i=this._menuItems.get(e);i||(i=new c.w,this._menuItems.set(e,i));const s=i.push(t);return this._onDidChangeMenu.fire(C.for(e)),(0,a.s)((()=>{s(),this._onDidChangeMenu.fire(C.for(e))}))}appendMenuItems(e){const t=new a.Cm;for(const{id:i,item:s}of e)t.add(this.appendMenuItem(i,s));return t}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===y.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const i of e)p(i)&&(t.add(i.command.id),i.alt&&t.add(i.alt.id));this._commands.forEach(((i,s)=>{t.has(s)||e.push({command:i})}))}};class v extends n.YH{constructor(e,t,i){super(`submenuitem.${e.submenu.id}`,"string"==typeof e.title?e.title:e.title.value,i,"submenu"),this.item=e,this.hideActions=t}}let b=s=class{static label(e,t){return t?.renderShortTitle&&e.shortTitle?"string"==typeof e.shortTitle?e.shortTitle:e.shortTitle.value:"string"==typeof e.title?e.title:e.title.value}constructor(e,t,i,n,o,a,c){let u;if(this.hideActions=n,this.menuKeybinding=o,this._commandService=c,this.id=e.id,this.label=s.label(e,i),this.tooltip=("string"==typeof e.tooltip?e.tooltip:e.tooltip?.value)??"",this.enabled=!e.precondition||a.contextMatchesRules(e.precondition),this.checked=void 0,e.toggled){const t=e.toggled.condition?e.toggled:{condition:e.toggled};this.checked=a.contextMatchesRules(t.condition),this.checked&&t.tooltip&&(this.tooltip="string"==typeof t.tooltip?t.tooltip:t.tooltip.value),this.checked&&r.L.isThemeIcon(t.icon)&&(u=t.icon),this.checked&&t.title&&(this.label="string"==typeof t.title?t.title:t.title.value)}u||(u=r.L.isThemeIcon(e.icon)?e.icon:void 0),this.item=e,this.alt=t?new s(t,void 0,i,n,void 0,a,c):void 0,this._options=i,this.class=u&&r.L.asClassName(u)}run(...e){let t=[];return this._options?.arg&&(t=[...t,this._options.arg]),this._options?.shouldForwardArgs&&(t=[...t,...e]),this._commandService.executeCommand(this.id,...t)}};b=s=d([g(5,l.fN),g(6,u.d)],b)},73810:(e,t,i)=>{i.d(t,{$:()=>C,D:()=>w});var s,n,r=i(65958),o=i(2106),a=i(10998),c=i(58067),u=i(59715),l=i(31540),h=i(27969),d=i(45539),g=i(13338),p=i(19746),f=i(56071),y=function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},m=function(e,t){return function(i,s){t(i,s,e)}};let C=class{constructor(e,t,i){this._commandService=e,this._keybindingService=t,this._hiddenStates=new _(i)}createMenu(e,t,i){return new k(e,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,this._keybindingService,t)}getMenuActions(e,t,i){const s=new k(e,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...i},this._commandService,this._keybindingService,t),n=s.getActions(i);return s.dispose(),n}resetHiddenStates(e){this._hiddenStates.reset(e)}};C=y([m(0,u.d),m(1,f.b),m(2,d.CS)],C);let _=class{static{s=this}static{this._key="menu.hiddenCommands"}constructor(e){this._storageService=e,this._disposables=new a.Cm,this._onDidChange=new o.vl,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const t=e.get(s._key,0,"{}");this._data=JSON.parse(t)}catch(e){this._data=Object.create(null)}this._disposables.add(e.onDidChangeValue(0,s._key,this._disposables)((()=>{if(!this._ignoreChangeEvent)try{const t=e.get(s._key,0,"{}");this._data=JSON.parse(t)}catch(e){console.log("FAILED to read storage after UPDATE",e)}this._onDidChange.fire()})))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(e,t){return this._hiddenByDefaultCache.get(`${e.id}/${t}`)??!1}setDefaultState(e,t,i){this._hiddenByDefaultCache.set(`${e.id}/${t}`,i)}isHidden(e,t){const i=this._isHiddenByDefault(e,t),s=this._data[e.id]?.includes(t)??!1;return i?!s:s}updateHidden(e,t,i){this._isHiddenByDefault(e,t)&&(i=!i);const s=this._data[e.id];if(i)s?s.indexOf(t)<0&&s.push(t):this._data[e.id]=[t];else if(s){const i=s.indexOf(t);i>=0&&(0,g.UH)(s,i),0===s.length&&delete this._data[e.id]}this._persist()}reset(e){if(void 0===e)this._data=Object.create(null),this._persist();else{for(const{id:t}of e)this._data[t]&&delete this._data[t];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const e=JSON.stringify(this._data);this._storageService.store(s._key,e,0,0)}finally{this._ignoreChangeEvent=!1}}};_=s=y([m(0,d.CS)],_);class v{constructor(e,t){this._id=e,this._collectContextKeysForSubmenus=t,this._menuGroups=[],this._allMenuIds=new Set,this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get allMenuIds(){return this._allMenuIds}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._allMenuIds.clear(),this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const e=this._sort(c.ZG.getMenuItems(this._id));let t;for(const i of e){const e=i.group||"";t&&t[0]===e||(t=[e,[]],this._menuGroups.push(t)),t[1].push(i),this._collectContextKeysAndSubmenuIds(i)}this._allMenuIds.add(this._id)}_sort(e){return e}_collectContextKeysAndSubmenuIds(e){if(v._fillInKbExprKeys(e.when,this._structureContextKeys),(0,c.is)(e)){if(e.command.precondition&&v._fillInKbExprKeys(e.command.precondition,this._preconditionContextKeys),e.command.toggled){const t=e.command.toggled.condition||e.command.toggled;v._fillInKbExprKeys(t,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&(c.ZG.getMenuItems(e.submenu).forEach(this._collectContextKeysAndSubmenuIds,this),this._allMenuIds.add(e.submenu))}static _fillInKbExprKeys(e,t){if(e)for(const i of e.keys())t.add(i)}}let b=n=class extends v{constructor(e,t,i,s,n,r){super(e,i),this._hiddenStates=t,this._commandService=s,this._keybindingService=n,this._contextKeyService=r,this.refresh()}createActionGroups(e){const t=[];for(const i of this._menuGroups){const[s,r]=i;let o;for(const t of r)if(this._contextKeyService.contextMatchesRules(t.when)){const i=(0,c.is)(t);i&&this._hiddenStates.setDefaultState(this._id,t.command.id,!!t.isHiddenByDefault);const s=S(this._id,i?t.command:t,this._hiddenStates);if(i){const i=w(this._commandService,this._keybindingService,t.command.id,t.when);(o??=[]).push(new c.Xe(t.command,t.alt,e,s,i,this._contextKeyService,this._commandService))}else{const i=new n(t.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._keybindingService,this._contextKeyService).createActionGroups(e),r=h.wv.join(...i.map((e=>e[1])));r.length>0&&(o??=[]).push(new c.nI(t,s,r))}}o&&o.length>0&&t.push([s,o])}return t}_sort(e){return e.sort(n._compareMenuItems)}static _compareMenuItems(e,t){const i=e.group,s=t.group;if(i!==s){if(!i)return 1;if(!s)return-1;if("navigation"===i)return-1;if("navigation"===s)return 1;const e=i.localeCompare(s);if(0!==e)return e}const r=e.order||0,o=t.order||0;return r<o?-1:r>o?1:n._compareTitles((0,c.is)(e)?e.command.title:e.title,(0,c.is)(t)?t.command.title:t.title)}static _compareTitles(e,t){const i="string"==typeof e?e:e.original,s="string"==typeof t?t:t.original;return i.localeCompare(s)}};b=n=y([m(3,u.d),m(4,f.b),m(5,l.fN)],b);let k=class{constructor(e,t,i,s,n,u){this._disposables=new a.Cm,this._menuInfo=new b(e,t,i.emitEventsForSubmenuChanges,s,n,u);const l=new r.uC((()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})}),i.eventDebounceDelay);this._disposables.add(l),this._disposables.add(c.ZG.onDidChangeMenu((e=>{for(const t of this._menuInfo.allMenuIds)if(e.has(t)){l.schedule();break}})));const h=this._disposables.add(new a.Cm);this._onDidChange=new o.uI({onWillAddFirstListener:()=>{h.add(u.onDidChangeContext((e=>{const t=e.affectsSome(this._menuInfo.structureContextKeys),i=e.affectsSome(this._menuInfo.preconditionContextKeys),s=e.affectsSome(this._menuInfo.toggledContextKeys);(t||i||s)&&this._onDidChange.fire({menu:this,isStructuralChange:t,isEnablementChange:i,isToggleChange:s})}))),h.add(t.onDidChange((e=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})})))},onDidRemoveLastListener:h.clear.bind(h),delay:i.eventDebounceDelay,merge:e=>{let t=!1,i=!1,s=!1;for(const n of e)if(t=t||n.isStructuralChange,i=i||n.isEnablementChange,s=s||n.isToggleChange,t&&i&&s)break;return{menu:this,isStructuralChange:t,isEnablementChange:i,isToggleChange:s}}}),this.onDidChange=this._onDidChange.event}getActions(e){return this._menuInfo.createActionGroups(e)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};function S(e,t,i){const s=(0,c.i1)(t)?t.submenu.id:t.id,n="string"==typeof t.title?t.title:t.title.value,r=(0,h.ih)({id:`hide/${e.id}/${s}`,label:(0,p.kg)("hide.label","Hide '{0}'",n),run(){i.updateHidden(e,s,!0)}}),o=(0,h.ih)({id:`toggle/${e.id}/${s}`,label:n,get checked(){return!i.isHidden(e,s)},run(){i.updateHidden(e,s,!!this.checked)}});return{hide:r,toggle:o,get isHidden(){return!o.checked}}}function w(e,t,i,s=void 0,n=!0){return(0,h.ih)({id:`configureKeybinding/${i}`,label:(0,p.kg)("configure keybinding","Configure Keybinding"),enabled:n,run(){const n=!t.lookupKeybinding(i)&&s?s.serialize():void 0;e.executeCommand("workbench.action.openGlobalKeybindings",`@command:${i}`+(n?` +when:${n}`:""))}})}k=y([m(3,u.d),m(4,f.b),m(5,l.fN)],k)},84617:(e,t,i)=>{i.d(t,{w:()=>y});var s,n=i(55893),r=i(14333),o=i(48877),a=i(65958),c=i(2106),u=i(22344),l=i(10998),h=i(37264),d=i(16085),g=i(46441),p=function(e,t){return function(i,s){t(i,s,e)}};const f="application/vnd.code.resources";let y=class extends l.jG{static{s=this}constructor(e,t){super(),this.layoutService=e,this.logService=t,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(n.nr||n.c8)&&this.installWebKitWriteTextWorkaround(),this._register(c.Jh.runAndSubscribe(r.Iv,(({window:e,disposables:t})=>{t.add((0,r.ko)(e.document,"copy",(()=>this.clearResourcesState())))}),{window:o.G,disposables:this._store}))}installWebKitWriteTextWorkaround(){const e=()=>{const e=new a.Zv;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=e,(0,r.fz)().navigator.clipboard.write([new ClipboardItem({"text/plain":e.p})]).catch((async t=>{t instanceof Error&&"NotAllowedError"===t.name&&e.isRejected||this.logService.error(t)}))};this._register(c.Jh.runAndSubscribe(this.layoutService.onDidAddContainer,(({container:t,disposables:i})=>{i.add((0,r.ko)(t,"click",e)),i.add((0,r.ko)(t,"keydown",e))}),{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(e,t){if(this.clearResourcesState(),t)this.mapTextToType.set(t,e);else{if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(e);try{return await(0,r.fz)().navigator.clipboard.writeText(e)}catch(e){console.error(e)}this.fallbackWriteText(e)}}fallbackWriteText(e){const t=(0,r.a)(),i=t.activeElement,s=t.body.appendChild((0,r.$)("textarea",{"aria-hidden":!0}));s.style.height="1px",s.style.width="1px",s.style.position="absolute",s.value=e,s.focus(),s.select(),t.execCommand("copy"),(0,r.sb)(i)&&i.focus(),s.remove()}async readText(e){if(e)return this.mapTextToType.get(e)||"";try{return await(0,r.fz)().navigator.clipboard.readText()}catch(e){console.error(e)}return""}async readFindText(){return this.findText}async writeFindText(e){this.findText=e}static{this.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3}async readResources(){try{const e=await(0,r.fz)().navigator.clipboard.read();for(const t of e)if(t.types.includes(`web ${f}`)){const e=await t.getType(`web ${f}`);return JSON.parse(await e.text()).map((e=>h.r.from(e)))}}catch(e){}const e=await this.computeResourcesStateHash();return this.resourcesStateHash!==e&&this.clearResourcesState(),this.resources}async computeResourcesStateHash(){if(0===this.resources.length)return;const e=await this.readText();return(0,u.tW)(e.substring(0,s.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearInternalState(){this.clearResourcesState()}clearResourcesState(){this.resources=[],this.resourcesStateHash=void 0}};y=s=function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}([p(0,d.x),p(1,g.rr)],y)},3338:(e,t,i)=>{i.d(t,{h:()=>s});const s=(0,i(82399).u1)("clipboardService")},59715:(e,t,i)=>{i.d(t,{d:()=>c,w:()=>u});var s=i(2106),n=i(17954),r=i(10998),o=i(85525),a=i(79359);const c=(0,i(82399).u1)("commandService"),u=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new s.vl,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"==typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.metadata&&Array.isArray(e.metadata.args)){const t=[];for(const i of e.metadata.args)t.push(i.constraint);const i=e.handler;e.handler=function(e,...s){return(0,a.jx)(s,t),i(e,...s)}}const{id:i}=e;let s=this._commands.get(i);s||(s=new o.w,this._commands.set(i,s));const n=s.unshift(e),c=(0,r.s)((()=>{n();const e=this._commands.get(i);e?.isEmpty()&&this._commands.delete(i)}));return this._onDidRegisterCommand.fire(i),c}registerCommandAlias(e,t){return u.registerCommand(e,((e,...i)=>e.get(c).executeCommand(t,...i)))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return n.f.first(t)}getCommands(){const e=new Map;for(const t of this._commands.keys()){const i=this.getCommand(t);i&&e.set(t,i)}return e}};u.registerCommand("noop",(()=>{}))},85753:(e,t,i)=>{i.d(t,{Mo:()=>u,ad:()=>n,gD:()=>c,iB:()=>o,kW:()=>r,pG:()=>s});const s=(0,i(82399).u1)("configurationService");function n(e,t){const i=Object.create(null);for(const s in e)r(i,s,e[s],t);return i}function r(e,t,i,s){const n=t.split("."),r=n.pop();let o=e;for(let e=0;e<n.length;e++){const i=n[e];let r=o[i];switch(typeof r){case"undefined":r=o[i]=Object.create(null);break;case"object":if(null===r)return void s(`Ignoring ${t} as ${n.slice(0,e+1).join(".")} is null`);break;default:return void s(`Ignoring ${t} as ${n.slice(0,e+1).join(".")} is ${JSON.stringify(r)}`)}o=r}if("object"==typeof o&&null!==o)try{o[r]=i}catch(e){s(`Ignoring ${t} as ${n.join(".")} is ${JSON.stringify(o)}`)}else s(`Ignoring ${t} as ${n.join(".")} is ${JSON.stringify(o)}`)}function o(e,t){a(e,t.split("."))}function a(e,t){const i=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(i)){const s=e[i];"object"!=typeof s||Array.isArray(s)||(a(s,t),0===Object.keys(s).length&&delete e[i])}}else delete e[i]}function c(e,t,i){const s=function(e,t){let i=e;for(const e of t){if("object"!=typeof i||null===i)return;i=i[e]}return i}(e,t.split("."));return void 0===s?i:s}function u(e){return e.replace(/[\[\]]/g,"")}},17615:(e,t,i)=>{i.d(t,{S1:()=>d,Vk:()=>f,Xm:()=>y});var s=i(13338),n=i(27992),r=i(71386),o=i(79359),a=i(37264),c=i(85753),u=i(27142),l=i(67167);function h(e){return Object.isFrozen(e)?e:r.ol(e)}class d{static createEmptyModel(e){return new d({},[],[],void 0,e)}constructor(e,t,i,s,n){this._contents=e,this._keys=t,this._overrides=i,this.raw=s,this.logService=n,this.overrideConfigurations=new Map}get rawConfiguration(){if(!this._rawConfiguration)if(this.raw?.length){const e=this.raw.map((e=>{if(e instanceof d)return e;const t=new g("",this.logService);return t.parseRaw(e),t.configurationModel}));this._rawConfiguration=e.reduce(((e,t)=>t===e?t:e.merge(t)),e[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?(0,c.gD)(this.contents,e):this.contents}inspect(e,t){const i=this;return{get value(){return h(i.rawConfiguration.getValue(e))},get override(){return t?h(i.rawConfiguration.getOverrideValue(e,t)):void 0},get merged(){return h(t?i.rawConfiguration.override(t).getValue(e):i.rawConfiguration.getValue(e))},get overrides(){const t=[];for(const{contents:s,identifiers:n,keys:r}of i.rawConfiguration.overrides){const o=new d(s,r,[],void 0,i.logService).getValue(e);void 0!==o&&t.push({identifiers:n,value:o})}return t.length?h(t):void 0}}}getOverrideValue(e,t){const i=this.getContentsForOverrideIdentifer(t);return i?e?(0,c.gD)(i,e):i:void 0}override(e){let t=this.overrideConfigurations.get(e);return t||(t=this.createOverrideConfigurationModel(e),this.overrideConfigurations.set(e,t)),t}merge(...e){const t=r.Go(this.contents),i=r.Go(this.overrides),n=[...this.keys],o=this.raw?.length?[...this.raw]:[this];for(const a of e)if(o.push(...a.raw?.length?a.raw:[a]),!a.isEmpty()){this.mergeContents(t,a.contents);for(const e of a.overrides){const[t]=i.filter((t=>s.aI(t.identifiers,e.identifiers)));t?(this.mergeContents(t.contents,e.contents),t.keys.push(...e.keys),t.keys=s.dM(t.keys)):i.push(r.Go(e))}for(const e of a.keys)-1===n.indexOf(e)&&n.push(e)}return new d(t,n,i,o.every((e=>e instanceof d))?void 0:o,this.logService)}createOverrideConfigurationModel(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!=typeof t||!Object.keys(t).length)return this;const i={};for(const e of s.dM([...Object.keys(this.contents),...Object.keys(t)])){let s=this.contents[e];const n=t[e];n&&("object"==typeof s&&"object"==typeof n?(s=r.Go(s),this.mergeContents(s,n)):s=n),i[e]=s}return new d(i,this.keys,this.overrides,void 0,this.logService)}mergeContents(e,t){for(const i of Object.keys(t))i in e&&o.Gv(e[i])&&o.Gv(t[i])?this.mergeContents(e[i],t[i]):e[i]=r.Go(t[i])}getContentsForOverrideIdentifer(e){let t=null,i=null;const s=e=>{e&&(i?this.mergeContents(i,e):i=r.Go(e))};for(const i of this.overrides)1===i.identifiers.length&&i.identifiers[0]===e?t=i.contents:i.identifiers.includes(e)&&s(i.contents);return s(t),i}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.updateValue(e,t,!1)}removeValue(e){const t=this.keys.indexOf(e);-1!==t&&(this.keys.splice(t,1),(0,c.iB)(this.contents,e),u.rC.test(e)&&this.overrides.splice(this.overrides.findIndex((t=>s.aI(t.identifiers,(0,u.Gv)(e)))),1))}updateValue(e,t,i){if((0,c.kW)(this.contents,e,t,(e=>this.logService.error(e))),(i=i||-1===this.keys.indexOf(e))&&this.keys.push(e),u.rC.test(e)){const t=(0,u.Gv)(e),i={identifiers:t,keys:Object.keys(this.contents[e]),contents:(0,c.ad)(this.contents[e],(e=>this.logService.error(e)))},n=this.overrides.findIndex((e=>s.aI(e.identifiers,t)));-1!==n?this.overrides[n]=i:this.overrides.push(i)}}}class g{constructor(e,t){this._name=e,this.logService=t,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||d.createEmptyModel(this.logService)}parseRaw(e,t){this._raw=e;const{contents:i,keys:s,overrides:n,restricted:r,hasExcludedProperties:o}=this.doParseRaw(e,t);this._configurationModel=new d(i,s,n,o?[e]:void 0,this.logService),this._restrictedConfigurations=r||[]}doParseRaw(e,t){const i=l.O.as(u.Fd.Configuration).getConfigurationProperties(),s=this.filter(e,i,!0,t);return e=s.raw,{contents:(0,c.ad)(e,(e=>this.logService.error(`Conflict in settings file ${this._name}: ${e}`))),keys:Object.keys(e),overrides:this.toOverrides(e,(e=>this.logService.error(`Conflict in settings file ${this._name}: ${e}`))),restricted:s.restricted,hasExcludedProperties:s.hasExcludedProperties}}filter(e,t,i,s){let n=!1;if(!s?.scopes&&!s?.skipRestricted&&!s?.exclude?.length)return{raw:e,restricted:[],hasExcludedProperties:n};const r={},o=[];for(const a in e)if(u.rC.test(a)&&i){const i=this.filter(e[a],t,!1,s);r[a]=i.raw,n=n||i.hasExcludedProperties,o.push(...i.restricted)}else{const i=t[a],c=i?void 0!==i.scope?i.scope:3:void 0;i?.restricted&&o.push(a),s.exclude?.includes(a)||!s.include?.includes(a)&&(void 0!==c&&void 0!==s.scopes&&!s.scopes.includes(c)||s.skipRestricted&&i?.restricted)?n=!0:r[a]=e[a]}return{raw:r,restricted:o,hasExcludedProperties:n}}toOverrides(e,t){const i=[];for(const s of Object.keys(e))if(u.rC.test(s)){const n={};for(const t in e[s])n[t]=e[s][t];i.push({identifiers:(0,u.Gv)(s),keys:Object.keys(n),contents:(0,c.ad)(n,t)})}return i}}class p{constructor(e,t,i,s,n,r,o,a,c,u,l,h,d){this.key=e,this.overrides=t,this._value=i,this.overrideIdentifiers=s,this.defaultConfiguration=n,this.policyConfiguration=r,this.applicationConfiguration=o,this.userConfiguration=a,this.localUserConfiguration=c,this.remoteUserConfiguration=u,this.workspaceConfiguration=l,this.folderConfigurationModel=h,this.memoryConfigurationModel=d}toInspectValue(e){return void 0!==e?.value||void 0!==e?.override||void 0!==e?.overrides?e:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class f{constructor(e,t,i,s,r,o,a,c,u,l){this._defaultConfiguration=e,this._policyConfiguration=t,this._applicationConfiguration=i,this._localUserConfiguration=s,this._remoteUserConfiguration=r,this._workspaceConfiguration=o,this._folderConfigurations=a,this._memoryConfiguration=c,this._memoryConfigurationByResource=u,this.logService=l,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new n.fT,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidatedConfigurationModel(e,t,i).getValue(e)}updateValue(e,t,i={}){let s;i.resource?(s=this._memoryConfigurationByResource.get(i.resource),s||(s=d.createEmptyModel(this.logService),this._memoryConfigurationByResource.set(i.resource,s))):s=this._memoryConfiguration,void 0===t?s.removeValue(e):s.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(e,t,i){const s=this.getConsolidatedConfigurationModel(e,t,i),n=this.getFolderConfigurationModelForResource(t.resource,i),r=t.resource&&this._memoryConfigurationByResource.get(t.resource)||this._memoryConfiguration,o=new Set;for(const t of s.overrides)for(const i of t.identifiers)void 0!==s.getOverrideValue(e,i)&&o.add(i);return new p(e,t,s.getValue(e),o.size?[...o]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,i?this._workspaceConfiguration:void 0,n||void 0,r)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(e,t,i){let s=this.getConsolidatedConfigurationModelForResource(t,i);return t.overrideIdentifier&&(s=s.override(t.overrideIdentifier)),this._policyConfiguration.isEmpty()||void 0===this._policyConfiguration.getValue(e)||(s=s.merge(this._policyConfiguration)),s}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const s=t.getFolder(e);s&&(i=this.getFolderConsolidatedConfiguration(s.uri)||i);const n=this._memoryConfigurationByResource.get(e);n&&(i=i.merge(n))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),s=this._folderConfigurations.get(e);s?(t=i.merge(s),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}getFolderConfigurationModelForResource(e,t){if(t&&e){const i=t.getFolder(e);if(i)return this._folderConfigurations.get(i.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce(((e,t)=>{const{contents:i,overrides:s,keys:n}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:s,keys:n}]),e}),[])}}static parse(e,t){const i=this.parseConfigurationModel(e.defaults,t),s=this.parseConfigurationModel(e.policy,t),r=this.parseConfigurationModel(e.application,t),o=this.parseConfigurationModel(e.user,t),c=this.parseConfigurationModel(e.workspace,t),u=e.folders.reduce(((e,i)=>(e.set(a.r.revive(i[0]),this.parseConfigurationModel(i[1],t)),e)),new n.fT);return new f(i,s,r,o,d.createEmptyModel(t),c,u,d.createEmptyModel(t),new n.fT,t)}static parseConfigurationModel(e,t){return new d(e.contents,e.keys,e.overrides,void 0,t)}}class y{constructor(e,t,i,s,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=s,this.logService=n,this._marker="\n",this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const t of e.keys)this.affectedKeys.add(t);for(const[,t]of e.overrides)for(const e of t)this.affectedKeys.add(e);this._affectsConfigStr=this._marker;for(const e of this.affectedKeys)this._affectsConfigStr+=e+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=f.parse(this.previous.data,this.logService)),this._previousConfiguration}affectsConfiguration(e,t){const i=this._marker+e,s=this._affectsConfigStr.indexOf(i);if(s<0)return!1;const n=s+i.length;if(n>=this._affectsConfigStr.length)return!1;const o=this._affectsConfigStr.charCodeAt(n);if(o!==this._markerCode1&&o!==this._markerCode2)return!1;if(t){const i=this.previousConfiguration?this.previousConfiguration.getValue(e,t,this.previous?.workspace):void 0,s=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!r.aI(i,s)}return!0}}},27142:(e,t,i)=>{i.d(t,{Fd:()=>l,Gv:()=>S,rC:()=>k});var s=i(13338),n=i(2106),r=i(79359),o=i(19746),a=i(85753),c=i(51460),u=i(67167);const l={Configuration:"base.contributions.configuration"},h={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},f={properties:{},patternProperties:{}},y={properties:{},patternProperties:{}},m="vscode://schemas/settings/resourceLanguage",C=u.O.as(c.F.JSONContribution),_="\\[([^\\]]+)\\]",v=new RegExp(_,"g"),b=`^(${_})+$`,k=new RegExp(b);function S(e){const t=[];if(k.test(e)){let i=v.exec(e);for(;i?.length;){const s=i[1].trim();s&&t.push(s),i=v.exec(e)}}return(0,s.dM)(t)}const w=new class{constructor(){this.registeredConfigurationDefaults=[],this.overrideIdentifiers=new Set,this._onDidSchemaChange=new n.vl,this._onDidUpdateConfiguration=new n.vl,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:o.kg("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},C.registerSchema(m,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=new Set;this.doRegisterConfigurations(e,t,i),C.registerSchema(m,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:i})}registerDefaultConfigurations(e){const t=new Set;this.doRegisterDefaultConfigurations(e,t),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:t,defaultsOverrides:!0})}doRegisterDefaultConfigurations(e,t){this.registeredConfigurationDefaults.push(...e);const i=[];for(const{overrides:s,source:n}of e)for(const e in s){t.add(e);const r=this.configurationDefaultsOverrides.get(e)??this.configurationDefaultsOverrides.set(e,{configurationDefaultOverrides:[]}).get(e),o=s[e];if(r.configurationDefaultOverrides.push({value:o,source:n}),k.test(e)){const t=this.mergeDefaultConfigurationsForOverrideIdentifier(e,o,n,r.configurationDefaultOverrideValue);if(!t)continue;r.configurationDefaultOverrideValue=t,this.updateDefaultOverrideProperty(e,t,n),i.push(...S(e))}else{const t=this.mergeDefaultConfigurationsForConfigurationProperty(e,o,n,r.configurationDefaultOverrideValue);if(!t)continue;r.configurationDefaultOverrideValue=t;const i=this.configurationProperties[e];i&&(this.updatePropertyDefaultValue(e,i),this.updateSchema(e,i))}}this.doRegisterOverrideIdentifiers(i)}updateDefaultOverrideProperty(e,t,i){const s={type:"object",default:t.value,description:o.kg("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",(0,a.Mo)(e)),$ref:m,defaultDefaultValue:t.value,source:i,defaultValueSource:i};this.configurationProperties[e]=s,this.defaultLanguageConfigurationOverridesNode.properties[e]=s}mergeDefaultConfigurationsForOverrideIdentifier(e,t,i,s){const n=s?.value||{},o=s?.source??new Map;if(o instanceof Map){for(const e of Object.keys(t)){const s=t[e];if(r.Gv(s)&&(r.b0(n[e])||r.Gv(n[e]))){if(n[e]={...n[e]??{},...s},i)for(const t in s)o.set(`${e}.${t}`,i)}else n[e]=s,i?o.set(e,i):o.delete(e)}return{value:n,source:o}}console.error("objectConfigurationSources is not a Map")}mergeDefaultConfigurationsForConfigurationProperty(e,t,i,s){const n=this.configurationProperties[e],o=s?.value??n?.defaultDefaultValue;let a=i;if(r.Gv(t)&&(void 0!==n&&"object"===n.type||void 0===n&&(r.b0(o)||r.Gv(o)))){if(a=s?.source??new Map,!(a instanceof Map))return void console.error("defaultValueSource is not a Map");for(const s in t)i&&a.set(`${e}.${s}`,i);t={...r.Gv(o)?o:{},...t}}return{value:t,source:a}}registerOverrideIdentifiers(e){this.doRegisterOverrideIdentifiers(e),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(e,t,i){e.forEach((e=>{this.validateAndRegisterProperties(e,t,e.extensionInfo,e.restrictedProperties,void 0,i),this.configurationContributors.push(e),this.registerJSONConfiguration(e)}))}validateAndRegisterProperties(e,t=!0,i,s,n=3,o){n=r.z(e.scope)?n:e.scope;const a=e.properties;if(a)for(const e in a){const c=a[e];t&&x(e,c)?delete a[e]:(c.source=i,c.defaultDefaultValue=a[e].default,this.updatePropertyDefaultValue(e,c),k.test(e)?c.scope=void 0:(c.scope=r.z(c.scope)?n:c.scope,c.restricted=r.z(c.restricted)?!!s?.includes(e):c.restricted),!a[e].hasOwnProperty("included")||a[e].included?(this.configurationProperties[e]=a[e],a[e].policy?.name&&this.policyConfigurations.set(a[e].policy.name,e),!a[e].deprecationMessage&&a[e].markdownDeprecationMessage&&(a[e].deprecationMessage=a[e].markdownDeprecationMessage),o.add(e)):(this.excludedConfigurationProperties[e]=a[e],delete a[e]))}const c=e.allOf;if(c)for(const e of c)this.validateAndRegisterProperties(e,t,i,s,n,o)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(e){const t=e=>{const i=e.properties;if(i)for(const e in i)this.updateSchema(e,i[e]);const s=e.allOf;s?.forEach(t)};t(e)}updateSchema(e,t){switch(h.properties[e]=t,t.scope){case 1:d.properties[e]=t;break;case 2:g.properties[e]=t;break;case 6:p.properties[e]=t;break;case 3:f.properties[e]=t;break;case 4:y.properties[e]=t;break;case 5:y.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:o.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:o.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:m};this.updatePropertyDefaultValue(t,i),h.properties[t]=i,d.properties[t]=i,g.properties[t]=i,p.properties[t]=i,f.properties[t]=i,y.properties[t]=i}}registerOverridePropertyPatternKey(){const e={type:"object",description:o.kg("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:o.kg("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:m};h.patternProperties[b]=e,d.patternProperties[b]=e,g.patternProperties[b]=e,p.patternProperties[b]=e,f.patternProperties[b]=e,y.patternProperties[b]=e,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){const i=this.configurationDefaultsOverrides.get(e)?.configurationDefaultOverrideValue;let s,n;!i||t.disallowConfigurationDefault&&i.source||(s=i.value,n=i.source),r.b0(s)&&(s=t.defaultDefaultValue,n=void 0),r.b0(s)&&(s=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=s,t.defaultValueSource=n}};function x(e,t){return e.trim()?k.test(e)?o.kg("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==w.getConfigurationProperties()[e]?o.kg("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):t.policy?.name&&void 0!==w.getPolicyConfigurations().get(t.policy?.name)?o.kg("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",e,t.policy?.name,w.getPolicyConfigurations().get(t.policy?.name)):null:o.kg("config.property.empty","Cannot register an empty property")}u.O.add(l.Configuration,w)},88924:(e,t,i)=>{i.d(t,{M:()=>a});var s=i(10998),n=i(17615),r=i(27142),o=i(67167);class a extends s.jG{get configurationModel(){return this._configurationModel}constructor(e){super(),this.logService=e,this._configurationModel=n.S1.createEmptyModel(this.logService)}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=n.S1.createEmptyModel(this.logService);const e=o.O.as(r.Fd.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(e),e)}updateConfigurationModel(e,t){const i=this.getConfigurationDefaultOverrides();for(const s of e){const e=i[s],n=t[s];void 0!==e?this._configurationModel.setValue(s,e):n?this._configurationModel.setValue(s,n.default):this._configurationModel.removeValue(s)}}}},63469:(e,t,i)=>{i.d(t,{i7:()=>k});var s=i(2106),n=i(17954),r=i(10998),o=i(71386),a=i(66525),c=i(37264),u=i(19746),l=i(59715),h=i(85753),d=i(31540);const g="data-keybinding-context";class p{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}get value(){return{...this._value}}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class f extends p{static{this.INSTANCE=new f}constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}class y extends p{static{this._keyPrefix="config."}constructor(e,t,i){super(e,null),this._configurationService=t,this._values=a.cB.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((e=>{if(7===e.source){const e=Array.from(this._values,(([e])=>e));this._values.clear(),i.fire(new _(e))}else{const t=[];for(const i of e.affectedKeys){const e=`config.${i}`,s=this._values.findSuperstr(e);void 0!==s&&(t.push(...n.f.map(s,(([e])=>e))),this._values.deleteSuperstr(e)),this._values.has(e)&&(t.push(e),this._values.delete(e))}i.fire(new _(t))}}))}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(y._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(y._keyPrefix.length),i=this._configurationService.getValue(t);let s;switch(typeof i){case"number":case"boolean":case"string":s=i;break;default:s=Array.isArray(i)?JSON.stringify(i):i}return this._values.set(e,s),s}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}class m{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class C{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}allKeysContainedIn(e){return this.affectsSome(e)}}class _{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}allKeysContainedIn(e){return this.keys.every((t=>e.has(t)))}}class v{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}allKeysContainedIn(e){return this.events.every((t=>t.allKeysContainedIn(e)))}}class b extends r.jG{constructor(e){super(),this._onDidChangeContext=this._register(new s.fV({merge:e=>new v(e)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new m(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new x(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return!e||e.evaluate(t)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new C(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new C(e))}getContext(e){return this._isDisposed?f.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute(g)){const t=e.getAttribute(g);return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}dispose(){super.dispose(),this._isDisposed=!0}}let k=class extends b{constructor(e){super(0),this._contexts=new Map,this._lastContextId=0;const t=this._register(new y(this._myContextId,e,this._onDidChangeContext));this._contexts.set(this._myContextId,t)}getContextValuesContainer(e){return this._isDisposed?f.INSTANCE:this._contexts.get(e)||f.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const t=++this._lastContextId;return this._contexts.set(t,new p(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};var S,w;k=function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}([(S=0,w=h.pG,function(e,t){w(e,t,S)})],k);class x extends b{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=this._register(new r.HE),this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(g)){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(e?": "+e:""))}this._domNode.setAttribute(g,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext((e=>{var t;t=this._parent.getContextValuesContainer(this._myContextId).value,e.allKeysContainedIn(new Set(Object.keys(t)))||this._onDidChangeContext.fire(e)}))}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(g),super.dispose())}getContextValuesContainer(e){return this._isDisposed?f.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}l.w.registerCommand("_setContext",(function(e,t,i){e.get(d.fN).createKey(String(t),function(e){return(0,o.PI)(e,(e=>"object"==typeof e&&1===e.$mid?c.r.revive(e).toString():e instanceof c.r?e.toString():void 0))}(i))})),l.w.registerCommand({id:"getContextKeyInfo",handler:()=>[...d.N1.all()].sort(((e,t)=>e.key.localeCompare(t.key))),metadata:{description:(0,u.kg)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),l.w.registerCommand("_generateContextKeyInfo",(function(){const e=[],t=new Set;for(const i of d.N1.all())t.has(i.key)||(t.add(i.key),e.push(i));e.sort(((e,t)=>e.key.localeCompare(t.key))),console.log(JSON.stringify(e,void 0,2))}))},31540:(e,t,i)=>{i.d(t,{M$:()=>w,fN:()=>q,N1:()=>W,jQ:()=>x,M0:()=>X});var s=i(63339),n=i(16844),r=i(94327),o=i(19746);function a(...e){switch(e.length){case 1:return(0,o.kg)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",e[0]);case 2:return(0,o.kg)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",e[0],e[1]);case 3:return(0,o.kg)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",e[0],e[1],e[2]);default:return}}const c=(0,o.kg)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),u=(0,o.kg)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class l{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(e){switch(e.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return e.isTripleEq?"===":"==";case 4:return e.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:case 8:return">=";case 9:return"=~";case 10:case 17:case 18:case 19:return e.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 20:return"EOF";default:throw(0,r.iH)(`unhandled token type: ${JSON.stringify(e)}; have you forgotten to add a case?`)}}static{this._regexFlags=new Set(["i","g","s","m","y","u"].map((e=>e.charCodeAt(0))))}static{this._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}reset(e){return this._input=e,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const e=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:e})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const e=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:e})}else this._match(126)?this._addToken(9):this._error(a("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(a("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(a("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(e){return!this._isAtEnd()&&this._input.charCodeAt(this._current)===e&&(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(e){this._tokens.push({type:e,offset:this._start})}_error(e){const t=this._start,i=this._input.substring(this._start,this._current),s={type:19,offset:this._start,lexeme:i};this._errors.push({offset:t,lexeme:i,additionalInfo:e}),this._tokens.push(s)}_string(){this.stringRe.lastIndex=this._start;const e=this.stringRe.exec(this._input);if(e){this._current=this._start+e[0].length;const t=this._input.substring(this._start,this._current),i=l._keywords.get(t);i?this._addToken(i):this._tokens.push({type:17,lexeme:t,offset:this._start})}}_quotedString(){for(;39!==this._peek()&&!this._isAtEnd();)this._advance();this._isAtEnd()?this._error(c):(this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1}))}_regex(){let e=this._current,t=!1,i=!1;for(;;){if(e>=this._input.length)return this._current=e,void this._error(u);const s=this._input.charCodeAt(e);if(t)t=!1;else{if(47===s&&!i){e++;break}91===s?i=!0:92===s?t=!0:93===s&&(i=!1)}e++}for(;e<this._input.length&&l._regexFlags.has(this._input.charCodeAt(e));)e++;this._current=e;const s=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:s,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}var h=i(82399);const d=new Map;d.set("false",!1),d.set("true",!0),d.set("isMac",s.zx),d.set("isLinux",s.j9),d.set("isWindows",s.uF),d.set("isWeb",s.HZ),d.set("isMacNative",s.zx&&!s.HZ),d.set("isEdge",s.UP),d.set("isFirefox",s.gm),d.set("isChrome",s.H8),d.set("isSafari",s.nr);const g=Object.prototype.hasOwnProperty,p={regexParsingWithErrorRecovery:!0},f=(0,o.kg)("contextkey.parser.error.emptyString","Empty context key expression"),y=(0,o.kg)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),m=(0,o.kg)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),C=(0,o.kg)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),_=(0,o.kg)("contextkey.parser.error.unexpectedToken","Unexpected token"),v=(0,o.kg)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),b=(0,o.kg)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),k=(0,o.kg)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class S{static{this._parseError=new Error}constructor(e=p){this._config=e,this._scanner=new l,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(e){if(""!==e){this._tokens=this._scanner.reset(e).scan(),this._current=0,this._parsingErrors=[];try{const e=this._expr();if(!this._isAtEnd()){const e=this._peek(),t=17===e.type?v:void 0;throw this._parsingErrors.push({message:_,offset:e.offset,lexeme:l.getLexeme(e),additionalInfo:t}),S._parseError}return e}catch(e){if(e!==S._parseError)throw e;return}}else this._parsingErrors.push({message:f,offset:0,lexeme:"",additionalInfo:y})}_expr(){return this._or()}_or(){const e=[this._and()];for(;this._matchOne(16);){const t=this._and();e.push(t)}return 1===e.length?e[0]:w.or(...e)}_and(){const e=[this._term()];for(;this._matchOne(15);){const t=this._term();e.push(t)}return 1===e.length?e[0]:w.and(...e)}_term(){if(this._matchOne(2)){const e=this._peek();switch(e.type){case 11:return this._advance(),T.INSTANCE;case 12:return this._advance(),I.INSTANCE;case 0:{this._advance();const e=this._expr();return this._consume(1,C),e?.negate()}case 17:return this._advance(),K.create(e.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",e)}}return this._primary()}_primary(){const e=this._peek();switch(e.type){case 11:return this._advance(),w.true();case 12:return this._advance(),w.false();case 0:{this._advance();const e=this._expr();return this._consume(1,C),e}case 17:{const t=e.lexeme;if(this._advance(),this._matchOne(9)){const e=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),10!==e.type)throw this._errExpectedButGot("REGEX",e);const i=e.lexeme,s=i.lastIndexOf("/"),n=s===i.length-1?void 0:this._removeFlagsGY(i.substring(s+1));let r;try{r=new RegExp(i.substring(1,s),n)}catch(t){throw this._errExpectedButGot("REGEX",e)}return B.create(t,r)}switch(e.type){case 10:case 19:{const i=[e.lexeme];this._advance();let s=this._peek(),n=0;for(let t=0;t<e.lexeme.length;t++)40===e.lexeme.charCodeAt(t)?n++:41===e.lexeme.charCodeAt(t)&&n--;for(;!this._isAtEnd()&&15!==s.type&&16!==s.type;){switch(s.type){case 0:n++;break;case 1:n--;break;case 10:case 18:for(let t=0;t<s.lexeme.length;t++)40===s.lexeme.charCodeAt(t)?n++:41===e.lexeme.charCodeAt(t)&&n--}if(n<0)break;i.push(l.getLexeme(s)),this._advance(),s=this._peek()}const r=i.join(""),o=r.lastIndexOf("/"),a=o===r.length-1?void 0:this._removeFlagsGY(r.substring(o+1));let c;try{c=new RegExp(r.substring(1,o),a)}catch(t){throw this._errExpectedButGot("REGEX",e)}return w.regex(t,c)}case 18:{const i=e.lexeme;this._advance();let s=null;if(!(0,n.AV)(i)){const t=i.indexOf("/"),n=i.lastIndexOf("/");if(t!==n&&t>=0){const r=i.slice(t+1,n),o="i"===i[n+1]?"i":"";try{s=new RegExp(r,o)}catch(t){throw this._errExpectedButGot("REGEX",e)}}}if(null===s)throw this._errExpectedButGot("REGEX",e);return B.create(t,s)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,m);const e=this._value();return w.notIn(t,e)}switch(this._peek().type){case 3:{this._advance();const e=this._value();if(18===this._previous().type)return w.equals(t,e);switch(e){case"true":return w.has(t);case"false":return w.not(t);default:return w.equals(t,e)}}case 4:{this._advance();const e=this._value();if(18===this._previous().type)return w.notEquals(t,e);switch(e){case"true":return w.not(t);case"false":return w.has(t);default:return w.notEquals(t,e)}}case 5:return this._advance(),L.create(t,this._value());case 6:return this._advance(),F.create(t,this._value());case 7:return this._advance(),P.create(t,this._value());case 8:return this._advance(),V.create(t,this._value());case 13:return this._advance(),w.in(t,this._value());default:return w.has(t)}}case 20:throw this._parsingErrors.push({message:b,offset:e.offset,lexeme:"",additionalInfo:k}),S._parseError;default:throw this._errExpectedButGot("true | false | KEY \n\t| KEY '=~' REGEX \n\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value",this._peek())}}_value(){const e=this._peek();switch(e.type){case 17:case 18:return this._advance(),e.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(e){return e.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(e){return!!this._check(e)&&(this._advance(),!0)}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(e,t){if(this._check(e))return this._advance();throw this._errExpectedButGot(t,this._peek())}_errExpectedButGot(e,t,i){const s=(0,o.kg)("contextkey.parser.error.expectedButGot","Expected: {0}\nReceived: '{1}'.",e,l.getLexeme(t)),n=t.offset,r=l.getLexeme(t);return this._parsingErrors.push({message:s,offset:n,lexeme:r,additionalInfo:i}),S._parseError}_check(e){return this._peek().type===e}_peek(){return this._tokens[this._current]}_isAtEnd(){return 20===this._peek().type}}class w{static false(){return T.INSTANCE}static true(){return I.INSTANCE}static has(e){return A.create(e)}static equals(e,t){return E.create(e,t)}static notEquals(e,t){return R.create(e,t)}static regex(e,t){return B.create(e,t)}static in(e,t){return D.create(e,t)}static notIn(e,t){return N.create(e,t)}static not(e){return K.create(e)}static and(...e){return G.create(e,null,!0)}static or(...e){return $.create(e,null,!0)}static{this._parser=new S({regexParsingWithErrorRecovery:!1})}static deserialize(e){if(null!=e)return this._parser.parse(e)}}function x(e,t){const i=e?e.substituteConstants():void 0,s=t?t.substituteConstants():void 0;return!i&&!s||!(!i||!s)&&i.equals(s)}function M(e,t){return e.cmp(t)}class T{static{this.INSTANCE=new T}constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return I.INSTANCE}}class I{static{this.INSTANCE=new I}constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}substituteConstants(){return this}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return T.INSTANCE}}class A{static create(e,t=null){const i=d.get(e);return"boolean"==typeof i?i?I.INSTANCE:T.INSTANCE:new A(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=2}cmp(e){return e.type!==this.type?this.type-e.type:z(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=d.get(this.key);return"boolean"==typeof e?e?I.INSTANCE:T.INSTANCE:this}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=K.create(this.key,this)),this.negated}}class E{static create(e,t,i=null){if("boolean"==typeof t)return t?A.create(e,i):K.create(e,i);const s=d.get(e);return"boolean"==typeof s?t===(s?"true":"false")?I.INSTANCE:T.INSTANCE:new E(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=4}cmp(e){return e.type!==this.type?this.type-e.type:U(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){const e=d.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?I.INSTANCE:T.INSTANCE}return this}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=R.create(this.key,this.value,this)),this.negated}}class D{static create(e,t){return new D(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=10,this.negated=null}cmp(e){return e.type!==this.type?this.type-e.type:U(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&this.key===e.key&&this.valueKey===e.valueKey}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.includes(i):"string"==typeof i&&"object"==typeof t&&null!==t&&g.call(t,i)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=N.create(this.key,this.valueKey)),this.negated}}class N{static create(e,t){return new N(e,t)}constructor(e,t){this.key=e,this.valueKey=t,this.type=11,this._negated=D.create(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:this._negated.cmp(e._negated)}equals(e){return e.type===this.type&&this._negated.equals(e._negated)}substituteConstants(){return this}evaluate(e){return!this._negated.evaluate(e)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class R{static create(e,t,i=null){if("boolean"==typeof t)return t?K.create(e,i):A.create(e,i);const s=d.get(e);return"boolean"==typeof s?t===(s?"true":"false")?T.INSTANCE:I.INSTANCE:new R(e,t,i)}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=5}cmp(e){return e.type!==this.type?this.type-e.type:U(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){const e=d.get(this.key);if("boolean"==typeof e){const t=e?"true":"false";return this.value===t?T.INSTANCE:I.INSTANCE}return this}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this.key,this.value,this)),this.negated}}class K{static create(e,t=null){const i=d.get(e);return"boolean"==typeof i?i?T.INSTANCE:I.INSTANCE:new K(e,t)}constructor(e,t){this.key=e,this.negated=t,this.type=3}cmp(e){return e.type!==this.type?this.type-e.type:z(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}substituteConstants(){const e=d.get(this.key);return"boolean"==typeof e?e?T.INSTANCE:I.INSTANCE:this}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this)),this.negated}}function O(e,t){if("string"==typeof e){const t=parseFloat(e);isNaN(t)||(e=t)}return"string"==typeof e||"number"==typeof e?t(e):T.INSTANCE}class P{static create(e,t,i=null){return O(t,(t=>new P(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=12}cmp(e){return e.type!==this.type?this.type-e.type:U(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=F.create(this.key,this.value,this)),this.negated}}class V{static create(e,t,i=null){return O(t,(t=>new V(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=13}cmp(e){return e.type!==this.type?this.type-e.type:U(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=L.create(this.key,this.value,this)),this.negated}}class L{static create(e,t,i=null){return O(t,(t=>new L(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=14}cmp(e){return e.type!==this.type?this.type-e.type:U(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=V.create(this.key,this.value,this)),this.negated}}class F{static create(e,t,i=null){return O(t,(t=>new F(e,t,i)))}constructor(e,t,i){this.key=e,this.value=t,this.negated=i,this.type=15}cmp(e){return e.type!==this.type?this.type-e.type:U(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&this.key===e.key&&this.value===e.value}substituteConstants(){return this}evaluate(e){return"string"!=typeof this.value&&parseFloat(e.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=P.create(this.key,this.value,this)),this.negated}}class B{static create(e,t){return new B(e,t)}constructor(e,t){this.key=e,this.regexp=t,this.type=7,this.negated=null}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}substituteConstants(){return this}evaluate(e){const t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=H.create(this)),this.negated}}class H{static create(e){return new H(e)}constructor(e){this._actual=e,this.type=8}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}substituteConstants(){return this}evaluate(e){return!this._actual.evaluate(e)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function j(e){let t=null;for(let i=0,s=e.length;i<s;i++){const s=e[i].substituteConstants();if(e[i]!==s&&null===t){t=[];for(let s=0;s<i;s++)t[s]=e[s]}null!==t&&(t[i]=s)}return null===t?e:t}class G{static create(e,t,i){return G._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=6}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=M(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=j(this.expr);return e===this.expr?this:G.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e,t,i){const s=[];let n=!1;for(const t of e)if(t)if(1!==t.type){if(0===t.type)return T.INSTANCE;6!==t.type?s.push(t):s.push(...t.expr)}else n=!0;if(0===s.length&&n)return I.INSTANCE;if(0!==s.length){if(1===s.length)return s[0];s.sort(M);for(let e=1;e<s.length;e++)s[e-1].equals(s[e])&&(s.splice(e,1),e--);if(1===s.length)return s[0];for(;s.length>1;){const e=s[s.length-1];if(9!==e.type)break;s.pop();const t=s.pop(),n=0===s.length,r=$.create(e.expr.map((e=>G.create([e,t],null,i))),null,n);r&&(s.push(r),s.sort(M))}if(1===s.length)return s[0];if(i){for(let e=0;e<s.length;e++)for(let t=e+1;t<s.length;t++)if(s[e].negate().equals(s[t]))return T.INSTANCE;if(1===s.length)return s[0]}return new G(s,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" && ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());this.negated=$.create(e,this,!0)}return this.negated}}class ${static create(e,t,i){return $._normalizeArr(e,t,i)}constructor(e,t){this.expr=e,this.negated=t,this.type=9}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=M(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}substituteConstants(){const e=j(this.expr);return e===this.expr?this:$.create(e,this.negated,!1)}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e,t,i){let s=[],n=!1;if(e){for(let t=0,i=e.length;t<i;t++){const i=e[t];if(i)if(0!==i.type){if(1===i.type)return I.INSTANCE;9!==i.type?s.push(i):s=s.concat(i.expr)}else n=!0}if(0===s.length&&n)return T.INSTANCE;s.sort(M)}if(0!==s.length){if(1===s.length)return s[0];for(let e=1;e<s.length;e++)s[e-1].equals(s[e])&&(s.splice(e,1),e--);if(1===s.length)return s[0];if(i){for(let e=0;e<s.length;e++)for(let t=e+1;t<s.length;t++)if(s[e].negate().equals(s[t]))return I.INSTANCE;if(1===s.length)return s[0]}return new $(s,t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" || ")}keys(){const e=[];for(const t of this.expr)e.push(...t.keys());return e}negate(){if(!this.negated){const e=[];for(const t of this.expr)e.push(t.negate());for(;e.length>1;){const t=e.shift(),i=e.shift(),s=[];for(const e of Z(t))for(const t of Z(i))s.push(G.create([e,t],null,!1));e.unshift($.create(s,null,!1))}this.negated=$.create(e,this,!0)}return this.negated}}class W extends A{static{this._info=[]}static all(){return W._info.values()}constructor(e,t,i){super(e,null),this._defaultValue=t,"object"==typeof i?W._info.push({...i,key:e}):!0!==i&&W._info.push({key:e,description:i,type:null!=t?typeof t:void 0})}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(e){return E.create(this.key,e)}}const q=(0,h.u1)("contextKeyService");function z(e,t){return e<t?-1:e>t?1:0}function U(e,t,i,s){return e<i?-1:e>i?1:t<s?-1:t>s?1:0}function X(e,t){if(0===e.type||1===t.type)return!0;if(9===e.type)return 9===t.type&&Y(e.expr,t.expr);if(9===t.type){for(const i of t.expr)if(X(e,i))return!0;return!1}if(6===e.type){if(6===t.type)return Y(t.expr,e.expr);for(const i of e.expr)if(X(i,t))return!0;return!1}return e.equals(t)}function Y(e,t){let i=0,s=0;for(;i<e.length&&s<t.length;){const n=e[i].cmp(t[s]);if(n<0)return!1;0===n?(i++,s++):s++}return i===e.length}function Z(e){return 9===e.type?e.expr:[e]}},13034:(e,t,i)=>{i.d(t,{J7:()=>a,aV:()=>o});var s=i(63339),n=i(19746),r=i(31540);new r.N1("isMac",s.zx,(0,n.kg)("isMac","Whether the operating system is macOS")),new r.N1("isLinux",s.j9,(0,n.kg)("isLinux","Whether the operating system is Linux")),new r.N1("isWindows",s.uF,(0,n.kg)("isWindows","Whether the operating system is Windows")),new r.N1("isWeb",s.HZ,(0,n.kg)("isWeb","Whether the platform is a web browser")),new r.N1("isMacNative",s.zx&&!s.HZ,(0,n.kg)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new r.N1("isIOS",s.un,(0,n.kg)("isIOS","Whether the operating system is iOS")),new r.N1("isMobile",s.Fr,(0,n.kg)("isMobile","Whether the platform is a mobile web browser")),new r.N1("isDevelopment",!1,!0),new r.N1("productQualityType","",(0,n.kg)("productQualityType","Quality type of VS Code"));const o="inputFocus",a=new r.N1(o,!1,(0,n.kg)("inputFocus","Whether keyboard focus is inside an input box"))},31517:(e,t,i)=>{i.d(t,{K:()=>v});var s=i(14333),n=i(27969),r=i(2106),o=i(10998),a=i(25693),c=i(58067),u=i(31540),l=i(56071),h=i(29879),d=i(76243),g=i(9715),p=i(41575),f=i(94327),y=i(25654);class m{constructor(e,t,i,s){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=s,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let i;this.focusToReturn=(0,s.bq)();const r=(0,s.sb)(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:r=>{this.lastContainer=r;const a=e.getMenuClassName?e.getMenuClassName():"";a&&(r.className+=" "+a),this.options.blockMouse&&(this.block=r.appendChild((0,s.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",this.blockDisposable?.dispose(),this.blockDisposable=(0,s.ko)(this.block,s.Bx.MOUSE_DOWN,(e=>e.stopPropagation())));const c=new o.Cm,u=e.actionRunner||new n.LN;u.onWillRun((t=>this.onActionRun(t,!e.skipTelemetry)),this,c),u.onDidRun(this.onDidActionRun,this,c),i=new p.W1(r,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:u,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)},y.XS),i.onDidCancel((()=>this.contextViewService.hideContextView(!0)),null,c),i.onDidBlur((()=>this.contextViewService.hideContextView(!0)),null,c);const l=(0,s.zk)(r);return c.add((0,s.ko)(l,s.Bx.BLUR,(()=>this.contextViewService.hideContextView(!0)))),c.add((0,s.ko)(l,s.Bx.MOUSE_DOWN,(e=>{if(e.defaultPrevented)return;const t=new g.P(l,e);let i=t.target;if(!t.rightButton){for(;i;){if(i===r)return;i=i.parentElement}this.contextViewService.hideContextView(!0)}}))),(0,o.qE)(c,i)},focus:()=>{i?.focus(!!e.autoSelectFirstItem)},onHide:t=>{e.onHide?.(!!t),this.block&&(this.block.remove(),this.block=null),this.blockDisposable?.dispose(),this.blockDisposable=null,this.lastContainer&&((0,s.bq)()===this.lastContainer||(0,s.QX)((0,s.bq)(),this.lastContainer))&&this.focusToReturn?.focus(),this.lastContainer=null}},r,!!r)}onActionRun(e,t){t&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(e){e.error&&!(0,f.MB)(e.error)&&this.notificationService.error(e.error)}}var C=i(52348),_=function(e,t){return function(i,s){t(i,s,e)}};let v=class extends o.jG{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new m(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(e,t,i,s,n,o){super(),this.telemetryService=e,this.notificationService=t,this.contextViewService=i,this.keybindingService=s,this.menuService=n,this.contextKeyService=o,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new r.vl),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new r.vl)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){e=b.transform(e,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...e,onHide:t=>{e.onHide?.(t),this._onDidHideContextMenu.fire()}}),s.Di.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};var b;v=function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}([_(0,d.k),_(1,h.Ot),_(2,C.l),_(3,l.b),_(4,c.ez),_(5,u.fN)],v),function(e){e.transform=function(e,t,i){if(!((s=e)&&s.menuId instanceof c.D8))return e;var s;const{menuId:r,menuActionOptions:o,contextKeyService:u}=e;return{...e,getActions:()=>{const s=[];if(r){const e=t.getMenuActions(r,u??i,o);(0,a.$u)(e,s)}return e.getActions?n.wv.join(e.getActions(),s):s}}}}(b||(b={}))},52348:(e,t,i)=>{i.d(t,{Z:()=>r,l:()=>n});var s=i(82399);const n=(0,s.u1)("contextViewService"),r=(0,s.u1)("contextMenuService")},23445:(e,t,i)=>{i.d(t,{Y:()=>l,j:()=>a});var s=i(84451),n=i(10998),r=i(16085),o=i(14333);let a=class extends n.jG{constructor(e){super(),this.layoutService=e,this.contextView=this._register(new s.vx(this.layoutService.mainContainer,1)),this.layout(),this._register(e.onDidLayoutContainer((()=>this.layout())))}showContextView(e,t,i){let s;s=t?t===this.layoutService.getContainer((0,o.zk)(t))?1:i?3:2:1,this.contextView.setContainer(t??this.layoutService.activeContainer,s),this.contextView.show(e);const n={close:()=>{this.openContextView===n&&this.hideContextView()}};return this.openContextView=n,n}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e),this.openContextView=void 0}};var c,u;a=function(e,t,i,s){var n,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(o=(r<3?n(o):r>3?n(t,i,o):n(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o}([(c=0,u=r.x,function(e,t){u(e,t,c)})],a);class l extends a{getContextViewElement(){return this.contextView.getViewElement()}}},94535:(e,t,i)=>{i.d(t,{X:()=>s});const s=(0,i(82399).u1)("dialogService")},52947:(e,t,i)=>{var s;i.d(t,{$:()=>s}),function(e){e[e.API=0]="API",e[e.USER=1]="USER"}(s||(s={}))}}]);