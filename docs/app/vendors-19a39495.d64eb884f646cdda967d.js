"use strict";(self.webpackChunk_docstack_ui=self.webpackChunk_docstack_ui||[]).push([[730],{8897:(e,t,s)=>{s.d(t,{KC:()=>o,S3:()=>i,nx:()=>r});var n=s(13338);const r=(e,t)=>e===t;function i(e=r){return(t,s)=>n.aI(t,s,e)}function o(e,t,s){if(void 0!==s){return null==e||null==t?t===e:s(e,t)}{const t=e;return(e,s)=>null==e||null==s?s===e:t(e,s)}}new WeakMap},94327:(e,t,s)=>{s.d(t,{AL:()=>l,D7:()=>_,EM:()=>f,MB:()=>h,M_:()=>i,Qg:()=>a,aD:()=>c,cU:()=>o,dz:()=>r,iH:()=>d});const n=new class{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout((()=>{if(e.stack){if(p.isErrorNoTelemetry(e))throw new p(e.message+"\n\n"+e.stack);throw new Error(e.message+"\n\n"+e.stack)}throw e}),0)}}emit(e){this.listeners.forEach((t=>{t(e)}))}onUnexpectedError(e){this.unexpectedErrorHandler(e),this.emit(e)}onUnexpectedExternalError(e){this.unexpectedErrorHandler(e)}};function r(e){h(e)||n.onUnexpectedError(e)}function i(e){h(e)||n.onUnexpectedExternalError(e)}function o(e){if(e instanceof Error){const{name:t,message:s}=e;return{$isError:!0,name:t,message:s,stack:e.stacktrace||e.stack,noTelemetry:p.isErrorNoTelemetry(e)}}return e}const u="Canceled";function h(e){return e instanceof l||e instanceof Error&&e.name===u&&e.message===u}class l extends Error{constructor(){super(u),this.name=this.message}}function c(){const e=new Error(u);return e.name=e.message,e}function a(e){return e?new Error(`Illegal argument: ${e}`):new Error("Illegal argument")}function d(e){return e?new Error(`Illegal state: ${e}`):new Error("Illegal state")}class f extends Error{constructor(e){super("NotSupported"),e&&(this.message=e)}}class p extends Error{constructor(e){super(e),this.name="CodeExpectedError"}static fromError(e){if(e instanceof p)return e;const t=new p;return t.message=e.message,t.stack=e.stack,t}static isErrorNoTelemetry(e){return"CodeExpectedError"===e.name}}class _ extends Error{constructor(e){super(e||"An unexpected bug occurred."),Object.setPrototypeOf(this,_.prototype)}}},2106:(e,t,s)=>{s.d(t,{Jh:()=>n,QT:()=>w,Qy:()=>v,Wj:()=>b,_B:()=>L,at:()=>k,fV:()=>m,uI:()=>E,vl:()=>_});var n,r=s(94327),i=s(48289),o=s(10998),u=s(85525),h=s(23013);!function(e){function t(e){return(t,s=null,n)=>{let r,i=!1;return r=e((e=>{if(!i)return r?r.dispose():i=!0,t.call(s,e)}),null,n),i&&r.dispose(),r}}function s(e,t,s){return r(((s,n=null,r)=>e((e=>s.call(n,t(e))),null,r)),s)}function n(e,t,s){return r(((s,n=null,r)=>e((e=>t(e)&&s.call(n,e)),null,r)),s)}function r(e,t){let s;const n=new _({onWillAddFirstListener(){s=e(n.fire,n)},onDidRemoveLastListener(){s?.dispose()}});return t?.add(n),n.event}function i(e,t,s=100,n=!1,r=!1,i,o){let u,h,l,c,a=0;const d=new _({leakWarningThreshold:i,onWillAddFirstListener(){u=e((e=>{a++,h=t(h,e),n&&!l&&(d.fire(h),h=void 0),c=()=>{const e=h;h=void 0,l=void 0,(!n||a>1)&&d.fire(e),a=0},"number"==typeof s?(clearTimeout(l),l=setTimeout(c,s)):void 0===l&&(l=0,queueMicrotask(c))}))},onWillRemoveListener(){r&&a>0&&c?.()},onDidRemoveLastListener(){c=void 0,u.dispose()}});return o?.add(d),d.event}e.None=()=>o.jG.None,e.defer=function(e,t){return i(e,(()=>{}),0,void 0,!0,void 0,t)},e.once=t,e.onceIf=function(t,s){return e.once(e.filter(t,s))},e.map=s,e.forEach=function(e,t,s){return r(((s,n=null,r)=>e((e=>{t(e),s.call(n,e)}),null,r)),s)},e.filter=n,e.signal=function(e){return e},e.any=function(...e){return(t,s=null,n)=>{return r=(0,o.qE)(...e.map((e=>e((e=>t.call(s,e)))))),(i=n)instanceof Array?i.push(r):i&&i.add(r),r;var r,i}},e.reduce=function(e,t,n,r){let i=n;return s(e,(e=>(i=t(i,e),i)),r)},e.debounce=i,e.accumulate=function(t,s=0,n){return e.debounce(t,((e,t)=>e?(e.push(t),e):[t]),s,void 0,!0,void 0,n)},e.latch=function(e,t=(e,t)=>e===t,s){let r,i=!0;return n(e,(e=>{const s=i||!t(e,r);return i=!1,r=e,s}),s)},e.split=function(t,s,n){return[e.filter(t,s,n),e.filter(t,(e=>!s(e)),n)]},e.buffer=function(e,t=!1,s=[],n){let r=s.slice(),i=e((e=>{r?r.push(e):u.fire(e)}));n&&n.add(i);const o=()=>{r?.forEach((e=>u.fire(e))),r=null},u=new _({onWillAddFirstListener(){i||(i=e((e=>u.fire(e))),n&&n.add(i))},onDidAddFirstListener(){r&&(t?setTimeout(o):o())},onDidRemoveLastListener(){i&&i.dispose(),i=null}});return n&&n.add(u),u.event},e.chain=function(e,t){return(s,n,r)=>{const i=t(new h);return e((function(e){const t=i.evaluate(e);t!==u&&s.call(n,t)}),void 0,r)}};const u=Symbol("HaltChainable");class h{constructor(){this.steps=[]}map(e){return this.steps.push(e),this}forEach(e){return this.steps.push((t=>(e(t),t))),this}filter(e){return this.steps.push((t=>e(t)?t:u)),this}reduce(e,t){let s=t;return this.steps.push((t=>(s=e(s,t),s))),this}latch(e=(e,t)=>e===t){let t,s=!0;return this.steps.push((n=>{const r=s||!e(n,t);return s=!1,t=n,r?n:u})),this}evaluate(e){for(const t of this.steps)if((e=t(e))===u)break;return e}}e.fromNodeEventEmitter=function(e,t,s=e=>e){const n=(...e)=>r.fire(s(...e)),r=new _({onWillAddFirstListener:()=>e.on(t,n),onDidRemoveLastListener:()=>e.removeListener(t,n)});return r.event},e.fromDOMEventEmitter=function(e,t,s=e=>e){const n=(...e)=>r.fire(s(...e)),r=new _({onWillAddFirstListener:()=>e.addEventListener(t,n),onDidRemoveLastListener:()=>e.removeEventListener(t,n)});return r.event},e.toPromise=function(e){return new Promise((s=>t(e)(s)))},e.fromPromise=function(e){const t=new _;return e.then((e=>{t.fire(e)}),(()=>{t.fire(void 0)})).finally((()=>{t.dispose()})),t.event},e.forward=function(e,t){return e((e=>t.fire(e)))},e.runAndSubscribe=function(e,t,s){return t(s),e((e=>t(e)))};class l{constructor(e,t){this._observable=e,this._counter=0,this._hasChanged=!1;const s={onWillAddFirstListener:()=>{e.addObserver(this),this._observable.reportChanges()},onDidRemoveLastListener:()=>{e.removeObserver(this)}};this.emitter=new _(s),t&&t.add(this.emitter)}beginUpdate(e){this._counter++}handlePossibleChange(e){}handleChange(e,t){this._hasChanged=!0}endUpdate(e){this._counter--,0===this._counter&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}e.fromObservable=function(e,t){return new l(e,t).emitter.event},e.fromObservableLight=function(e){return(t,s,n)=>{let r=0,i=!1;const u={beginUpdate(){r++},endUpdate(){r--,0===r&&(e.reportChanges(),i&&(i=!1,t.call(s)))},handlePossibleChange(){},handleChange(){i=!0}};e.addObserver(u),e.reportChanges();const h={dispose(){e.removeObserver(u)}};return n instanceof o.Cm?n.add(h):Array.isArray(n)&&n.push(h),h}}}(n||(n={}));class l{static{this.all=new Set}static{this._idPool=0}constructor(e){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${e}_${l._idPool++}`,l.all.add(this)}start(e){this._stopWatch=new h.W,this.listenerCount=e}stop(){if(this._stopWatch){const e=this._stopWatch.elapsed();this.durations.push(e),this.elapsedOverall+=e,this.invocationCount+=1,this._stopWatch=void 0}}}class c{static{this._idPool=1}constructor(e,t,s=(c._idPool++).toString(16).padStart(3,"0")){this._errorHandler=e,this.threshold=t,this.name=s,this._warnCountdown=0}dispose(){this._stacks?.clear()}check(e,t){const s=this.threshold;if(s<=0||t<s)return;this._stacks||(this._stacks=new Map);const n=this._stacks.get(e.value)||0;if(this._stacks.set(e.value,n+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=.5*s;const[e,n]=this.getMostFrequentStack(),r=`[${this.name}] potential listener LEAK detected, having ${t} listeners already. MOST frequent listener (${n}):`;console.warn(r),console.warn(e);const i=new d(r,e);this._errorHandler(i)}return()=>{const t=this._stacks.get(e.value)||0;this._stacks.set(e.value,t-1)}}getMostFrequentStack(){if(!this._stacks)return;let e,t=0;for(const[s,n]of this._stacks)(!e||t<n)&&(e=[s,n],t=n);return e}}class a{static create(){const e=new Error;return new a(e.stack??"")}constructor(e){this.value=e}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class d extends Error{constructor(e,t){super(e),this.name="ListenerLeakError",this.stack=t}}class f extends Error{constructor(e,t){super(e),this.name="ListenerRefusalError",this.stack=t}}class p{constructor(e){this.value=e}}class _{constructor(e){this._size=0,this._options=e,this._leakageMon=this._options?.leakWarningThreshold?new c(e?.onListenerError??r.dz,this._options?.leakWarningThreshold??-1):void 0,this._perfMon=this._options?._profName?new l(this._options._profName):void 0,this._deliveryQueue=this._options?.deliveryQueue}dispose(){this._disposed||(this._disposed=!0,this._deliveryQueue?.current===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),this._options?.onDidRemoveLastListener?.(),this._leakageMon?.dispose())}get event(){return this._event??=(e,t,s)=>{if(this._leakageMon&&this._size>this._leakageMon.threshold**2){const e=`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far (${this._size} vs ${this._leakageMon.threshold})`;console.warn(e);const t=this._leakageMon.getMostFrequentStack()??["UNKNOWN stack",-1],s=new f(`${e}. HINT: Stack shows most frequent listener (${t[1]}-times)`,t[0]);return(this._options?.onListenerError||r.dz)(s),o.jG.None}if(this._disposed)return o.jG.None;t&&(e=e.bind(t));const n=new p(e);let i;this._leakageMon&&this._size>=Math.ceil(.2*this._leakageMon.threshold)&&(n.stack=a.create(),i=this._leakageMon.check(n.stack,this._size+1)),this._listeners?this._listeners instanceof p?(this._deliveryQueue??=new g,this._listeners=[this._listeners,n]):this._listeners.push(n):(this._options?.onWillAddFirstListener?.(this),this._listeners=n,this._options?.onDidAddFirstListener?.(this)),this._size++;const u=(0,o.s)((()=>{i?.(),this._removeListener(n)}));return s instanceof o.Cm?s.add(u):Array.isArray(s)&&s.push(u),u},this._event}_removeListener(e){if(this._options?.onWillRemoveListener?.(this),!this._listeners)return;if(1===this._size)return this._listeners=void 0,this._options?.onDidRemoveLastListener?.(this),void(this._size=0);const t=this._listeners,s=t.indexOf(e);if(-1===s)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,t[s]=void 0;const n=this._deliveryQueue.current===this;if(2*this._size<=t.length){let e=0;for(let s=0;s<t.length;s++)t[s]?t[e++]=t[s]:n&&(this._deliveryQueue.end--,e<this._deliveryQueue.i&&this._deliveryQueue.i--);t.length=e}}_deliver(e,t){if(!e)return;const s=this._options?.onListenerError||r.dz;if(s)try{e.value(t)}catch(e){s(e)}else e.value(t)}_deliverQueue(e){const t=e.current._listeners;for(;e.i<e.end;)this._deliver(t[e.i++],e.value);e.reset()}fire(e){if(this._deliveryQueue?.current&&(this._deliverQueue(this._deliveryQueue),this._perfMon?.stop()),this._perfMon?.start(this._size),this._listeners)if(this._listeners instanceof p)this._deliver(this._listeners,e);else{const t=this._deliveryQueue;t.enqueue(this,e,this._listeners.length),this._deliverQueue(t)}this._perfMon?.stop()}hasListeners(){return this._size>0}}const v=()=>new g;class g{constructor(){this.i=-1,this.end=0}enqueue(e,t,s){this.i=0,this.end=s,this.current=e,this.value=t}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class m extends _{constructor(e){super(e),this._isPaused=0,this._eventQueue=new u.w,this._mergeFn=e?.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){if(this._eventQueue.size>0){const e=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(e))}}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(e){this._size&&(0!==this._isPaused?this._eventQueue.push(e):super.fire(e))}}class E extends m{constructor(e){super(e),this._delay=e.delay??100}fire(e){this._handle||(this.pause(),this._handle=setTimeout((()=>{this._handle=void 0,this.resume()}),this._delay)),super.fire(e)}}class w extends _{constructor(e){super(e),this._queuedEvents=[],this._mergeFn=e?.merge}fire(e){this.hasListeners()&&(this._queuedEvents.push(e),1===this._queuedEvents.length&&queueMicrotask((()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach((e=>super.fire(e))),this._queuedEvents=[]})))}}class L{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new _({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(e){const t={event:e,listener:null};return this.events.push(t),this.hasListeners&&this.hook(t),(0,o.s)((0,i.P)((()=>{this.hasListeners&&this.unhook(t);const e=this.events.indexOf(t);this.events.splice(e,1)})))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach((e=>this.hook(e)))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach((e=>this.unhook(e)))}hook(e){e.listener=e.event((e=>this.emitter.fire(e)))}unhook(e){e.listener?.dispose(),e.listener=null}dispose(){this.emitter.dispose();for(const e of this.events)e.listener?.dispose();this.events=[]}}class k{constructor(){this.data=[]}wrapEvent(e,t,s){return(n,r,i)=>e((e=>{const i=this.data[this.data.length-1];if(!t)return void(i?i.buffers.push((()=>n.call(r,e))):n.call(r,e));const o=i;o?(o.items??=[],o.items.push(e),0===o.buffers.length&&i.buffers.push((()=>{o.reducedResult??=s?o.items.reduce(t,s):o.items.reduce(t),n.call(r,o.reducedResult)}))):n.call(r,t(s,e))}),void 0,i)}bufferEvents(e){const t={buffers:new Array};this.data.push(t);const s=e();return this.data.pop(),t.buffers.forEach((e=>e())),s}}class b{constructor(){this.listening=!1,this.inputEvent=n.None,this.inputEventListener=o.jG.None,this.emitter=new _({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(e){this.inputEvent=e,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=e(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},78518:(e,t,s)=>{s.d(t,{TH:()=>o,Zn:()=>h,_1:()=>l,kb:()=>u});var n=s(18019),r=(s(63339),s(16844));function i(e){return 47===e||92===e}function o(e){return e.replace(/[\\/]/g,n.SA.sep)}function u(e){return-1===e.indexOf("/")&&(e=o(e)),/^[a-zA-Z]:(\/|$)/.test(e)&&(e="/"+e),e}function h(e,t=n.SA.sep){if(!e)return"";const s=e.length,r=e.charCodeAt(0);if(i(r)){if(i(e.charCodeAt(1))&&!i(e.charCodeAt(2))){let n=3;const r=n;for(;n<s&&!i(e.charCodeAt(n));n++);if(r!==n&&!i(e.charCodeAt(n+1)))for(n+=1;n<s;n++)if(i(e.charCodeAt(n)))return e.slice(0,n+1).replace(/[\\/]/g,t)}return t}if(((o=r)>=65&&o<=90||o>=97&&o<=122)&&58===e.charCodeAt(1))return i(e.charCodeAt(2))?e.slice(0,2)+t:e.slice(0,2);var o;let u=e.indexOf("://");if(-1!==u)for(u+=3;u<s;u++)if(i(e.charCodeAt(u)))return e.slice(0,u+1);return""}function l(e,t,s,i=n.Vn){if(e===t)return!0;if(!e||!t)return!1;if(t.length>e.length)return!1;if(s){if(!(0,r.ns)(e,t))return!1;if(t.length===e.length)return!0;let s=t.length;return t.charAt(t.length-1)===i&&s--,e.charAt(s)===i}return t.charAt(t.length-1)!==i&&(t+=i),0===e.indexOf(t)}},97669:(e,t,s)=>{s.d(t,{O:()=>b,WP:()=>o,dt:()=>D,ne:()=>R,yr:()=>k});var n=s(27992),r=(s(11776),s(16844));function i(...e){return function(t,s){for(let n=0,r=e.length;n<r;n++){const r=e[n](t,s);if(r)return r}return null}}u.bind(void 0,!1);const o=u.bind(void 0,!0);function u(e,t,s){if(!s||s.length<t.length)return null;let n;return n=e?r.ns(s,t):0===s.indexOf(t),n?t.length>0?[{start:0,end:t.length}]:[]:null}function h(e,t,s,n){if(s===e.length)return[];if(n===t.length)return null;if(e[s]===t[n]){let r=null;return(r=h(e,t,s+1,n+1))?_({start:n,end:n+1},r):null}return h(e,t,s,n+1)}function l(e){return 97<=e&&e<=122}function c(e){return 65<=e&&e<=90}function a(e){return 48<=e&&e<=57}function d(e){return 32===e||9===e||10===e||13===e}const f=new Set;function p(e){return l(e)||c(e)||a(e)}function _(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function v(e,t){for(let s=t;s<e.length;s++){const t=e.charCodeAt(s);if(c(t)||a(t)||s>0&&!p(e.charCodeAt(s-1)))return s}return e.length}function g(e,t,s,n){if(s===e.length)return[];if(n===t.length)return null;if(e[s]!==t[n].toLowerCase())return null;{let r=null,i=n+1;for(r=g(e,t,s+1,n+1);!r&&(i=v(t,i))<t.length;)r=g(e,t,s+1,i),i++;return null===r?null:_({start:n,end:n+1},r)}}function m(e,t){if(!t)return null;if(0===(t=t.trim()).length)return null;if(!function(e){let t=0,s=0,n=0,r=0;for(let i=0;i<e.length;i++)n=e.charCodeAt(i),c(n)&&t++,l(n)&&s++,d(n)&&r++;return 0!==t&&0!==s||0!==r?t<=5:e.length<=30}(e))return null;t.length>60&&(t=t.substring(0,60));const s=function(e){let t=0,s=0,n=0,r=0,i=0;for(let o=0;o<e.length;o++)i=e.charCodeAt(o),c(i)&&t++,l(i)&&s++,p(i)&&n++,a(i)&&r++;return{upperPercent:t/e.length,lowerPercent:s/e.length,alphaPercent:n/e.length,numericPercent:r/e.length}}(t);if(!function(e){const{upperPercent:t,lowerPercent:s,alphaPercent:n,numericPercent:r}=e;return s>.2&&t<.8&&n>.6&&r<.2}(s)){if(!function(e){const{upperPercent:t,lowerPercent:s}=e;return 0===s&&t>.6}(s))return null;t=t.toLowerCase()}let n=null,r=0;for(e=e.toLowerCase();r<t.length&&null===(n=g(e,t,0,r));)r=v(t,r+1);return n}"()[]{}<>`'\"-/;:,.?!".split("").forEach((e=>f.add(e.charCodeAt(0)))),new Map;const E=i(o,m,(function(e,t){const s=t.toLowerCase().indexOf(e.toLowerCase());return-1===s?null:[{start:s,end:s+e.length}]})),w=i(o,m,(function(e,t){return h(e.toLowerCase(),t.toLowerCase(),0,0)})),L=new n.qK(1e4);function k(e,t,s=!1){if("string"!=typeof e||"string"!=typeof t)return null;let n=L.get(e);n||(n=new RegExp(r.Bm(e),"i"),L.set(e,n));const i=n.exec(t);return i?[{start:i.index,end:i.index+i[0].length}]:s?w(e,t):E(e,t)}function b(e,t){const s=D(e,e.toLowerCase(),0,t,t.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return s?function(e){if(void 0===e)return[];const t=[],s=e[1];for(let n=e.length-1;n>1;n--){const r=e[n]+s,i=t[t.length-1];i&&i.end===r?i.end=r+1:t.push({start:r,end:r+1})}return t}(s):null}const C=128;function A(){const e=[],t=[];for(let e=0;e<=C;e++)t[e]=0;for(let s=0;s<=C;s++)e.push(t.slice(0));return e}function y(e){const t=[];for(let s=0;s<=e;s++)t[s]=0;return t}const M=y(2*C),x=y(2*C),F=A(),P=A(),N=A(),W=!1;function Q(e,t,s,n,r){function i(e,t,s=" "){for(;e.length<t;)e=s+e;return e}let o=` |   |${n.split("").map((e=>i(e,3))).join("|")}\n`;for(let n=0;n<=s;n++)o+=0===n?" |":`${t[n-1]}|`,o+=e[n].slice(0,r+1).map((e=>i(e.toString(),3))).join("|")+"\n";return o}function z(e,t){if(t<0||t>=e.length)return!1;const s=e.codePointAt(t);switch(s){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!r.Ss(s)}}function S(e,t){if(t<0||t>=e.length)return!1;switch(e.charCodeAt(t)){case 32:case 9:return!0;default:return!1}}function O(e,t,s){return t[e]!==s[e]}var R;!function(e){e.Default=[-100,0],e.isDefault=function(e){return!e||2===e.length&&-100===e[0]&&0===e[1]}}(R||(R={}));class T{static{this.default={boostFullMatch:!0,firstMatchCanBeWeak:!1}}constructor(e,t){this.firstMatchCanBeWeak=e,this.boostFullMatch=t}}function D(e,t,s,n,r,i,o=T.default){const u=e.length>C?C:e.length,h=n.length>C?C:n.length;if(s>=u||i>=h||u-s>h-i)return;if(!function(e,t,s,n,r,i,o=!1){for(;t<s&&r<i;)e[t]===n[r]&&(o&&(M[t]=r),t+=1),r+=1;return t===s}(t,s,u,r,i,h,!0))return;!function(e,t,s,n,r,i){let o=e-1,u=t-1;for(;o>=s&&u>=n;)r[o]===i[u]&&(x[o]=u,o--),u--}(u,h,s,i,t,r);let l=1,c=1,a=s,d=i;const f=[!1];for(l=1,a=s;a<u;l++,a++){const o=M[a],p=x[a],_=a+1<u?x[a+1]:h;for(c=o-i+1,d=o;d<_;c++,d++){let u=Number.MIN_SAFE_INTEGER,_=!1;d<=p&&(u=q(e,t,a,s,n,r,d,h,i,0===F[l-1][c-1],f));let v=0;u!==Number.MAX_SAFE_INTEGER&&(_=!0,v=u+P[l-1][c-1]);const g=d>o,m=g?P[l][c-1]+(F[l][c-1]>0?-5:0):0,E=d>o+1&&F[l][c-1]>0,w=E?P[l][c-2]+(F[l][c-2]>0?-5:0):0;if(E&&(!g||w>=m)&&(!_||w>=v))P[l][c]=w,N[l][c]=3,F[l][c]=0;else if(g&&(!_||m>=v))P[l][c]=m,N[l][c]=2,F[l][c]=0;else{if(!_)throw new Error("not possible");P[l][c]=v,N[l][c]=1,F[l][c]=F[l-1][c-1]+1}}}if(W&&function(e,t,s,n){e=e.substr(t),s=s.substr(n),console.log(Q(P,e,e.length,s,s.length)),console.log(Q(N,e,e.length,s,s.length)),console.log(Q(F,e,e.length,s,s.length))}(e,s,n,i),!f[0]&&!o.firstMatchCanBeWeak)return;l--,c--;const p=[P[l][c],i];let _=0,v=0;for(;l>=1;){let e=c;do{const t=N[l][e];if(3===t)e-=2;else{if(2!==t)break;e-=1}}while(e>=1);_>1&&t[s+l-1]===r[i+c-1]&&!O(e+i-1,n,r)&&_+1>F[l][e]&&(e=c),e===c?_++:_=1,v||(v=e),l--,c=e-1,p.push(c)}h-i===u&&o.boostFullMatch&&(p[0]+=2);const g=v-u;return p[0]-=g,p}function q(e,t,s,n,r,i,o,u,h,l,c){if(t[s]!==i[o])return Number.MIN_SAFE_INTEGER;let a=1,d=!1;return o===s-n?a=e[s]===r[o]?7:5:!O(o,r,i)||0!==o&&O(o-1,r,i)?!z(i,o)||0!==o&&z(i,o-1)?(z(i,o-1)||S(i,o-1))&&(a=5,d=!0):a=5:(a=e[s]===r[o]?7:5,d=!0),a>1&&s===n&&(c[0]=!0),d||(d=O(o,r,i)||z(i,o-1)||S(i,o-1)),s===n?o>h&&(a-=d?3:5):a+=l?d?2:0:d?0:1,o+1===u&&(a-=d?3:5),a}}}]);