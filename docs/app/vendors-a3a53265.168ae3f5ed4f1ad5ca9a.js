"use strict";(self.webpackChunk_docstack_ui=self.webpackChunk_docstack_ui||[]).push([[6571],{24267:(e,t,n)=>{n.d(t,{B:()=>i,q:()=>d});var i,r=n(79284),a=n(866),o=n(6995),s=n(69175),c=n(22573),l=n(32293),h=n(70092);!function(e){e.Tap="-monaco-gesturetap",e.Change="-monaco-gesturechange",e.Start="-monaco-gesturestart",e.End="-monaco-gesturesend",e.Contextmenu="-monaco-gesturecontextmenu"}(i||(i={}));class d extends l.jG{static{this.SCROLL_FRICTION=-.005}static{this.HOLD_DELAY=700}static{this.CLEAR_TAP_COUNT_TIME=400}constructor(){super(),this.dispatched=!1,this.targets=new h.w,this.ignoreTargets=new h.w,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(c.Jh.runAndSubscribe(r.Iv,({window:e,disposables:t})=>{t.add(r.ko(e.document,"touchstart",e=>this.onTouchStart(e),{passive:!1})),t.add(r.ko(e.document,"touchend",t=>this.onTouchEnd(e,t))),t.add(r.ko(e.document,"touchmove",e=>this.onTouchMove(e),{passive:!1}))},{window:a.G,disposables:this._store}))}static addTarget(e){if(!d.isTouchDevice())return l.jG.None;d.INSTANCE||(d.INSTANCE=(0,l.lC)(new d));const t=d.INSTANCE.targets.push(e);return(0,l.s)(t)}static ignoreTarget(e){if(!d.isTouchDevice())return l.jG.None;d.INSTANCE||(d.INSTANCE=(0,l.lC)(new d));const t=d.INSTANCE.ignoreTargets.push(e);return(0,l.s)(t)}static isTouchDevice(){return"ontouchstart"in a.G||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(e){const t=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let n=0,r=e.targetTouches.length;n<r;n++){const r=e.targetTouches.item(n);this.activeTouches[r.identifier]={id:r.identifier,initialTarget:r.target,initialTimeStamp:t,initialPageX:r.pageX,initialPageY:r.pageY,rollingTimestamps:[t],rollingPageX:[r.pageX],rollingPageY:[r.pageY]};const a=this.newGestureEvent(i.Start,r.target);a.pageX=r.pageX,a.pageY=r.pageY,this.dispatchEvent(a)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}onTouchEnd(e,t){const n=Date.now(),r=Object.keys(this.activeTouches).length;for(let a=0,s=t.changedTouches.length;a<s;a++){const s=t.changedTouches.item(a);if(!this.activeTouches.hasOwnProperty(String(s.identifier))){console.warn("move of an UNKNOWN touch",s);continue}const c=this.activeTouches[s.identifier],l=Date.now()-c.initialTimeStamp;if(l<d.HOLD_DELAY&&Math.abs(c.initialPageX-o.RT(c.rollingPageX))<30&&Math.abs(c.initialPageY-o.RT(c.rollingPageY))<30){const e=this.newGestureEvent(i.Tap,c.initialTarget);e.pageX=o.RT(c.rollingPageX),e.pageY=o.RT(c.rollingPageY),this.dispatchEvent(e)}else if(l>=d.HOLD_DELAY&&Math.abs(c.initialPageX-o.RT(c.rollingPageX))<30&&Math.abs(c.initialPageY-o.RT(c.rollingPageY))<30){const e=this.newGestureEvent(i.Contextmenu,c.initialTarget);e.pageX=o.RT(c.rollingPageX),e.pageY=o.RT(c.rollingPageY),this.dispatchEvent(e)}else if(1===r){const t=o.RT(c.rollingPageX),i=o.RT(c.rollingPageY),r=o.RT(c.rollingTimestamps)-c.rollingTimestamps[0],a=t-c.rollingPageX[0],s=i-c.rollingPageY[0],l=[...this.targets].filter(e=>c.initialTarget instanceof Node&&e.contains(c.initialTarget));this.inertia(e,l,n,Math.abs(a)/r,a>0?1:-1,t,Math.abs(s)/r,s>0?1:-1,i)}this.dispatchEvent(this.newGestureEvent(i.End,c.initialTarget)),delete this.activeTouches[s.identifier]}this.dispatched&&(t.preventDefault(),t.stopPropagation(),this.dispatched=!1)}newGestureEvent(e,t){const n=document.createEvent("CustomEvent");return n.initEvent(e,!1,!0),n.initialTarget=t,n.tapCount=0,n}dispatchEvent(e){if(e.type===i.Tap){const t=(new Date).getTime();let n=0;n=t-this._lastSetTapCountTime>d.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=t,e.tapCount=n}else e.type!==i.Change&&e.type!==i.Contextmenu||(this._lastSetTapCountTime=0);if(e.initialTarget instanceof Node){for(const t of this.ignoreTargets)if(t.contains(e.initialTarget))return;const t=[];for(const n of this.targets)if(n.contains(e.initialTarget)){let i=0,r=e.initialTarget;for(;r&&r!==n;)i++,r=r.parentElement;t.push([i,n])}t.sort((e,t)=>e[0]-t[0]);for(const[n,i]of t)i.dispatchEvent(e),this.dispatched=!0}}inertia(e,t,n,a,o,s,c,l,h){this.handle=r.PG(e,()=>{const r=Date.now(),u=r-n;let p=0,g=0,f=!0;a+=d.SCROLL_FRICTION*u,c+=d.SCROLL_FRICTION*u,a>0&&(f=!1,p=o*a*u),c>0&&(f=!1,g=l*c*u);const m=this.newGestureEvent(i.Change);m.translationX=p,m.translationY=g,t.forEach(e=>e.dispatchEvent(m)),f||this.inertia(e,t,r,a,o,s+p,c,l,h+g)})}onTouchMove(e){const t=Date.now();for(let n=0,r=e.changedTouches.length;n<r;n++){const r=e.changedTouches.item(n);if(!this.activeTouches.hasOwnProperty(String(r.identifier))){console.warn("end of an UNKNOWN touch",r);continue}const a=this.activeTouches[r.identifier],s=this.newGestureEvent(i.Change,a.initialTarget);s.translationX=r.pageX-o.RT(a.rollingPageX),s.translationY=r.pageY-o.RT(a.rollingPageY),s.pageX=r.pageX,s.pageY=r.pageY,this.dispatchEvent(s),a.rollingPageX.length>3&&(a.rollingPageX.shift(),a.rollingPageY.shift(),a.rollingTimestamps.shift()),a.rollingPageX.push(r.pageX),a.rollingPageY.push(r.pageY),a.rollingTimestamps.push(t)}this.dispatched&&(e.preventDefault(),e.stopPropagation(),this.dispatched=!1)}}!function(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);a>3&&o&&Object.defineProperty(t,n,o)}([s.B],d,"isTouchDevice",null)},29187:(e,t,n)=>{n.d(t,{_:()=>a});var i=n(79284),r=n(32293);class a{constructor(){this._hooks=new r.Cm,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(e,t){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const n=this._onStopCallback;this._onStopCallback=null,e&&n&&n(t)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(e,t,n,a,o){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=a,this._onStopCallback=o;let s=e;try{e.setPointerCapture(t),this._hooks.add((0,r.s)(()=>{try{e.releasePointerCapture(t)}catch(e){}}))}catch(t){s=i.zk(e)}this._hooks.add(i.ko(s,i.Bx.POINTER_MOVE,e=>{e.buttons===n?(e.preventDefault(),this._pointerMoveCallback(e)):this.stopMonitoring(!0)})),this._hooks.add(i.ko(s,i.Bx.POINTER_UP,e=>this.stopMonitoring(!0)))}}},44503:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(65600),r=n(58518),a=n(83208),o=n(69958);const s=o.zx?256:2048,c=o.zx?2048:256;class l{constructor(e){this._standardKeyboardEventBrand=!0;const t=e;this.browserEvent=t,this.target=t.target,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,this.altGraphKey=t.getModifierState?.("AltGraph"),this.keyCode=function(e){if(e.charCode){const t=String.fromCharCode(e.charCode).toUpperCase();return r.YM.fromString(t)}const t=e.keyCode;if(3===t)return 7;if(i.gm)switch(t){case 59:return 85;case 60:if(o.j9)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(o.zx)return 57}else if(i.Tc){if(o.zx&&93===t)return 57;if(!o.zx&&92===t)return 57}return r.uw[t]||0}(t),this.code=t.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(e){return this._asKeybinding===e}_computeKeybinding(){let e=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode);let t=0;return this.ctrlKey&&(t|=s),this.altKey&&(t|=512),this.shiftKey&&(t|=1024),this.metaKey&&(t|=c),t|=e,t}_computeKeyCodeChord(){let e=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(e=this.keyCode),new a.dG(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,e)}}},46442:(e,t,n)=>{n.d(t,{H:()=>r});var i=n(73226);function r(e,t){const n=globalThis.MonacoEnvironment;if(n?.createTrustedTypesPolicy)try{return n.createTrustedTypesPolicy(e,t)}catch(e){return void(0,i.dz)(e)}try{return globalThis.trustedTypes?.createPolicy(e,t)}catch(e){return void(0,i.dz)(e)}}},57420:(e,t,n)=>{n.d(t,{S5:()=>r,n:()=>o,yk:()=>a});var i=n(79284);function r(e,t={}){const n=o(t);return n.textContent=e,n}function a(e,t={}){const n=o(t);return c(n,function(e,t){const n={type:1,children:[]};let i=0,r=n;const a=[],o=new s(e);for(;!o.eos();){let e=o.next();const n="\\"===e&&0!==h(o.peek(),t);if(n&&(e=o.next()),!n&&l(e,t)&&e===o.peek()){o.advance(),2===r.type&&(r=a.pop());const n=h(e,t);if(r.type===n||5===r.type&&6===n)r=a.pop();else{const e={type:n,children:[]};5===n&&(e.index=i,i++),r.children.push(e),a.push(r),r=e}}else if("\n"===e)2===r.type&&(r=a.pop()),r.children.push({type:8});else if(2!==r.type){const t={type:2,content:e};r.children.push(t),a.push(r),r=t}else r.content+=e}return 2===r.type&&(r=a.pop()),a.length,n}(e,!!t.renderCodeSegments),t.actionHandler,t.renderCodeSegments),n}function o(e){const t=e.inline?"span":"div",n=document.createElement(t);return e.className&&(n.className=e.className),n}class s{constructor(e){this.source=e,this.index=0}eos(){return this.index>=this.source.length}next(){const e=this.peek();return this.advance(),e}peek(){return this.source[this.index]}advance(){this.index++}}function c(e,t,n,r){let a;if(2===t.type)a=document.createTextNode(t.content||"");else if(3===t.type)a=document.createElement("b");else if(4===t.type)a=document.createElement("i");else if(7===t.type&&r)a=document.createElement("code");else if(5===t.type&&n){const e=document.createElement("a");n.disposables.add(i.b2(e,"click",e=>{n.callback(String(t.index),e)})),a=e}else 8===t.type?a=document.createElement("br"):1===t.type&&(a=e);a&&e!==a&&e.appendChild(a),a&&Array.isArray(t.children)&&t.children.forEach(e=>{c(a,e,n,r)})}function l(e,t){return 0!==h(e,t)}function h(e,t){switch(e){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return t?7:0;default:return 0}}},65698:(e,t,n)=>{n.d(t,{P:()=>c,$:()=>l});var i=n(65600);const r=new WeakMap;function a(e){if(!e.parent||e.parent===e)return null;try{const t=e.location,n=e.parent.location;if("null"!==t.origin&&"null"!==n.origin&&t.origin!==n.origin)return null}catch(e){return null}return e.parent}class o{static getSameOriginWindowChain(e){let t=r.get(e);if(!t){t=[],r.set(e,t);let n,i=e;do{n=a(i),n?t.push({window:new WeakRef(i),iframeElement:i.frameElement||null}):t.push({window:new WeakRef(i),iframeElement:null}),i=n}while(i)}return t.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(e,t){if(!t||e===t)return{top:0,left:0};let n=0,i=0;const r=this.getSameOriginWindowChain(e);for(const e of r){const r=e.window.deref();if(n+=r?.scrollY??0,i+=r?.scrollX??0,r===t)break;if(!e.iframeElement)break;const a=e.iframeElement.getBoundingClientRect();n+=a.top,i+=a.left}return{top:n,left:i}}}var s=n(69958);class c{constructor(e,t){this.timestamp=Date.now(),this.browserEvent=t,this.leftButton=0===t.button,this.middleButton=1===t.button,this.rightButton=2===t.button,this.buttons=t.buttons,this.target=t.target,this.detail=t.detail||1,"dblclick"===t.type&&(this.detail=2),this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.altKey=t.altKey,this.metaKey=t.metaKey,"number"==typeof t.pageX?(this.posx=t.pageX,this.posy=t.pageY):(this.posx=t.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=t.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const n=o.getPositionOfChildWindowRelativeToAncestorWindow(e,t.view);this.posx-=n.left,this.posy-=n.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class l{constructor(e,t=0,n=0){this.browserEvent=e||null,this.target=e?e.target||e.targetNode||e.srcElement:null,this.deltaY=n,this.deltaX=t;let r=!1;if(i.H8){const e=navigator.userAgent.match(/Chrome\/(\d+)/);r=(e?parseInt(e[1]):123)<=122}if(e){const t=e,n=e,a=e.view?.devicePixelRatio||1;if(void 0!==t.wheelDeltaY)this.deltaY=r?t.wheelDeltaY/(120*a):t.wheelDeltaY/120;else if(void 0!==n.VERTICAL_AXIS&&n.axis===n.VERTICAL_AXIS)this.deltaY=-n.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?i.gm&&!s.zx?this.deltaY=-e.deltaY/3:this.deltaY=-e.deltaY:this.deltaY=-e.deltaY/40}if(void 0!==t.wheelDeltaX)i.nr&&s.uF?this.deltaX=-t.wheelDeltaX/120:this.deltaX=r?t.wheelDeltaX/(120*a):t.wheelDeltaX/120;else if(void 0!==n.HORIZONTAL_AXIS&&n.axis===n.HORIZONTAL_AXIS)this.deltaX=-e.detail/3;else if("wheel"===e.type){const t=e;t.deltaMode===t.DOM_DELTA_LINE?i.gm&&!s.zx?this.deltaX=-e.deltaX/3:this.deltaX=-e.deltaX:this.deltaX=-e.deltaX/40}0===this.deltaY&&0===this.deltaX&&e.wheelDelta&&(this.deltaY=r?e.wheelDelta/(120*a):e.wheelDelta/120)}}preventDefault(){this.browserEvent?.preventDefault()}stopPropagation(){this.browserEvent?.stopPropagation()}}},80521:(e,t,n)=>{n.d(t,{c:()=>c});var i=n(79284),r=n(22573),a=n(32293);class o extends a.jG{constructor(e){super(),this._onDidChange=this._register(new r.vl),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(e,!0),this._mediaQueryList=null,this._handleChange(e,!1)}_handleChange(e,t){this._mediaQueryList?.removeEventListener("change",this._listener),this._mediaQueryList=e.matchMedia(`(resolution: ${e.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),t&&this._onDidChange.fire()}}class s extends a.jG{get value(){return this._value}constructor(e){super(),this._onDidChange=this._register(new r.vl),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(e);const t=this._register(new o(e));this._register(t.onDidChange(()=>{this._value=this._getPixelRatio(e),this._onDidChange.fire(this._value)}))}_getPixelRatio(e){const t=document.createElement("canvas").getContext("2d");return(e.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}}const c=new class{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(e){const t=(0,i.Q2)(e);let n=this.mapWindowIdToPixelRatioMonitor.get(t);return n||(n=(0,a.lC)(new s(e)),this.mapWindowIdToPixelRatioMonitor.set(t,n),(0,a.lC)(r.Jh.once(i.Fv)(({vscodeWindowId:e})=>{e===t&&(n?.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(t))}))),n}getInstance(e){return this._getOrCreatePixelRatioMonitor(e)}}},85530:(e,t,n)=>{var i;n.d(t,{p:()=>i}),function(e){const t={total:0,min:Number.MAX_VALUE,max:0},n={...t},i={...t},r={...t};let a=0;const o={keydown:0,input:0,render:0};function s(){1===o.keydown&&(performance.mark("keydown/end"),o.keydown=2)}function c(){performance.mark("input/start"),o.input=1,d()}function l(){1===o.input&&(performance.mark("input/end"),o.input=2)}function h(){1===o.render&&(performance.mark("render/end"),o.render=2)}function d(){setTimeout(u)}function u(){2===o.keydown&&2===o.input&&2===o.render&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),p("keydown",t),p("input",n),p("render",i),p("inputlatency",r),a++,performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),o.keydown=0,o.input=0,o.render=0)}function p(e,t){const n=performance.getEntriesByName(e)[0].duration;t.total+=n,t.min=Math.min(t.min,n),t.max=Math.max(t.max,n)}function g(e){return{average:e.total/a,max:e.max,min:e.min}}function f(e){e.total=0,e.min=Number.MAX_VALUE,e.max=0}e.onKeyDown=function(){u(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),o.keydown=1,queueMicrotask(s)},e.onBeforeInput=c,e.onInput=function(){0===o.input&&c(),queueMicrotask(l)},e.onKeyUp=function(){u()},e.onSelectionChange=function(){u()},e.onRenderStart=function(){2===o.keydown&&2===o.input&&0===o.render&&(performance.mark("render/start"),o.render=1,queueMicrotask(h),d())},e.getAndClearMeasurements=function(){if(0===a)return;const e={keydown:g(t),input:g(n),render:g(i),total:g(r),sampleCount:a};return f(t),f(n),f(i),f(r),a=0,e}}(i||(i={}))},98340:(e,t,n)=>{n.d(t,{Gc:()=>E,R9:()=>M});var i=n(79284),r=n(20931),a=n(14032),o=n(57420),s=n(44503),c=n(65698),l=n(819),h=n(73226),d=n(22573),u=n(21643),p=n(82279),g=n(69383),f=n(55003),m=n(32293),y=n(46468),w=n(36115),k=n(54835),v=n(32477),T=n(1268),b=n(60891),C=n(5839);const _=Object.freeze({image:({href:e,title:t,text:n})=>{let i=[],r=[];return e&&(({href:e,dimensions:i}=(0,u.nI)(e)),r.push(`src="${(0,u.oO)(e)}"`)),n&&r.push(`alt="${(0,u.oO)(n)}"`),t&&r.push(`title="${(0,u.oO)(t)}"`),i.length&&(r=r.concat(i)),"<img "+r.join(" ")+">"},paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>`},link({href:e,title:t,tokens:n}){let i=this.parser.parseInline(n);return"string"!=typeof e?"":(e===i&&(i=(0,u._W)(i)),t="string"==typeof t?(0,u.oO)((0,u._W)(t)):"",`<a href="${e=(e=(0,u._W)(e)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${t||e}" draggable="false">${i}</a>`)}});function E(e,t={},n={}){const r=new m.Cm;let u=!1;const f=(0,o.n)(t),T=function(t){let n;try{n=(0,w.qg)(decodeURIComponent(t))}catch(e){}return n?(n=(0,v.PI)(n,t=>e.uris&&e.uris[t]?C.r.revive(e.uris[t]):void 0),encodeURIComponent(JSON.stringify(n))):t},E=function(t,n){const i=e.uris&&e.uris[t];let r=C.r.revive(i);return n?t.startsWith(k.ny.data+":")?t:(r||(r=C.r.parse(t)),k.zl.uriToBrowserUri(r).toString(!0)):r?C.r.parse(t).toString()===r.toString()?t:(r.query&&(r=r.with({query:T(r.query)})),r.toString()):t},N=new y.A4;N.image=_.image,N.link=_.link,N.paragraph=_.paragraph;const A=[],M=[];if(t.codeBlockRendererSync?N.code=({text:e,lang:n})=>{const i=g.r.nextId(),r=t.codeBlockRendererSync(x(n),e);return M.push([i,r]),`<div class="code" data-code="${i}">${(0,b.ih)(e)}</div>`}:t.codeBlockRenderer&&(N.code=({text:e,lang:n})=>{const i=g.r.nextId(),r=t.codeBlockRenderer(x(n),e);return A.push(r.then(e=>[i,e])),`<div class="code" data-code="${i}">${(0,b.ih)(e)}</div>`}),t.actionHandler){const n=function(n){let i=n.target;if("A"===i.tagName||(i=i.parentElement,i&&"A"===i.tagName))try{let r=i.dataset.href;r&&(e.baseUri&&(r=P(C.r.from(e.baseUri),r)),t.actionHandler.callback(r,n))}catch(e){(0,h.dz)(e)}finally{n.preventDefault()}},r=t.actionHandler.disposables.add(new a.f(f,"click")),o=t.actionHandler.disposables.add(new a.f(f,"auxclick"));t.actionHandler.disposables.add(d.Jh.any(r.event,o.event)(e=>{const t=new c.P(i.zk(f),e);(t.leftButton||t.middleButton)&&n(t)})),t.actionHandler.disposables.add(i.ko(f,"keydown",e=>{const t=new s.Z(e);(t.equals(10)||t.equals(3))&&n(t)}))}e.supportHtml||(N.html=({text:n})=>t.sanitizerOptions?.replaceWithPlaintext?(0,b.ih)(n):(e.isTrusted?n.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?n:""),n.renderer=N;let S,D=e.value??"";if(D.length>1e5&&(D=`${D.substr(0,1e5)}…`),e.supportThemeIcons&&(D=(0,p.sA)(D)),t.fillInIncompleteTokens){const e={...y.NT,...n},t=function(e){for(let t=0;t<$;t++){const t=W(e);if(!t)break;e=t}return e}(y.lu(D,e));S=y.K3(t,e)}else S=y.qg(D,{...n,async:!1});e.supportThemeIcons&&(S=(0,l.n)(S).map(e=>"string"==typeof e?e:e.outerHTML).join(""));const I=(new DOMParser).parseFromString(R({isTrusted:e.isTrusted,...t.sanitizerOptions},S),"text/html");if(I.body.querySelectorAll("img, audio, video, source").forEach(n=>{const r=n.getAttribute("src");if(r){let a=r;try{e.baseUri&&(a=P(C.r.from(e.baseUri),a))}catch(e){}if(n.setAttribute("src",E(a,!0)),t.remoteImageIsAllowed){const e=C.r.parse(a);e.scheme===k.ny.file||e.scheme===k.ny.data||t.remoteImageIsAllowed(e)||n.replaceWith(i.$("",void 0,n.outerHTML))}}}),I.body.querySelectorAll("a").forEach(t=>{const n=t.getAttribute("href");if(t.setAttribute("href",""),!n||/^data:|javascript:/i.test(n)||/^command:/i.test(n)&&!e.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(n))t.replaceWith(...t.childNodes);else{let i=E(n,!1);e.baseUri&&(i=P(C.r.from(e.baseUri),n)),t.dataset.href=i}}),f.innerHTML=R({isTrusted:e.isTrusted,...t.sanitizerOptions},I.body.innerHTML),A.length>0)Promise.all(A).then(e=>{if(u)return;const n=new Map(e),r=f.querySelectorAll("div[data-code]");for(const e of r){const t=n.get(e.dataset.code??"");t&&i.Ln(e,t)}t.asyncRenderCallback?.()});else if(M.length>0){const e=new Map(M),t=f.querySelectorAll("div[data-code]");for(const n of t){const t=e.get(n.dataset.code??"");t&&i.Ln(n,t)}}if(t.asyncRenderCallback)for(const e of f.getElementsByTagName("img")){const n=r.add(i.ko(e,"load",()=>{n.dispose(),t.asyncRenderCallback()}))}return{element:f,dispose:()=>{u=!0,r.dispose()}}}function x(e){if(!e)return"";const t=e.split(/[\s+|:|,|\{|\?]/,1);return t.length?t[0]:e}function P(e,t){return/^\w[\w\d+.-]*:/.test(t)?t:e.path.endsWith("/")?(0,T.o1)(e,t).toString():(0,T.o1)((0,T.pD)(e),t).toString()}const N=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function R(e,t){const{config:n,allowedSchemes:a}=function(e){const t=[k.ny.http,k.ny.https,k.ny.mailto,k.ny.data,k.ny.file,k.ny.vscodeFileResource,k.ny.vscodeRemote,k.ny.vscodeRemoteResource];return e.isTrusted&&t.push(k.ny.command),{config:{ALLOWED_TAGS:e.allowedTags??[...i.TT],ALLOWED_ATTR:A,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:t}}(e),o=new m.Cm;o.add(Q("uponSanitizeAttribute",(e,t)=>{if("style"!==t.attrName&&"class"!==t.attrName){if("INPUT"===e.tagName&&"checkbox"===e.attributes.getNamedItem("type")?.value){if("type"===t.attrName&&"checkbox"===t.attrValue||"disabled"===t.attrName||"checked"===t.attrName)return void(t.keepAttr=!0);t.keepAttr=!1}}else{if("SPAN"===e.tagName){if("style"===t.attrName)return void(t.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(border-radius:[0-9]+px;)?$/.test(t.attrValue));if("class"===t.attrName)return void(t.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(t.attrValue))}t.keepAttr=!1}})),o.add(Q("uponSanitizeElement",(t,n)=>{if("input"===n.tagName&&("checkbox"===t.attributes.getNamedItem("type")?.value?t.setAttribute("disabled",""):e.replaceWithPlaintext||t.remove()),e.replaceWithPlaintext&&!n.allowedTags[n.tagName]&&"body"!==n.tagName&&t.parentElement){let e,i;if("#comment"===n.tagName)e=`\x3c!--${t.textContent}--\x3e`;else{const r=N.includes(n.tagName),a=t.attributes.length?" "+Array.from(t.attributes).map(e=>`${e.name}="${e.value}"`).join(" "):"";e=`<${n.tagName}${a}>`,r||(i=`</${n.tagName}>`)}const r=document.createDocumentFragment(),a=t.parentElement.ownerDocument.createTextNode(e);r.appendChild(a);const o=i?t.parentElement.ownerDocument.createTextNode(i):void 0;for(;t.firstChild;)r.appendChild(t.firstChild);o&&r.appendChild(o),t.nodeType===Node.COMMENT_NODE?t.parentElement.insertBefore(r,t):t.parentElement.replaceChild(r,t)}})),o.add(i.a4(a));try{return r.aj(t,{...n,RETURN_TRUSTED_TYPE:!0})}finally{o.dispose()}}const A=["align","autoplay","alt","checked","class","colspan","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","rowspan","src","style","target","title","type","width","start"];function M(e){return"string"==typeof e?e:function(e){let t=e.value??"";return t.length>1e5&&(t=`${t.substr(0,1e5)}…`),R({isTrusted:!1},y.qg(t,{async:!1,renderer:I.value}).replace(/&(#\d+|[a-zA-Z]+);/g,e=>S.get(e)??e)).toString()}(e)}const S=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]);function D(){const e=new y.A4;return e.code=({text:e})=>e,e.blockquote=({text:e})=>e+"\n",e.html=e=>"",e.heading=function({tokens:e}){return this.parser.parseInline(e)+"\n"},e.hr=()=>"",e.list=function({items:e}){return e.map(e=>this.listitem(e)).join("\n")+"\n"},e.listitem=({text:e})=>e+"\n",e.paragraph=function({tokens:e}){return this.parser.parseInline(e)+"\n"},e.table=function({header:e,rows:t}){return e.map(e=>this.tablecell(e)).join(" ")+"\n"+t.map(e=>e.map(e=>this.tablecell(e)).join(" ")).join("\n")+"\n"},e.tablerow=({text:e})=>e,e.tablecell=function({tokens:e}){return this.parser.parseInline(e)},e.strong=({text:e})=>e,e.em=({text:e})=>e,e.codespan=({text:e})=>e,e.br=e=>"\n",e.del=({text:e})=>e,e.image=e=>"",e.text=({text:e})=>e,e.link=({text:e})=>e,e}const I=new f.d(e=>D());new f.d(()=>{const e=D();return e.code=({text:e})=>`\n\`\`\`\n${e}\n\`\`\`\n`,e});function O(e){let t="";return e.forEach(e=>{t+=e.raw}),t}function X(e){if(e.tokens)for(let t=e.tokens.length-1;t>=0;t--){const n=e.tokens[t];if("text"===n.type){const i=n.raw.split("\n"),r=i[i.length-1];if(r.includes("`"))return z(e);if(r.includes("**"))return H(e);if(r.match(/\*\w/))return B(e);if(r.match(/(^|\s)__\w/))return F(e);if(r.match(/(^|\s)_\w/))return U(e);if(K(r)||Y(r)&&e.tokens.slice(0,t).some(e=>"text"===e.type&&e.raw.match(/\[[^\]]*$/))){const n=e.tokens.slice(t+1);return"link"===n[0]?.type&&"text"===n[1]?.type&&n[1].raw.match(/^ *"[^"]*$/)||r.match(/^[^"]* +"[^"]*$/)?q(e):j(e)}if(r.match(/(^|\s)\[\w*/))return G(e)}}}function K(e){return!!e.match(/(^|\s)\[.*\]\(\w*/)}function Y(e){return!!e.match(/^[^\[]*\]\([^\)]*$/)}function L(e){const t=e.items[e.items.length-1],n=t.tokens?t.tokens[t.tokens.length-1]:void 0;let i;if("text"!==n?.type||"inRawBlock"in t||(i=X(n)),!i||"paragraph"!==i.type)return;const r=O(e.items.slice(0,-1)),a=t.raw.match(/^(\s*(-|\d+\.|\*) +)/)?.[0];if(!a)return;const o=a+O(t.tokens.slice(0,-1))+i.raw,s=y.lu(r+o)[0];return"list"===s.type?s:void 0}const $=3;function W(e){let t,n;for(t=0;t<e.length;t++){const i=e[t];if("paragraph"===i.type&&i.raw.match(/(\n|^)\|/)){n=Z(e.slice(t));break}if(t===e.length-1&&"list"===i.type){const e=L(i);if(e){n=[e];break}}if(t===e.length-1&&"paragraph"===i.type){const e=X(i);if(e){n=[e];break}}}if(n){const i=[...e.slice(0,t),...n];return i.links=e.links,i}return null}function z(e){return V(e,"`")}function B(e){return V(e,"*")}function U(e){return V(e,"_")}function j(e){return V(e,")")}function q(e){return V(e,'")')}function G(e){return V(e,"](https://microsoft.com)")}function H(e){return V(e,"**")}function F(e){return V(e,"__")}function V(e,t){const n=O(Array.isArray(e)?e:[e]);return y.lu(n+t)[0]}function Z(e){const t=O(e),n=t.split("\n");let i,r=!1;for(let e=0;e<n.length;e++){const t=n[e].trim();if(void 0===i&&t.match(/^\s*\|/)){const e=t.match(/(\|[^\|]+)(?=\||$)/g);e&&(i=e.length)}else if("number"==typeof i){if(!t.match(/^\s*\|/))return;if(e!==n.length-1)return;r=!0}}if("number"==typeof i&&i>0){const e=r?n.slice(0,-1).join("\n"):t,a=!!e.match(/\|\s*$/),o=e+(a?"":"|")+`\n|${" --- |".repeat(i)}`;return y.lu(o)}}function Q(e,t){return r.$w(e,t),(0,m.s)(()=>r.SV(e))}}}]);