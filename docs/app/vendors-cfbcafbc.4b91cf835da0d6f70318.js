"use strict";(self.webpackChunk_docstack_ui=self.webpackChunk_docstack_ui||[]).push([[5391],{11195:(t,e,n)=>{n.d(e,{B5:()=>_,DB:()=>h,Gm:()=>u,JK:()=>c,UD:()=>i,_9:()=>d,_W:()=>$,cn:()=>f,i7:()=>s});var r=n(6418),o=n(96676);function c(t,e){for(var n=t,r=0,o=e.length;r<o&&(n=n[e[r]]);r++);return n}function u(t,e,n){for(var r=0,o=e.length;r<o-1;r++){var c=e[r];t=t[c]=t[c]||{}}t[e[o-1]]=n}function i(t,e){return t<e?-1:t>e?1:0}function f(t){for(var e=[],n="",r=0,o=t.length;r<o;r++){var c=t[r];r>0&&"\\"===t[r-1]&&("$"===c||"."===c)?n=n.substring(0,n.length-1)+c:"."===c?(e.push(n),n=""):n+=c}return e.push(n),e}var a=["$or","$nor","$not"];function l(t){return a.indexOf(t)>-1}function s(t){return Object.keys(t)[0]}function $(t){return t[s(t)]}function y(t){var e={},n={$or:!0,$nor:!0};return t.forEach((function(t){Object.keys(t).forEach((function(r){var o=t[r];if("object"!=typeof o&&(o={$eq:o}),l(r))if(o instanceof Array){if(n[r])return n[r]=!1,void(e[r]=o);var c=[];e[r].forEach((function(t){Object.keys(o).forEach((function(e){var n=o[e],r=Math.max(Object.keys(t).length,Object.keys(n).length),u=y([t,n]);Object.keys(u).length<=r||c.push(u)}))})),e[r]=c}else e[r]=y([o]);else{var u=e[r]=e[r]||{};Object.keys(o).forEach((function(t){var e=o[t];return"$gt"===t||"$gte"===t?function(t,e,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===t?e>n.$gte&&(n.$gte=e):e>=n.$gte&&(delete n.$gte,n.$gt=e):void 0!==n.$gt?"$gte"===t?e>n.$gt&&(delete n.$gt,n.$gte=e):e>n.$gt&&(n.$gt=e):n[t]=e)}(t,e,u):"$lt"===t||"$lte"===t?function(t,e,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===t?e<n.$lte&&(n.$lte=e):e<=n.$lte&&(delete n.$lte,n.$lt=e):void 0!==n.$lt?"$lte"===t?e<n.$lt&&(delete n.$lt,n.$lte=e):e<n.$lt&&(n.$lt=e):n[t]=e)}(t,e,u):"$ne"===t?function(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}(e,u):"$eq"===t?function(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}(e,u):"$regex"===t?function(t,e){"$regex"in e?e.$regex.push(t):e.$regex=[t]}(e,u):void(u[t]=e)}))}}))})),e}function p(t){for(var e in t){if(Array.isArray(t))for(var n in t)t[n].$and&&(t[n]=y(t[n].$and));var r=t[e];"object"==typeof r&&p(r)}return t}function v(t,e){for(var n in t){"$and"===n&&(e=!0);var r=t[n];"object"==typeof r&&(e=v(r,e))}return e}function h(t){var e=(0,r.o8)(t);v(e,!1)&&"$and"in(e=p(e))&&(e=y(e.$and)),["$or","$nor"].forEach((function(t){t in e&&e[t].forEach((function(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var r=e[n],o=t[r];"object"==typeof o&&null!==o||(t[r]={$eq:o})}}))})),"$not"in e&&(e.$not=y([e.$not]));for(var n=Object.keys(e),o=0;o<n.length;o++){var c=n[o],u=e[c];"object"==typeof u&&null!==u||(u={$eq:u}),e[c]=u}return g(e),e}function g(t){Object.keys(t).forEach((function(e){var n=t[e];Array.isArray(n)?n.forEach((function(t){t&&"object"==typeof t&&g(t)})):"$ne"===e?t.$ne=[n]:"$regex"===e?t.$regex=[n]:n&&"object"==typeof n&&g(n)}))}function d(t,e,n){if(t=t.filter((function(t){return b(t.doc,e.selector,n)})),e.sort){var r=function(t){function e(e){return t.map((function(t){var n=f(s(t));return c(e,n)}))}return function(t,n){var r=e(t.doc),c=e(n.doc),u=(0,o.Zc)(r,c);return 0!==u?u:i(t.doc._id,n.doc._id)}}(e.sort);t=t.sort(r),"string"!=typeof e.sort[0]&&"desc"===$(e.sort[0])&&(t=t.reverse())}if("limit"in e||"skip"in e){var u=e.skip||0,a=("limit"in e?e.limit:t.length)+u;t=t.slice(u,a)}return t}function b(t,e,n){return n.every((function(n){var r=e[n],o=f(n),u=c(t,o);return l(n)?function(t,e,n){return"$or"===t?e.some((function(t){return b(n,t,Object.keys(t))})):"$not"===t?!b(n,e,Object.keys(e)):!e.find((function(t){return b(n,t,Object.keys(t))}))}(n,r,t):j(r,t,o,u)}))}function j(t,e,n,r){return!t||("object"==typeof t?Object.keys(t).every((function(o){var u=t[o];if(0===o.indexOf("$"))return O(o,e,u,n,r);var i=f(o);if(void 0===r&&"object"!=typeof u&&i.length>0)return!1;var a=c(r,i);return"object"==typeof u?j(u,e,n,a):O("$eq",e,u,i,a)})):t===r)}function O(t,e,n,r,o){if(!w[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return w[t](e,n,r,o)}function k(t){return null!=t}function m(t){return void 0!==t}function A(t,e){return e.some((function(e){return t instanceof Array?t.some((function(t){return 0===(0,o.Zc)(e,t)})):0===(0,o.Zc)(e,t)}))}var w={$elemMatch:function(t,e,n,r){return!!Array.isArray(r)&&0!==r.length&&("object"==typeof r[0]&&null!==r[0]?r.some((function(t){return b(t,e,Object.keys(e))})):r.some((function(r){return j(e,t,n,r)})))},$allMatch:function(t,e,n,r){return!!Array.isArray(r)&&0!==r.length&&("object"==typeof r[0]&&null!==r[0]?r.every((function(t){return b(t,e,Object.keys(e))})):r.every((function(r){return j(e,t,n,r)})))},$eq:function(t,e,n,r){return m(r)&&0===(0,o.Zc)(r,e)},$gte:function(t,e,n,r){return m(r)&&(0,o.Zc)(r,e)>=0},$gt:function(t,e,n,r){return m(r)&&(0,o.Zc)(r,e)>0},$lte:function(t,e,n,r){return m(r)&&(0,o.Zc)(r,e)<=0},$lt:function(t,e,n,r){return m(r)&&(0,o.Zc)(r,e)<0},$exists:function(t,e,n,r){return e?m(r):!m(r)},$mod:function(t,e,n,r){return k(r)&&function(t,e){return"number"==typeof t&&parseInt(t,10)===t&&t%e[0]===e[1]}(r,e)},$ne:function(t,e,n,r){return e.every((function(t){return 0!==(0,o.Zc)(r,t)}))},$in:function(t,e,n,r){return k(r)&&A(r,e)},$nin:function(t,e,n,r){return k(r)&&!A(r,e)},$size:function(t,e,n,r){return k(r)&&Array.isArray(r)&&function(t,e){return t.length===e}(r,e)},$all:function(t,e,n,r){return Array.isArray(r)&&function(t,e){return e.every((function(e){return t.some((function(t){return 0===(0,o.Zc)(e,t)}))}))}(r,e)},$regex:function(t,e,n,r){return k(r)&&"string"==typeof r&&e.every((function(t){return function(t,e){return new RegExp(e).test(t)}(r,t)}))},$type:function(t,e,n,r){return function(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}}(r,e)}};function _(t,e){if("object"!=typeof e)throw new Error("Selector error: expected a JSON object");var n=d([{doc:t}],{selector:e=h(e)},Object.keys(e));return n&&1===n.length}},6418:(t,e,n)=>{n.d(e,{Bq:()=>y,Vx:()=>p,dY:()=>o.a,el:()=>v,hq:()=>l,kp:()=>$,o8:()=>a,ue:()=>s}),n(37709);var r=n(49659),o=n.n(r),c=(n(36791),n(50046)),u=n.n(c);n(6418),n(87689);var i=Function.prototype.toString,f=i.call(Object);function a(t){var e,n,r;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],n=0,r=t.length;n<r;n++)e[n]=a(t[n]);return e}if(t instanceof Date&&isFinite(t))return t.toISOString();if(function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}(t))return function(t){if(t instanceof ArrayBuffer)return function(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}(t);var e=t.size,n=t.type;return"function"==typeof t.slice?t.slice(0,e,n):t.webkitSlice(0,e,n)}(t);if(!function(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&i.call(n)==f}(t))return t;for(n in e={},t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=a(t[n]);void 0!==o&&(e[n]=o)}return e}function l(t){return function(...e){e=a(e);var n=this,r="function"==typeof e[e.length-1]&&e.pop(),o=new Promise((function(r,o){var c,u,i;try{var f=(u=function(t,e){t?o(t):r(e)},i=!1,function(...t){if(i)throw new Error("once called more than once");i=!0,u.apply(this,t)});e.push(f),(c=t.apply(n,e))&&"function"==typeof c.then&&r(c)}catch(t){o(t)}}));return r&&o.then((function(t){r(null,t)}),r),o}}try{localStorage.setItem("_pouch_check_localstorage",1),localStorage.getItem("_pouch_check_localstorage")}catch(t){}function s(t){if("undefined"!=typeof console&&"function"==typeof console[t]){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}u();var $="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};function y(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}function p(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(s("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function v(t,e,n){return t.get(e).catch((function(t){if(404!==t.status)throw t;return{}})).then((function(r){var o=r._rev,c=n(r);return c?(c._id=e,c._rev=o,function(t,e,n){return t.put(e).then((function(t){return{updated:!0,rev:t.rev}}),(function(r){if(409!==r.status)throw r;return v(t,e._id,n)}))}(t,c,n)):{updated:!1,rev:o}}))}}}]);